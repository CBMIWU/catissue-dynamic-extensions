dhtmlx=function(a){for(var b in a)dhtmlx[b]=a[b];return dhtmlx};
dhtmlx.extend_api=function(a,b,c){var d=window[a];d&&(window[a]=function(a){if(a&&"object"==typeof a&&!a.tagName&&!(a instanceof Array)){var c=d.apply(this,b._init?b._init(a):arguments),l;for(l in dhtmlx)if(b[l])this[b[l]](dhtmlx[l]);for(l in a)if(b[l])this[b[l]](a[l]);else 0==l.indexOf("on")&&this.attachEvent(l,a[l])}else c=d.apply(this,arguments);b._patch&&b._patch(this);return c||this},window[a].prototype=d.prototype,c&&dhtmlXHeir(window[a].prototype,c))};
dhtmlxAjax={get:function(a,b){var c=new dtmlXMLLoaderObject(!0);c.async=3>arguments.length;c.waitCall=b;c.loadXML(a);return c},post:function(a,b,c){var d=new dtmlXMLLoaderObject(!0);d.async=4>arguments.length;d.waitCall=c;d.loadXML(a,!0,b);return d},getSync:function(a){return this.get(a,null,!0)},postSync:function(a,b){return this.post(a,b,null,!0)}};
function dtmlXMLLoaderObject(a,b,c,d){this.xmlDoc="";this.async="undefined"!=typeof c?c:!0;this.onloadAction=a||null;this.mainObject=b||null;this.waitCall=null;this.rSeed=d||!1;return this}
dtmlXMLLoaderObject.prototype.waitLoadFunction=function(a){var b=!0;return this.check=function(){if(a&&null!=a.onloadAction&&(!a.xmlDoc.readyState||4==a.xmlDoc.readyState)&&b){b=!1;if("function"==typeof a.onloadAction)a.onloadAction(a.mainObject,null,null,null,a);a.waitCall&&(a.waitCall.call(this,a),a.waitCall=null)}}};
dtmlXMLLoaderObject.prototype.getXMLTopNode=function(a,b){if(this.xmlDoc.responseXML){var c=this.xmlDoc.responseXML.getElementsByTagName(a);0==c.length&&-1!=a.indexOf(":")&&(c=this.xmlDoc.responseXML.getElementsByTagName(a.split(":")[1]));c=c[0]}else c=this.xmlDoc.documentElement;if(c)return this._retry=!1,c;if(_isIE&&!this._retry)return c=this.xmlDoc.responseText,b=this.xmlDoc,this._retry=!0,this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=!1,this.xmlDoc.loadXML(c),this.getXMLTopNode(a,
b);dhtmlxError.throwError("LoadXML","Incorrect XML",[b||this.xmlDoc,this.mainObject]);return document.createElement("DIV")};dtmlXMLLoaderObject.prototype.loadXMLString=function(a){try{this.xmlDoc=(new DOMParser).parseFromString(a,"text/xml")}catch(b){this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.loadXML(a)}this.onloadAction(this.mainObject,null,null,null,this);this.waitCall&&(this.waitCall(),this.waitCall=null)};
dtmlXMLLoaderObject.prototype.loadXML=function(a,b,c,d){this.rSeed&&(a+=(-1!=a.indexOf("?")?"&":"?")+"a_dhx_rSeed="+(new Date).valueOf());this.filePath=a;if(!_isIE&&window.XMLHttpRequest)this.xmlDoc=new XMLHttpRequest;else{if(document.implementation&&document.implementation.createDocument){this.xmlDoc=document.implementation.createDocument("","",null);this.xmlDoc.onload=new this.waitLoadFunction(this);this.xmlDoc.load(a);return}this.xmlDoc=new ActiveXObject("Microsoft.XMLHTTP")}this.async&&(this.xmlDoc.onreadystatechange=
new this.waitLoadFunction(this));this.xmlDoc.open(b?"POST":"GET",a,this.async);d?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type","text/xml")):b&&this.xmlDoc.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest");this.xmlDoc.send(c);this.async||(new this.waitLoadFunction(this))()};
dtmlXMLLoaderObject.prototype.destructor=function(){return this.xmlDoc=this.mainObject=this.onloadAction=null};dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(a){for(var b={},c=0;c<a.attributes.length;c++)b[a.attributes[c].name]=a.attributes[c].value;b._tagvalue=a.firstChild?a.firstChild.nodeValue:"";for(c=0;c<a.childNodes.length;c++){var d=a.childNodes[c].tagName;d&&(b[d]||(b[d]=[]),b[d].push(this.xmlNodeToJSON(a.childNodes[c])))}return b};
function callerFunction(a,b){return this.handler=function(c){c||(c=window.event);a(c,b);return!0}}function getAbsoluteLeft(a){return getOffset(a).left}function getAbsoluteTop(a){return getOffset(a).top}function getOffsetSum(a){for(var b=0,c=0;a;)b+=parseInt(a.offsetTop),c+=parseInt(a.offsetLeft),a=a.offsetParent;return{top:b,left:c}}
function getOffsetRect(a){var a=a.getBoundingClientRect(),b=document.body,c=document.documentElement,d=a.left+(window.pageXOffset||c.scrollLeft||b.scrollLeft)-(c.clientLeft||b.clientLeft||0);return{top:Math.round(a.top+(window.pageYOffset||c.scrollTop||b.scrollTop)-(c.clientTop||b.clientTop||0)),left:Math.round(d)}}function getOffset(a){return a.getBoundingClientRect&&!_isChrome?getOffsetRect(a):getOffsetSum(a)}
function convertStringToBoolean(a){"string"==typeof a&&(a=a.toLowerCase());switch(a){case "1":case "true":case "yes":case "y":case 1:case !0:return!0;default:return!1}}function getUrlSymbol(a){return-1!=a.indexOf("?")?"&":"?"}function dhtmlDragAndDropObject(){if(window.dhtmlDragAndDrop)return window.dhtmlDragAndDrop;this.dragStartObject=this.dragStartNode=this.dragNode=this.lastLanding=0;this.tempDOMM=this.tempDOMU=null;this.waitDrag=0;window.dhtmlDragAndDrop=this;return this}
dhtmlDragAndDropObject.prototype.removeDraggableItem=function(a){a.onmousedown=null;a.dragStarter=null;a.dragLanding=null};dhtmlDragAndDropObject.prototype.addDraggableItem=function(a,b){a.onmousedown=this.preCreateDragCopy;a.dragStarter=b;this.addDragLanding(a,b)};dhtmlDragAndDropObject.prototype.addDragLanding=function(a,b){a.dragLanding=b};
dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(a){if(!((a||event)&&2==(a||event).button)){if(window.dhtmlDragAndDrop.waitDrag)return window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM,!1;window.dhtmlDragAndDrop.waitDrag=1;window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup;window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove;window.dhtmlDragAndDrop.dragStartNode=this;window.dhtmlDragAndDrop.dragStartObject=
this.dragStarter;document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy;document.body.onmousemove=window.dhtmlDragAndDrop.callDrag;window.dhtmlDragAndDrop.downtime=(new Date).valueOf();a&&a.preventDefault&&a.preventDefault();return!1}};
dhtmlDragAndDropObject.prototype.callDrag=function(a){a||(a=window.event);dragger=window.dhtmlDragAndDrop;if(!(100>(new Date).valueOf()-dragger.downtime)){if(0==a.button&&_isIE)return dragger.stopDrag();if(!dragger.dragNode&&dragger.waitDrag){dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,a);if(!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return!1};dragger.gldragNode=dragger.dragNode;document.body.appendChild(dragger.dragNode);
document.body.onmouseup=dragger.stopDrag;dragger.waitDrag=0;dragger.dragNode.pWindow=window;dragger.initFrameRoute()}if(dragger.dragNode.parentNode!=window.document.body){var b=dragger.gldragNode;dragger.gldragNode.old&&(b=dragger.gldragNode.old);b.parentNode.removeChild(b);b=dragger.dragNode.pWindow;if(_isIE){var c=document.createElement("Div");c.innerHTML=dragger.dragNode.outerHTML;dragger.dragNode=c.childNodes[0]}else dragger.dragNode=dragger.dragNode.cloneNode(!0);dragger.dragNode.pWindow=window;
dragger.gldragNode.old=dragger.dragNode;document.body.appendChild(dragger.dragNode);b.dhtmlDragAndDrop.dragNode=dragger.dragNode}dragger.dragNode.style.left=a.clientX+15+(dragger.fx?-1*dragger.fx:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px";dragger.dragNode.style.top=a.clientY+3+(dragger.fy?-1*dragger.fy:0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px";dragger.checkLanding(a.srcElement?a.srcElement:a.target,a)}};
dhtmlDragAndDropObject.prototype.calculateFramePosition=function(a){if(window.name){for(var b=parent.frames[window.name].frameElement.offsetParent,c=0,d=0;b;)c+=b.offsetLeft,d+=b.offsetTop,b=b.offsetParent;parent.dhtmlDragAndDrop&&(b=parent.dhtmlDragAndDrop.calculateFramePosition(1),c+=1*b.split("_")[0],d+=1*b.split("_")[1]);if(a)return c+"_"+d;this.fx=c;this.fy=d}return"0_0"};
dhtmlDragAndDropObject.prototype.checkLanding=function(a,b){a&&a.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=a,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,b.clientX,b.clientY,b),this.lastLanding_scr=_isIE?b.srcElement:b.target):a&&"BODY"!=a.tagName?this.checkLanding(a.parentNode,b):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,b.clientX,b.clientY,b),this.lastLanding=
0,this._onNotFound&&this._onNotFound())};
dhtmlDragAndDropObject.prototype.stopDrag=function(a,b){dragger=window.dhtmlDragAndDrop;if(!b){dragger.stopFrameRoute();var c=dragger.lastLanding;dragger.lastLanding=null;c&&c.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,c,_isIE?event.srcElement:a.target)}dragger.lastLanding=null;dragger.dragNode&&dragger.dragNode.parentNode==document.body&&dragger.dragNode.parentNode.removeChild(dragger.dragNode);dragger.dragNode=0;dragger.gldragNode=0;dragger.fx=0;dragger.fy=0;dragger.dragStartNode=
0;dragger.dragStartObject=0;document.body.onmouseup=dragger.tempDOMU;document.body.onmousemove=dragger.tempDOMM;dragger.tempDOMU=null;dragger.tempDOMM=null;dragger.waitDrag=0};
dhtmlDragAndDropObject.prototype.stopFrameRoute=function(a){a&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var b=0;b<window.frames.length;b++)try{window.frames[b]!=a&&window.frames[b].dhtmlDragAndDrop&&window.frames[b].dhtmlDragAndDrop.stopFrameRoute(window)}catch(c){}try{parent.dhtmlDragAndDrop&&(parent!=window&&parent!=a)&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(d){}};
dhtmlDragAndDropObject.prototype.initFrameRoute=function(a,b){a&&(window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=a.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=a.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=a.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=a.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&b&&(!_isFF||1.8>_FFrv)&&window.dhtmlDragAndDrop.calculateFramePosition());
try{parent.dhtmlDragAndDrop&&(parent!=window&&parent!=a)&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(c){}for(var d=0;d<window.frames.length;d++)try{window.frames[d]!=a&&window.frames[d].dhtmlDragAndDrop&&window.frames[d].dhtmlDragAndDrop.initFrameRoute(window,!a||b?1:0)}catch(g){}};var _isFF=!1,_isIE=!1,_isOpera=!1,_isKHTML=!1,_isMacOS=!1,_isChrome=!1;-1!=navigator.userAgent.indexOf("Macintosh")&&(_isMacOS=!0);-1<navigator.userAgent.toLowerCase().indexOf("chrome")&&(_isChrome=!0);
if(-1!=navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Konqueror")){var _KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5));if(525<_KHTMLrv)var _isFF=!0,_FFrv=1.9;else _isKHTML=!0}else-1!=navigator.userAgent.indexOf("Opera")?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):-1!=navigator.appName.indexOf("Microsoft")?(_isIE=!0,-1!=navigator.appVersion.indexOf("MSIE 8.0")&&"BackCompat"!=
document.compatMode&&(_isIE=8)):(_isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1]));
dtmlXMLLoaderObject.prototype.doXPath=function(a,b,c,d){if(_isKHTML||!_isIE&&!window.XPathResult)return this.doXPathOpera(a,b);if(_isIE)return b||(b=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),b||dhtmlxError.throwError("LoadXML","Incorrect XML",[b||this.xmlDoc,this.mainObject]),null!=c&&b.setProperty("SelectionNamespaces","xmlns:xsl='"+c+"'"),"single"==d?b.selectSingleNode(a):b.selectNodes(a)||[];var g=b;b||(b=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML);b||dhtmlxError.throwError("LoadXML",
"Incorrect XML",[b||this.xmlDoc,this.mainObject]);-1!=b.nodeName.indexOf("document")?g=b:(g=b,b=b.ownerDocument);var h=XPathResult.ANY_TYPE;"single"==d&&(h=XPathResult.FIRST_ORDERED_NODE_TYPE);d=[];a=b.evaluate(a,g,function(){return c},h,null);if(h==XPathResult.FIRST_ORDERED_NODE_TYPE)return a.singleNodeValue;for(h=a.iterateNext();h;)d[d.length]=h,h=a.iterateNext();return d};function _dhtmlxError(){this.catches||(this.catches=[]);return this}
_dhtmlxError.prototype.catchError=function(a,b){this.catches[a]=b};_dhtmlxError.prototype.throwError=function(a,b,c){if(this.catches[a])return this.catches[a](a,b,c);if(this.catches.ALL)return this.catches.ALL(a,b,c);alert("Error type: "+a+"\nDescription: "+b);return null};window.dhtmlxError=new _dhtmlxError;
dtmlXMLLoaderObject.prototype.doXPathOpera=function(a,b){var c=a.replace(/[\/]+/gi,"/").split("/"),d=null,g=1;if(!c.length)return[];if("."==c[0])d=[b];else if(""==c[0])d=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(c[g].replace(/\[[^\]]*\]/g,"")),g++;else return[];for(g;g<c.length;g++)d=this._getAllNamedChilds(d,c[g]);-1!=c[g-1].indexOf("[")&&(d=this._filterXPath(d,c[g-1]));return d};
dtmlXMLLoaderObject.prototype._filterXPath=function(a,b){for(var c=[],b=b.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,""),d=0;d<a.length;d++)a[d].getAttribute(b)&&(c[c.length]=a[d]);return c};
dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(a,b){var c=[];_isKHTML&&(b=b.toUpperCase());for(var d=0;d<a.length;d++)for(var g=0;g<a[d].childNodes.length;g++)_isKHTML?a[d].childNodes[g].tagName&&a[d].childNodes[g].tagName.toUpperCase()==b&&(c[c.length]=a[d].childNodes[g]):a[d].childNodes[g].tagName==b&&(c[c.length]=a[d].childNodes[g]);return c};function dhtmlXHeir(a,b){for(var c in b)"function"==typeof b[c]&&(a[c]=b[c]);return a}
function dhtmlxEvent(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}dtmlXMLLoaderObject.prototype.xslDoc=null;dtmlXMLLoaderObject.prototype.setXSLParamValue=function(a,b,c){c||(c=this.xslDoc);c.responseXML&&(c=c.responseXML);a=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+a+"']",c,"http://www.w3.org/1999/XSL/Transform","single");null!=a&&(a.firstChild.nodeValue=b)};
dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(a,b){a||(a=this.xslDoc);a.responseXML&&(a=a.responseXML);b||(b=this.xmlDoc);b.responseXML&&(b=b.responseXML);if(_isIE){d=new ActiveXObject("Msxml2.DOMDocument.3.0");try{b.transformNodeToObject(a,d)}catch(c){d=b.transformNode(a)}}else{this.XSLProcessor||(this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(a));var d=this.XSLProcessor.transformToDocument(b)}return d};
dtmlXMLLoaderObject.prototype.doXSLTransToString=function(a,b){var c=this.doXSLTransToObject(a,b);return"string"==typeof c?c:this.doSerialization(c)};dtmlXMLLoaderObject.prototype.doSerialization=function(a){a||(a=this.xmlDoc);a.responseXML&&(a=a.responseXML);return _isIE?a.xml:(new XMLSerializer).serializeToString(a)};
dhtmlxEventable=function(a){a.dhx_SeverCatcherPath="";a.attachEvent=function(a,c,d){a="ev_"+a.toLowerCase();this[a]||(this[a]=new this.eventCatcher(d||this));return a+":"+this[a].addEvent(c)};a.callEvent=function(a,c){a="ev_"+a.toLowerCase();return this[a]?this[a].apply(this,c):!0};a.checkEvent=function(a){return!!this["ev_"+a.toLowerCase()]};a.eventCatcher=function(a){var c=[],d=function(){for(var d=!0,h=0;h<c.length;h++)if(null!=c[h])var l=c[h].apply(a,arguments),d=d&&l;return d};d.addEvent=function(a){"function"!=
typeof a&&(a=eval(a));return a?c.push(a)-1:!1};d.removeEvent=function(a){c[a]=null};return d};a.detachEvent=function(a){!1!=a&&(a=a.split(":"),this[a[0]].removeEvent(a[1]))}};function dhtmlxDblCalendarObject(a,b,c){this.scriptName="dhtmlxcalendar.js";this.entObj=document.createElement("DIV");this.winHeader=null;this.style="dhtmlxdblcalendar";this.uid="sc&dblCal"+Math.round(1E6*Math.random());this.numLoaded=2;this.options={isWinHeader:!1,headerText:"dhtmlxDblCalendarObject",headerButtons:"",isWinDrag:!1,msgClose:"Close",msgMinimize:"Minimize",msgToday:"Today",msgClear:"Clear"};if(c)for(x in c)this.options[x]=c[x];this.entBox=document.createElement("TABLE");this.entBox.cellPadding=
"0px";this.entBox.cellSpacing="0px";this.entBox.className=this.style;this.entObj.appendChild(this.entBox);var d=this.entBox.insertRow(0),c=d.insertCell(0);c.style.paddingRight="2px";d=d.insertCell(1);this.leftCalendar=new dhtmlxCalendarObject(c,!1,this.options);this.leftCalendar._dblC=this;this.leftCalendar.setOnClickHandler(this.doOnCLeftClick);this.rightCalendar=new dhtmlxCalendarObject(d,!1,this.options);this.rightCalendar._dblC=this;this.rightCalendar.setOnClickHandler(this.doOnCRightClick);this.onLanguageLoaded=
this.doOnClick=null;this.getPosition=this.leftCalendar.getPosition;this.startDrag=this.leftCalendar.startDrag;this.stopDrag=this.leftCalendar.stopDrag;this.onDrag=this.leftCalendar.onDrag;this.drawHeader=this.leftCalendar.drawHeader;dhtmlxEventable(this);this.con="string"!=typeof a?a:document.getElementById(a);b&&this.draw()}dhtmlXDblCalendarObject=dhtmlxDblCalendarObject;
dhtmlxDblCalendarObject.prototype.setHeader=function(a,b,c){this.leftCalendar.options.isWinHeader=this.options.isWinHeader=a;this.leftCalendar.options.isWinDrag=this.options.isWinDrag=b;c&&(this.options.headerButtons=this.leftCalendar.options.headerButtons=c);this.isAutoDraw&&this.drawHeader()};
dhtmlxDblCalendarObject.prototype.setYearsRange=function(a,b){for(var c=[this.leftCalendar,this.rightCalendar],d=0;d<c.length;d++){c[d].options.yearsRange=[parseInt(a),parseInt(b)];c[d].allYears=[];for(var g=a;g<=b;g++)c[d].allYears.push(g)}};dhtmlxDblCalendarObject.prototype.show=function(){this.parent.style.display="block"};dhtmlxDblCalendarObject.prototype.hide=function(){this.parent.style.display="none"};
dhtmlxDblCalendarObject.prototype.createStructure=function(){if(this.options.isWinHeader){var a=this.entBox.insertRow(0).insertCell(0);a.colSpan=2;a.align="right";this.winHeader=document.createElement("DIV");a.appendChild(this.winHeader)}this.setParent(this.con)};dhtmlxDblCalendarObject.prototype.draw=function(){this.parent||this.createStructure();this.drawHeader();this.leftCalendar.draw();this.rightCalendar.draw();this.isAutoDraw=!0};
dhtmlxDblCalendarObject.prototype.loadUserLanguage=function(a,b){this.numLoaded=0;b&&(this.onLanguageLoaded=b);this.leftCalendar.loadUserLanguage(a,this.languageLoaded);this.rightCalendar.loadUserLanguage(a,this.languageLoaded)};dhtmlxDblCalendarObject.prototype.languageLoaded=function(a){var b=this._dblC;b.numLoaded++;if(2==b.numLoaded){for(param in this.options)b.options[param]=this.options[param];this.isAutoDraw&&b.drawHeader();if(b.onLanguageLoaded)b.onLanguageLoaded(a)}};
dhtmlxDblCalendarObject.prototype.setParent=function(a){a&&(this.parent=a,this.parent.style.display="block",this.parent.appendChild(this.entObj))};dhtmlxDblCalendarObject.prototype.setOnClickHandler=function(a){this.doOnClick=a};dhtmlxDblCalendarObject.prototype.doOnCLeftClick=function(a){a=new Date(a);this._dblC.rightCalendar.setSensitive(a,null);this._dblC.doOnClick&&this._dblC.doOnClick(a,this,"left");return!0};
dhtmlxDblCalendarObject.prototype.doOnCRightClick=function(a){this._dblC.leftCalendar.setSensitive(null,a);this._dblC.doOnClick&&this._dblC.doOnClick(a,this,"right");return!0};dhtmlxDblCalendarObject.prototype.setSensitive=function(){this.rightCalendar.setSensitive(null,this.leftCalendar.date[0]);this.leftCalendar.setSensitive(this.rightCalendar.date[0],null)};
dhtmlxDblCalendarObject.prototype.minimize=function(){if(this.winHeader){var a=this.winHeader.parentNode.parentNode.nextSibling;a.parentNode.parentNode.style.width=parseInt(a.parentNode.parentNode.offsetWidth)+"px";a&&(a.style.display="none"==a.style.display?"block":"none")}};
dhtmlxDblCalendarObject.prototype.setDate=function(a,b){this.leftCalendar.setDate(a);this.rightCalendar.setDate(b);this.leftCalendar.setSensitive(null,this.rightCalendar.date[0]);this.rightCalendar.setSensitive(this.leftCalendar.date[0],null)};dhtmlxDblCalendarObject.prototype.setDateFormat=function(a){this.leftCalendar.setDateFormat(a);this.rightCalendar.setDateFormat(a)};dhtmlxDblCalendarObject.prototype.isVisible=function(){return"block"==this.parent.style.display?!0:!1};
dhtmlxDblCalendarObject.prototype.setHolidays=function(a){this.leftCalendar.setHolidays(a);this.rightCalendar.setHolidays(a)};
function dhtmlxCalendarObject(a,b,c){if("object"==typeof a&&a.parent)for(d in c={},a)c[d]=a[d];this.isAutoDraw=a.autoDraw||b||!1;this.contId=a.parent||a;this.scriptName="dhtmlxcalendar.js";this.date=[this.cutTime(new Date)];this.selDate=[this.cutTime(new Date)];this.curDate=this.cutTime(new Date);this.entObj=document.createElement("DIV");this.monthPan=document.createElement("TABLE");this.dlabelPan=document.createElement("TABLE");this.daysPan=document.createElement("TABLE");this.parent=null;this.style=
"dhtmlxcalendar";this.skinName=dhtmlx.skin||"";this.onLanguageLoaded=this.winHeader=this.hotCell=this.activeCell=this.insensitiveDates=this.sensitiveTo=this.sensitiveFrom=this.doOnClick=null;this.minimized=this.dragging=!1;this.uid="sc&Cal"+Math.round(1E6*Math.random());this.holidays=null;this.time=!1;this.daysCells={};this.weekCells={};this.con=[];this.conInd=[];this.activeCon=null;this.activeConInd=0;this.userPosition=!1;this.useIframe=!0;this._c=this;dhtmlxEventable(this);this.options={btnPrev:"&laquo;",
btnBgPrev:null,btnNext:"&raquo;",btnBgNext:null,yearsRange:[1900,2100],isMonthEditable:!1,isYearEditable:!1,isWinHeader:!1,headerText:"Calendar header",headerButtons:"TMX",isWinDrag:!0};defLeng={langname:"en-us",dateformat:"%Y-%m-%d",monthesFNames:"January February March April May June July August September October November December".split(" "),monthesSNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),daysFNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
daysSNames:"Su Mo Tu We Th Fr Sa".split(" "),weekend:[0,6],weekstart:0,msgClose:"Close",msgMinimize:"Minimize",msgToday:"Today",msgClear:"Clear"};window.dhtmlxCalendarLangModules||(window.dhtmlxCalendarLangModules={});window.dhtmlxCalendarLangModules["en-us"]=defLeng;window.dhtmlxCalendarObjects?window.dhtmlxCalendarObjects.push(this):window.dhtmlxCalendarObjects=[this];dhtmlxEvent(document.body,"click",function(){for(cal in window.dhtmlxCalendarObjects)if(!isNaN(cal)){var a=window.dhtmlxCalendarObjects[cal];
"INPUT"==a.con[0].nodeName&&a.hide()}});for(lg in defLeng)this.options[lg]=defLeng[lg];if(c)for(param in c)this.options[param]=c[param];this.loadUserLanguage();if(c)for(param in c)this.options[param]=c[param];this.allYears=[];with(this.options)for(var d=yearsRange[0];d<=yearsRange[1];d++)this.allYears.push(d);!1!==b&&this.draw(c);return this}dhtmlXCalendarObject=dhtmlxCalendarObject;
dhtmlxCalendarObject.prototype={createStructure:function(){var a=this;this.entObj.className||this.setSkin(this.skinName);this.entObj.style.position="relative";this.options.isWinHeader&&(this.winHeader=document.createElement("DIV"),this.entObj.appendChild(this.winHeader));this.entBox=document.createElement("TABLE");this.entBox.className="entbox";with(this.entBox)cellSpacing=cellPadding="0px",width="100%";this.entObj.appendChild(this.entBox);var b=this.entBox.insertRow(0).insertCell(0);with(this.monthPan)cellSpacing=
cellPadding="0px",width="100%",align="center";this.monthPan.className="dxcalmonth";b.appendChild(this.monthPan);this.entBox.insertRow(1).insertCell(0).appendChild(this.dlabelPan);with(this.dlabelPan)cellSpacing=cellPadding="0px",width="100%",align="center";this.dlabelPan.className="dxcaldlabel";this.entBox.insertRow(2).insertCell(0).appendChild(this.daysPan);with(this.daysPan)cellPadding="1px",cellSpacing="0px",width="100%",align="center";this.daysPan.className=_isIE||_isKHTML?"dxcaldays_ie":"dxcaldays";
this.daysPan.onmousemove=function(b){a.doHotKeys(b)};this.daysPan.onmouseout=function(){a.endHotKeys()};if("string"!=typeof this.contId)if(this.contId.nodeName)this.con[0]=this.contId,this.conInd[this.contId.id]=0;else for(var c=0;c<this.contId.length;c++)this.con[c]=document.getElementById(this.contId[c]),this.selDate[c]=this.cutTime(new Date),this.conInd[this.contId[c]]=c;else this.con[0]=document.getElementById(this.contId),this.conInd[this.contId]=0;this.activeCon=this.con[0];if("INPUT"==this.con[0].nodeName){b=
document.createElement("DIV");with(b.style)position="absolute",display="none",zIndex=101;this.setParent(b);document.body.appendChild(b);conOnclick=function(b){if(a.isVisible())a.hide();else{a.activeCon=this;if(this.value)if(a.time){var c=this.value.split(" ");a.setFormatedTime(null,c[1]);a.setDate(a.getFormatedDate(c[0]))}else a.setDate(a.getFormatedDate(this.value));a.show(this.id);a.draw()}this.id!=a.activeCon.id&&(a.show(this.id),a.draw());(b||event).cancelBubble=!0};this.doOnClick=function(){a.hide();
a.activeCon.focus();return!0};conOnkeydown=function(b){27==(b||window.event).keyCode?a.hide():13==(b||window.event).keyCode&&a.show()};for(c in this.con)this.con[c].onclick=conOnclick,this.con[c].onkeydown=conOnkeydown}else this.setParent(this.con[0]);_isIE&&this.useIframe&&(0==this.parent.style.zIndex&&(this.parent.style.zIndex=100),void 0==this.ifr&&void 0==this._dblC&&(this.ifr=document.createElement("IFRAME"),this.ifr.src="javascript:false;",this.ifr.style.position="absolute",this.ifr.style.zIndex=
1,this.ifr.frameBorder="no",this.ifr.style.top=getAbsoluteTop(this.entObj)+"px",this.ifr.scrolling="no",this.ifr.style.display=this.parent.style.display,this.ifr.className=this.style+(this.skinName?"_":"")+this.skinName+"_ifr",this.parent.appendChild(this.ifr)));this.entObj.onclick=function(a){a=a||event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};this.entObj.className||this.setSkin(this.skinName)},drawHeader:function(){if(!this._dblC&&this.options.isWinHeader&&this.winHeader){for(var a=
this;this.winHeader.hasChildNodes();)this.winHeader.removeChild(this.winHeader.firstChild);this.winHeader.className="winHeader";this.winHeader.onselectstart=function(){return!1};this.headerLabel=document.createElement("div");this.headerLabel.className="winTitle";this.headerLabel.appendChild(document.createTextNode(this.options.headerText));this.headerLabel.setAttribute("title",this.options.headerText);this.winHeader.appendChild(this.headerLabel);this.options.isWinDrag&&(this.winHeader.onmousedown=
function(b){a.startDrag(b)});if(0<=this.options.headerButtons.indexOf("X")){var b=document.createElement("DIV");b.className="btn_close";b.setAttribute("title",this.options.msgClose);b.onmousedown=function(a){(a||event).cancelBubble=!0};b.onclick=function(b){(b||event).cancelBubble=!0;a.hide()};this.winHeader.appendChild(b)}0<=this.options.headerButtons.indexOf("M")&&(b=document.createElement("DIV"),b.className="btn_mini",b.setAttribute("title",this.options.msgMinimize),b.onmousedown=function(a){(a||
event).cancelBubble=!0},b.onclick=function(b){this.className="btn_mini"==this.className?"btn_maxi":"btn_mini";(b||event).cancelBubble=!0;a.minimize()},this.winHeader.appendChild(b));0<=this.options.headerButtons.indexOf("C")&&(b=document.createElement("DIV"),b.className="btn_clear",b.setAttribute("title",this.options.msgClear),b.onmousedown=function(a){(a||event).cancelBubble=!0},b.onclick=function(b){(b||event).cancelBubble=!0;a.activeCon.value="";a.hide()},this.winHeader.appendChild(b));0<=this.options.headerButtons.indexOf("T")&&
(b=document.createElement("DIV"),b.className="btn_today",b.setAttribute("title",this.options.msgToday),b.onmousedown=function(a){(a||event).cancelBubble=!0},b.onclick=function(b){(b||event).cancelBubble=!0;a.setDate(new Date)},this.winHeader.appendChild(b))}},drawMonth:function(){var a=this;this.monthPan.hasChildNodes()&&this.monthPan.removeChild(this.monthPan.firstChild);var b=this.monthPan.insertRow(0),c=b.insertCell(0),d=b.insertCell(1),b=b.insertCell(2);c.align="left";c.className="month_btn_left";
var g=document.createElement("div");g.innerHTML=" ";c.appendChild(g);c.onclick=function(){a.prevMonth()};c.onselectstart=function(){return!1};b.align="right";b.className="month_btn_right";g=document.createElement("div");g.innerHTML=" ";b.appendChild(g);b.onclick=function(){a.nextMonth()};b.onselectstart=function(){return!1};d.align="center";g=document.createElement("TABLE");with(g)cellSpacing=cellPadding="0px",align="center";var h=g.insertRow(0),c=h.insertCell(0),b=h.insertCell(1),h=h.insertCell(2);
d.appendChild(g);d=this.date[0];this.planeMonth=document.createElement("DIV");this.planeMonth._c=this;this.planeMonth.appendChild(document.createTextNode(this.options.monthesFNames[d.getMonth()]));this.planeMonth.className="planeMonth";c.appendChild(this.planeMonth);this.options.isMonthEditable&&(this.planeMonth.style.cursor="pointer",this.editorMonth=new dhtmlxRichSelector({nodeBefore:this.planeMonth,valueList:[0,1,2,3,4,5,6,7,8,9,10,11],titleList:this.options.monthesFNames,activeValue:this.options.monthesFNames[d.getMonth()],
onSelect:this.onMonthSelect,isAllowUserValue:!1}),this.editorMonth._c=this);b.appendChild(document.createTextNode(","));b.className="comma";this.planeYear=document.createElement("DIV");this.planeYear._c=this;this.planeYear.appendChild(document.createTextNode(d.getFullYear()));this.planeYear.className="planeYear";h.appendChild(this.planeYear);this.options.isYearEditable&&(this.planeYear.style.cursor="pointer",this.editorYear=new dhtmlxRichSelector({nodeBefore:this.planeYear,valueList:this.allYears,
titleList:this.allYears,activeValue:d.getFullYear(),onSelect:this.onYearSelect,isOrderedList:!0,isNumbersList:!0,isAllowUserValue:!0}),this.editorYear._c=this)},drawDayLabels:function(){if(this.dlabelPan.hasChildNodes())for(b=0;7>b;b++)this.weekCells[b].childNodes[0].nodeValue=this.getDayName(b);else{var a=this.dlabelPan.insertRow(-1);a.className="daynames";for(var b=0;7>b;b++)(this.weekCells[b]=a.insertCell(b)).appendChild(document.createTextNode(this.getDayName(b)))}},drawDays:function(){var a=
this,b={},c;if(!this.daysPan.hasChildNodes())for(var d=0;6>d;d++){b=this.daysPan.insertRow(-1);this.daysCells[d]={};for(var g=0;7>g;g++)(this.daysCells[d][g]=b.insertCell(-1)).appendChild(document.createTextNode(""))}var b=this.date[0],h=new Date(b),l=this.selDate[this.activeConInd].toDateString();h.setDate(1);d=(h.getDay()-this.options.weekstart)%7;0>=d&&(d+=7);h.setDate(-d);h.setDate(h.getDate()+1);h.getDate()<h.getDay()&&h.setMonth(h.getMonth()-1);for(var n=null,d=0;6>d;d++)for(g=0;7>g;g++){n==
h.getDate()&&h.setDate(h.getDate()+1);n=h.getDate();c=this.daysCells[d][g];c.setAttribute("id",this.uid+h.getFullYear()+h.getMonth()+h.getDate());c.childNodes[0].nodeValue=h.getDate();c.thisdate=h.toString();c.className="thismonth";c.onclick=null;h.getMonth()!=b.getMonth()&&(c.className="othermonth");if(this.insensitiveDates){for(var q=!1,r=0;r<this.insensitiveDates.length;r++){var s=/\.|\-/.exec(this.insensitiveDates[r]);if(s)var p=2==this.insensitiveDates[r].split(s).length?"%m"+s+"%d":"%Y"+s+"%m"+
s+"%d";if(s&&this.getFormatedDate(p,h)==this.insensitiveDates[r]||h.getDay()==this.insensitiveDates[r]){this.addClass(c,"insensitive");h.setDate(h.getDate()+1);q=!0;break}}if(q)continue}if(this.sensitiveFrom&&this.sensitiveFrom instanceof Array){q=!0;for(r=0;r<this.sensitiveFrom.length;r++)s=/\.|\-/.exec(this.sensitiveFrom[r]),p=2==this.sensitiveFrom[r].split(s).length?"%m"+s+"%d":"%Y"+s+"%m"+s+"%d",this.getFormatedDate(p,h)==this.sensitiveFrom[r]&&(q=!1);if(q){this.addClass(c,"insensitive");h.setDate(h.getDate()+
1);continue}}if(this.sensitiveFrom&&h.valueOf()<this.sensitiveFrom.valueOf()||this.sensitiveTo&&h.valueOf()>this.sensitiveTo.valueOf())this.addClass(c,"insensitive");else{this.isWeekend(g)&&h.getMonth()==b.getMonth()&&(c.className="weekend");h.toDateString()==this.curDate.toDateString()&&this.addClass(c,"current");h.toDateString()==l&&(this.activeCell=c,this.addClass(c,"selected"));if(this.holidays)for(r=0;r<this.holidays.length;r++)s=/\.|\-/.exec(this.holidays[r]),p=2==this.holidays[r].split(s).length?
"%m"+s+"%d":"%Y"+s+"%m"+s+"%d",this.getFormatedDate(p,h)==this.holidays[r]&&this.addClass(c,"holiday");c.onclick=function(){var b=this.thisdate;a.setDate(b);(!a.doOnClick||a.doOnClick(b))&&a.callEvent("onClick",[b])}}h.setDate(h.getDate()+1)}},draw:function(){this.parent||this.createStructure();var a=this;this.loadingLanguage?setTimeout(function(){a.draw()},20):(this.winHeader&&!this.winHeader.hasChildNodes()&&this.drawHeader(),this.drawMonth(),this.drawDayLabels(),this.drawDays(),this.isAutoDraw=
!0)},loadUserLanguage:function(a,b){b&&(this.onLanguageLoaded=b);a||(a="en-us");if(this.loadingLanguage=a)if(a==this.options.langname)this.loadUserLanguageCallback(!0);else{var c=window.dhtmlxCalendarLangModules;if(c[a]){for(lg in c[a])this.options[lg]=c[a][lg];this.loadUserLanguageCallback(!0)}else{for(var d,g=null,c=document.getElementsByTagName("SCRIPT"),h=0;h<c.length;h++)if((d=c[h].getAttribute("src"))&&0<=d.indexOf(this.scriptName)){g=d.substr(0,d.indexOf(this.scriptName));break}if(null===g)this.loadUserLanguageCallback(!1);
else{this.options.langname=a;g=g+"lang/"+a+".js";for(h=0;h<c.length;h++)if((d=c[h].getAttribute("src"))&&d==g)return;d=document.createElement("SCRIPT");d.setAttribute("language","Java-Script");d.setAttribute("type","text/javascript");d.setAttribute("src",g);document.body.appendChild(d)}}}else this.loadUserLanguageCallback(!1)},loadUserLanguageCallback:function(a){this.loadingLanguage=null;this.isAutoDraw&&this.draw();if(this.onLanguageLoaded&&"function"==typeof this.onLanguageLoaded)this.onLanguageLoaded(a)},
loadLanguageModule:function(a){for(var b=window.dhtmlxCalendarObjects,c=0;c<b.length;c++)if(b[c].loadingLanguage==a.langname){for(lg in a)b[c].options[lg]=a[lg];b[c].loadUserLanguageCallback(!0)}window.dhtmlxCalendarLangModules[a.langname]=a},show:function(a){this.activeCon=this.con[this._activeConInd(a)];this.parent.style.display="";this.parent.style.visibility="hidden";if("INPUT"==this.activeCon.nodeName&&!this.userPosition){"number"==typeof window.innerWidth?(docWidth=window.innerWidth,docHeight=
window.innerHeight):(docWidth=document.body.offsetWidth,docHeight=document.body.offsetHeight);var a=getAbsoluteLeft(this.activeCon),b=getAbsoluteTop(this.activeCon);this.parent.style.top=b+this.parent.offsetHeight>docHeight&&this.parent.offsetHeight<b?b-this.parent.offsetHeight+this.activeCon.offsetHeight+"px":b+"px";this.parent.style.left=a+this.parent.offsetWidth+this.activeCon.offsetWidth>docWidth?a+"px":a+this.activeCon.offsetWidth+"px"}void 0!=this.ifr&&(this.ifr.style.top=this.entObj.offsetTop+
"px",this.ifr.style.left=this.entObj.offsetLeft+"px",this.ifr.style.display="block");this.time&&!this.minimized&&(this.tp.setPosition(getAbsoluteLeft(this.parent)+30,getAbsoluteTop(this.parent)+147),this.tp.show());this.parent.style.visibility="visible";return this},hide:function(){this.parent.style.display="none";void 0!=this.ifr&&(this.ifr.style.display="none");this.time&&this.tp.hide();return this},setDateFormat:function(a){this.options.dateformat=a},cutTime:function(a){a=new Date(a);return new Date(a.getFullYear(),
a.getMonth(),a.getDate(),1,1)},setParent:function(a){a&&(this.parent=a,this.parent.appendChild(this.entObj))},setDate:function(a,b){tmpDate=a;b=this._activeConInd(b);this.activeCon=this.con[b];"Object"!=typeof a&&(a=this.setFormatedDate(null,tmpDate));if(isNaN(a)||null==a)a=new Date(tmpDate);isNaN(a)||(this.date[b]=new Date(this.cutTime(a)),this.selDate[b]=new Date(this.cutTime(a)));this.isAutoDraw&&this.draw();"INPUT"==this.activeCon.nodeName&&(this.activeCon.value=this.getFormatedDate(this.options.dateformat,
a)+(this.time?" "+this.getFormatedTime():""))},addClass:function(a,b){a.className+=" "+b},resetClass:function(a){a.className=a.className.toString().split(" ")[0]},resetHotClass:function(a){a.className=a.className.toString().replace(/hover/,"")},setSkin:function(a){this.skinName=a;var b="",b=this.minimized?"_mini":this.time?"_long":this.options.isWinHeader?"_maxi":"";this.entObj.className=this.style+(a?"_"+a:"");b&&(this.entObj.className+=" "+this.entObj.className+b);void 0!=this.ifr&&(this.ifr.className=
this.style+(a?"_"+a:"")+b+"_ifr");this.time&&(this.isVisible()&&!this.minimized?this.tp.show():this.tp.hide())},getDate:function(a){return this.selDate[this._activeConInd(a)].toString()},nextMonth:function(){var a=this.date[0];a.setDate(1);a.setMonth(a=a.getMonth()+1);this.callEvent("onChangeMonth",[12<a+1?1:a+1,a||12]);this.isAutoDraw&&this.draw()},prevMonth:function(){var a=this.date[0];a.setDate(1);a.setMonth(a=a.getMonth()-1);this.callEvent("onChangeMonth",[a+1||12,12<a+2?1:a+2||12]);this.isAutoDraw&&
this.draw()},setOnClickHandler:function(a){this.attachEvent("onClick",a)},getFormatedDate:function(a,b,c){a||(a=this.options.dateformat);b||(b=this.selDate[this._activeConInd(c)]);for(var b=new Date(b),c="",d=!0,g=0;g<a.length;g++){var h=a.substr(g,1);if(d)"%"==h?d=!1:c+=h;else{switch(h){case "e":h=b.getDate();break;case "d":h=b.getDate();1==h.toString().length&&(h="0"+h);break;case "j":d=new Date(b.getFullYear(),0,0,0,0,0,0);for(h=Math.ceil((b.valueOf()-d.valueOf())/1E3/60/60/24-1);3>h.toString().length;)h=
"0"+h;break;case "a":h=this.options.daysSNames[b.getDay()];break;case "W":h=this.options.daysFNames[b.getDay()];break;case "c":h=1+b.getMonth();break;case "m":h=1+b.getMonth();1==h.toString().length&&(h="0"+h);break;case "b":h=this.options.monthesSNames[b.getMonth()];break;case "M":h=this.options.monthesFNames[b.getMonth()];break;case "y":h=b.getFullYear();h=h.toString().substr(2);break;case "Y":h=b.getFullYear()}c+=h;d=!0}}return c},setFormatedDate:function(a,b,c,d){function g(a){for(var b=[this.options.monthesSNames,
this.options.monthesFNames],c=0;c<b.length;c++)for(var d=0;d<b[c].length;d++)if(0==b[c][d].indexOf(a))return d;return-1}if(!b||"string"!=typeof b)return b;self.time&&(self.time.setFormatedTIme(null,b.split(" ")[1]),b=b.split(" ")[0]);a||(a=this.options.dateformat);for(var h=new Date(2008,0,1),l=0,n=0;n<a.length;n++)if("%"==a.charAt(n)){var q=a.charAt(n+1),r=a.indexOf("%",n+1),r=a.substr(n+2,r-n-1-1),s=b.indexOf(r,l);""==r&&(s=b.length);if(-1==s)return null;var p=b.substr(l,s-l);"M"!=q&&"b"!=q&&(p=
parseFloat(p));l=s+r.length;switch(q){case "d":case "e":h.setDate(parseFloat(p));break;case "c":case "m":h.setMonth(parseFloat(p)-1);break;case "M":q=g.call(this,p);if(-1!=q)h.setMonth(parseFloat(q));else return null;break;case "b":q=g.call(this,p);if(-1!=q)h.setMonth(parseFloat(q));else return null;break;case "Y":h.setFullYear(parseFloat(p));break;case "y":q=parseFloat(p),h.setFullYear((20<q?1900:2E3)+q)}}isNaN(h)&&(h=new Date(this.selDate[this._activeConInd]));if(d)return h;this.setDate(h,c);return this.selDate[this.activeConInd]},
isWeekend:function(a){a+=this.options.weekstart;6<a&&(a-=7);for(var b=0;b<this.options.weekend.length;b++)if(this.options.weekend[b]==a)return!0;return!1},getDayName:function(a){a+=this.options.weekstart;6<a&&(a-=7);return this.options.daysSNames[a]},isVisible:function(){return"none"!=this.parent.style.display},doHotKeys:function(a){a=a||event;a=a.target||a.srcElement;0<=a.className.toString().indexOf("insensitive")?this.endHotKeys():(this.hotCell&&this.resetHotClass(this.hotCell),this.addClass(a,
"hover"),this.hotCell=a)},endHotKeys:function(){this.hotCell&&(this.resetHotClass(this.hotCell),this.hotCell=null)},_activeConInd:function(a){this.parent||this.createStructure();return this.activeConInd=(0==this.conInd[a]?"0":this.conInd[a])||(0==a?"0":a)||this.conInd[this.activeCon.id]||0}};
function dhtmlxRichSelector(a){for(x in a)this[x]=a[x];this.initValue=this.activeValue;this.selectorSize||(this.selectorSize=7);var b=this;this.blurTimer=null;this.nodeBefore.onclick=function(){b.show()};this.editor=document.createElement("TEXTAREA");this.editor.value=this.activeValue;this.editor._s=this;this.editor.className="dhtmlxRichSelector";this.editor.onfocus=this.onFocus;this.editor.onblur=this.onBlur;this.selector=document.createElement("SELECT");this.selector.size=this.selectorSize;this.selector.className=
"dhtmlxRichSelector";if(this.valueList)for(a=0;a<this.valueList.length;a++)this.selector.options[a]=new Option(this.titleList[a],this.valueList[a],!1,!1);this.selector._s=this;this.selector.onfocus=this.onFocus;this.selector.onblur=this.onBlur;this.selector.onclick=function(){window.t=b;b.onSelect(b.selector.value);clearTimeout(b.blurTimer)};this.selector.getIndexByValue=function(a,b){a=a.toString().toUpperCase();b||(b=!1);for(var g=0;g<this.length;g++){var h=this[g].text.toUpperCase();if(b){if(h==
a)return g}else if(0==h.indexOf(a))return g}if(this._s.isOrderedList){if(this._s.isNumbersList&&isNaN(a))return-1;h=this[0].text.substring(0,a.length).toUpperCase();if(h>a)return 0;h=this[this.length-1].text.substring(0,a.length);if(h<a)return this.length-1}return-1};this.con=document.createElement("DIV");this.con.className="dhtmlxRichSelector";with(this.con.style)width="auto",display="none";this.con.appendChild(this.editor);this.con.appendChild(this.selector);this.nodeBefore.parentNode.insertBefore(this.con,
this.nodeBefore);return this}dhtmlxRichSelector.prototype.show=function(){this.con.style.display="block";with(this.selector.style)marginTop=parseInt(this.nodeBefore.offsetHeight)+"px",width="auto";with(this.editor.style)width=parseInt(this.nodeBefore.offsetWidth)+15+"px",height=parseInt(this.nodeBefore.offsetHeight)+"px";this.selector.selectedIndex=this.selector.getIndexByValue(this.activeValue);this.editor.focus()};dhtmlxRichSelector.prototype.hide=function(){this.con.style.display="none"};
dhtmlxRichSelector.prototype.onBlur=function(){var a=this._s;a.blurTimer=setTimeout(function(){a.isAllowUserValue?a.onSelect(a.editor.value)&&(a.activeValue=a.editor.value):a.onSelect(a.selector.value)&&(a.activeValue=a.selector.value)},10)};dhtmlxRichSelector.prototype.onFocus=function(){var a=this._s;a.blurTimer&&(clearTimeout(a.blurTimer),a.blurTimer=null);this===this._s.selector&&a.editor.focus()};
dhtmlxCalendarObject.prototype.setHeader=function(a,b,c){with(this.options)isWinHeader=a,isWinDrag=b,c&&(headerButtons=c);this.setSkin(this.skinName)};dhtmlxCalendarObject.prototype.setYearsRange=function(a,b){this.options.yearsRange=[parseInt(a),parseInt(b)];this.allYears=[];for(var c=a;c<=b;c++)this.allYears.push(c)};
dhtmlxCalendarObject.prototype.startDrag=function(a){a=a||event;if(0===a.button||1===a.button){this.dragging&&this.stopDrag(a);this.drag_mx=a.clientX;this.drag_my=a.clientY;this.drag_spos=this.getPosition(this.parent);document.body.appendChild(this.parent);with(this.parent.style)left=this.drag_spos[0]+"px",top=this.drag_spos[1]+"px",margin="0px",position="absolute";this.ifr&&(this.ifr.style.top="0px",this.ifr.style.left="0px");this.bu_onmousemove=document.body.onmousemove;var b=this;document.body.onmousemove=
function(a){b.onDrag(a)};this.bu_onmouseup=document.body.onmouseup;document.body.onmouseup=function(a){b.stopDrag(a)};this.dragging=!0}};
dhtmlxCalendarObject.prototype.onDrag=function(a){a=a||event;if(0===a.button||1===a.button){var b=this.drag_my-a.clientY;this.parent.style.left=this.drag_spos[0]-(this.drag_mx-a.clientX)+"px";this.parent.style.top=this.drag_spos[1]-b+"px";this.time&&this.tp.setPosition(getAbsoluteLeft(this.parent)+30,getAbsoluteTop(this.parent)+160);void 0!=this.ifr&&(this.ifr.style.left=0,this.ifr.style.top=0)}else this.stopDrag(a)};
dhtmlxCalendarObject.prototype.stopDrag=function(){document.body.onmouseup=this.bu_onmouseup===window.undefined?null:this.bu_onmouseup;document.body.onmousemove=this.bu_onmousemove===window.undefined?null:this.bu_onmousemove;this.dragging=!1};dhtmlxCalendarObject.prototype.minimize=function(){this.winHeader&&(this.minimized=!this.minimized,this.entBox.style.display=!this.minimized?"":"none",this.setSkin(this.skinName))};
dhtmlxCalendarObject.prototype.onYearSelect=function(a){isNaN(a)||this._c.date[this._c._activeConInd()].setFullYear(Math.min(Math.max(a,this._c.allYears[0]),this._c.allYears.slice(-1)));this._c.draw();return!isNaN(a)};dhtmlxCalendarObject.prototype.onMonthSelect=function(a){this._c.date[this._c._activeConInd()].setMonth(a);this._c.draw();return!0};
dhtmlxCalendarObject.prototype.setPosition=function(a,b,c){if("object"==typeof a)var d=this.getPosition(a),g=d[0]+a.offsetWidth+(c||0),d=d[1]+(b||0);this.parent.style.position="absolute";this.parent.style.top=(d||a)+"px";this.parent.style.left=(g||b)+"px";void 0!=this.ifr&&(this.ifr.style.left="0px",this.ifr.style.top="0px");this.time&&this.tp.setPosition(getAbsoluteLeft(this.parent)+30,getAbsoluteTop(this.parent)+160)};dhtmlxCalendarObject.prototype.close=function(){this.hide()};
dhtmlxCalendarObject.prototype.getPosition=function(a,b){b||(b=document.body);for(var c=a,d=0,g=0;c&&c!=b;)d+=c.offsetLeft-c.scrollLeft,g+=c.offsetTop-c.scrollTop,c=c.offsetParent;b==document.body&&(_isIE?(document.documentElement.scrollTop&&(g+=document.documentElement.scrollTop),document.documentElement.scrollLeft&&(d+=document.documentElement.scrollLeft)):_isFF||(d+=document.body.offsetLeft,g+=document.body.offsetTop));return[d,g]};
dhtmlxCalendarObject.prototype.setSensitive=function(a,b){a&&(this.sensitiveFrom=a instanceof Date?this.cutTime(a):a.toString().split(","));b&&(this.sensitiveTo=this.cutTime(b));this.isAutoDraw&&this.draw()};dhtmlxCalendarObject.prototype.setHolidays=function(a){this.holidays=a.toString().split(",");this.isAutoDraw&&this.draw()};dhtmlxCalendarObject.prototype.onChangeMonth=function(a){this.attachEvent("onChangeMonth",a)};
dhtmlxCalendarObject.prototype.setInsensitiveDates=function(a){this.insensitiveDates=a.toString().split(",");this.isAutoDraw&&this.draw()};
dhtmlxCalendarObject.prototype.enableTime=function(a){if(this.time=a)for(m in this.tp=new dhtmlXTimePicker,this.tp.setPosition(getAbsoluteLeft(this.parent)+30,getAbsoluteTop(this.parent)+160),dhtmlXTimePicker.prototype)(function(a){dhtmlxCalendarObject.prototype[a]||(dhtmlxCalendarObject.prototype[a]=function(){return this.tp[a].apply(this.tp,arguments)})})(m);else this.tp.entBox.parentNode.removeChild(this.tp.entBox),this.tp=null;this.setSkin(this.skinName)};
dhtmlxCalendarObject.prototype.setHeaderText=function(a){this.options.headerText=a;this.headerLabel&&(this.headerLabel.childNodes[0].nodeValue=a,this.headerLabel.setAttribute("title",a))};dhtmlxCalendarObject.prototype.disableIESelectFix=function(a){this.useIframe=!a;void 0!=this.ifr&&(this.ifr.parentNode.removeChild(this.ifr),this.ifr=null)};
(function(){dhtmlx.extend_api("dhtmlxCalendarObject",{_init:function(a){return[a.parent,a.draw]}},{});dhtmlx.extend_api("dhtmlxDblCalendarObject",{_init:function(a){return[a.parent,a.draw]}},{})})();var Prototype={Version:"1.6.0.1",Browser:{IE:!(!window.attachEvent||window.opera),Opera:!!window.opera,WebKit:-1<navigator.userAgent.indexOf("AppleWebKit/"),Gecko:-1<navigator.userAgent.indexOf("Gecko")&&-1==navigator.userAgent.indexOf("KHTML"),MobileSafari:!!navigator.userAgent.match(/Apple.*Mobile.*Safari/)},BrowserFeatures:{XPath:!!document.evaluate,ElementExtensions:!!window.HTMLElement,SpecificElementExtensions:document.createElement("div").__proto__&&document.createElement("div").__proto__!==
document.createElement("form").__proto__},ScriptFragment:"<script[^>]*>([\\S\\s]*?)<\/script>",JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,emptyFunction:function(){},K:function(a){return a}};Prototype.Browser.MobileSafari&&(Prototype.BrowserFeatures.SpecificElementExtensions=!1);
var Class={create:function(){function a(){this.initialize.apply(this,arguments)}var b=null,c=$A(arguments);Object.isFunction(c[0])&&(b=c.shift());Object.extend(a,Class.Methods);a.superclass=b;a.subclasses=[];if(b){var d=function(){};d.prototype=b.prototype;a.prototype=new d;b.subclasses.push(a)}for(b=0;b<c.length;b++)a.addMethods(c[b]);a.prototype.initialize||(a.prototype.initialize=Prototype.emptyFunction);return a.prototype.constructor=a},Methods:{addMethods:function(a){var b=this.superclass&&this.superclass.prototype,
c=Object.keys(a);Object.keys({toString:!0}).length||c.push("toString","valueOf");for(var d=0,g=c.length;d<g;d++){var h=c[d],l=a[h];if(b&&Object.isFunction(l)&&"$super"==l.argumentNames().first())var n=l,l=Object.extend(function(a){return function(){return b[a].apply(this,arguments)}}(h).wrap(n),{valueOf:function(){return n},toString:function(){return n.toString()}});this.prototype[h]=l}return this}}},Abstract={};Object.extend=function(a,b){for(var c in b)a[c]=b[c];return a};
Object.extend(Object,{inspect:function(a){try{return Object.isUndefined(a)?"undefined":null===a?"null":a.inspect?a.inspect():a.toString()}catch(b){if(b instanceof RangeError)return"...";throw b;}},toJSON:function(a){switch(typeof a){case "undefined":case "function":case "unknown":return;case "boolean":return a.toString()}if(null===a)return"null";if(a.toJSON)return a.toJSON();if(!Object.isElement(a)){var b=[],c;for(c in a){var d=Object.toJSON(a[c]);Object.isUndefined(d)||b.push(c.toJSON()+": "+d)}return"{"+
b.join(", ")+"}"}},toQueryString:function(a){return $H(a).toQueryString()},toHTML:function(a){return a&&a.toHTML?a.toHTML():String.interpret(a)},keys:function(a){var b=[],c;for(c in a)b.push(c);return b},values:function(a){var b=[],c;for(c in a)b.push(a[c]);return b},clone:function(a){return Object.extend({},a)},isElement:function(a){return a&&1==a.nodeType},isArray:function(a){return a&&a.constructor===Array},isHash:function(a){return a instanceof Hash},isFunction:function(a){return"function"==typeof a},
isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isUndefined:function(a){return"undefined"==typeof a}});
Object.extend(Function.prototype,{argumentNames:function(){var a=this.toString().match(/^[\s\(]*function[^(]*\((.*?)\)/)[1].split(",").invoke("strip");return 1==a.length&&!a[0]?[]:a},bind:function(){if(2>arguments.length&&Object.isUndefined(arguments[0]))return this;var a=this,b=$A(arguments),c=b.shift();return function(){return a.apply(c,b.concat($A(arguments)))}},bindAsEventListener:function(){var a=this,b=$A(arguments),c=b.shift();return function(d){return a.apply(c,[d||window.event].concat(b))}},
curry:function(){if(!arguments.length)return this;var a=this,b=$A(arguments);return function(){return a.apply(this,b.concat($A(arguments)))}},delay:function(){var a=this,b=$A(arguments),c=1E3*b.shift();return window.setTimeout(function(){return a.apply(a,b)},c)},wrap:function(a){var b=this;return function(){return a.apply(this,[b.bind(this)].concat($A(arguments)))}},methodize:function(){if(this._methodized)return this._methodized;var a=this;return this._methodized=function(){return a.apply(null,[this].concat($A(arguments)))}}});
Function.prototype.defer=Function.prototype.delay.curry(0.01);Date.prototype.toJSON=function(){return'"'+this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)+"T"+this.getUTCHours().toPaddedString(2)+":"+this.getUTCMinutes().toPaddedString(2)+":"+this.getUTCSeconds().toPaddedString(2)+'Z"'};var Try={these:function(){for(var a,b=0,c=arguments.length;b<c;b++){var d=arguments[b];try{a=d();break}catch(g){}}return a}};RegExp.prototype.match=RegExp.prototype.test;
RegExp.escape=function(a){return String(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")};
var PeriodicalExecuter=Class.create({initialize:function(a,b){this.callback=a;this.frequency=b;this.currentlyExecuting=!1;this.registerCallback()},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),1E3*this.frequency)},execute:function(){this.callback(this)},stop:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onTimerEvent:function(){if(!this.currentlyExecuting)try{this.currentlyExecuting=!0,this.execute()}finally{this.currentlyExecuting=!1}}});
Object.extend(String,{interpret:function(a){return null==a?"":String(a)},specialChar:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}});
Object.extend(String.prototype,{gsub:function(a,b){for(var c="",d=this,g,b=arguments.callee.prepareReplacement(b);0<d.length;)(g=d.match(a))?(c+=d.slice(0,g.index),c+=String.interpret(b(g)),d=d.slice(g.index+g[0].length)):(c+=d,d="");return c},sub:function(a,b,c){b=this.gsub.prepareReplacement(b);c=Object.isUndefined(c)?1:c;return this.gsub(a,function(a){return 0>--c?a[0]:b(a)})},scan:function(a,b){this.gsub(a,b);return String(this)},truncate:function(a,b){a=a||30;b=Object.isUndefined(b)?"...":b;
return this.length>a?this.slice(0,a-b.length)+b:String(this)},strip:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")},stripTags:function(){return this.replace(/<\/?[^>]+>/gi,"")},stripScripts:function(){return this.replace(RegExp(Prototype.ScriptFragment,"img"),"")},extractScripts:function(){var a=RegExp(Prototype.ScriptFragment,"im");return(this.match(RegExp(Prototype.ScriptFragment,"img"))||[]).map(function(b){return(b.match(a)||["",""])[1]})},evalScripts:function(){return this.extractScripts().map(function(a){return eval(a)})},
escapeHTML:function(){var a=arguments.callee;a.text.data=this;return a.div.innerHTML},unescapeHTML:function(){var a=new Element("div");a.innerHTML=this.stripTags();return a.childNodes[0]?1<a.childNodes.length?$A(a.childNodes).inject("",function(a,c){return a+c.nodeValue}):a.childNodes[0].nodeValue:""},toQueryParams:function(a){var b=this.strip().match(/([^?#]*)(#.*)?$/);return!b?{}:b[1].split(a||"&").inject({},function(a,b){if((b=b.split("="))[0]){var g=decodeURIComponent(b.shift()),h=1<b.length?
b.join("="):b[0];void 0!=h&&(h=decodeURIComponent(h));g in a?(Object.isArray(a[g])||(a[g]=[a[g]]),a[g].push(h)):a[g]=h}return a})},toArray:function(){return this.split("")},succ:function(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1)},times:function(a){return 1>a?"":Array(a+1).join(this)},camelize:function(){var a=this.split("-"),b=a.length;if(1==b)return a[0];for(var c="-"==this.charAt(0)?a[0].charAt(0).toUpperCase()+a[0].substring(1):a[0],d=1;d<b;d++)c+=
a[d].charAt(0).toUpperCase()+a[d].substring(1);return c},capitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()},underscore:function(){return this.gsub(/::/,"/").gsub(/([A-Z]+)([A-Z][a-z])/,"#{1}_#{2}").gsub(/([a-z\d])([A-Z])/,"#{1}_#{2}").gsub(/-/,"_").toLowerCase()},dasherize:function(){return this.gsub(/_/,"-")},inspect:function(a){var b=this.gsub(/[\x00-\x1f\\]/,function(a){var b=String.specialChar[a[0]];return b?b:"\\u00"+a[0].charCodeAt().toPaddedString(2,
16)});return a?'"'+b.replace(/"/g,'\\"')+'"':"'"+b.replace(/'/g,"\\'")+"'"},toJSON:function(){return this.inspect(!0)},unfilterJSON:function(a){return this.sub(a||Prototype.JSONFilter,"#{1}")},isJSON:function(){var a;if(this.blank())return!1;a=this.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,"");return/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(a)},evalJSON:function(a){var b=this.unfilterJSON();try{if(!a||b.isJSON())return eval("("+b+")")}catch(c){}throw new SyntaxError("Badly formed JSON string: "+
this.inspect());},include:function(a){return-1<this.indexOf(a)},startsWith:function(a){return 0===this.indexOf(a)},endsWith:function(a){var b=this.length-a.length;return 0<=b&&this.lastIndexOf(a)===b},empty:function(){return""==this},blank:function(){return/^\s*$/.test(this)},interpolate:function(a,b){return(new Template(this,b)).evaluate(a)}});
(Prototype.Browser.WebKit||Prototype.Browser.IE)&&Object.extend(String.prototype,{escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(){return this.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}});String.prototype.gsub.prepareReplacement=function(a){if(Object.isFunction(a))return a;var b=new Template(a);return function(a){return b.evaluate(a)}};String.prototype.parseQuery=String.prototype.toQueryParams;
Object.extend(String.prototype.escapeHTML,{div:document.createElement("div"),text:document.createTextNode("")});with(String.prototype.escapeHTML)div.appendChild(text);
var Template=Class.create({initialize:function(a,b){this.template=a.toString();this.pattern=b||Template.Pattern},evaluate:function(a){Object.isFunction(a.toTemplateReplacements)&&(a=a.toTemplateReplacements());return this.template.gsub(this.pattern,function(b){if(null==a)return"";var c=b[1]||"";if("\\"==c)return b[2];var d=a,g=b[3],h=/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/,b=h.exec(g);if(null==b)return c;for(;null!=b;){var l=b[1].startsWith("[")?b[2].gsub("\\\\]","]"):b[1],d=d[l];if(null==d||""==
b[3])break;g=g.substring("["==b[3]?b[1].length:b[0].length);b=h.exec(g)}return c+String.interpret(d)}.bind(this))}});Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;
var $break={},Enumerable={each:function(a,b){var c=0,a=a.bind(b);try{this._each(function(b){a(b,c++)})}catch(d){if(d!=$break)throw d;}return this},eachSlice:function(a,b,c){for(var b=b?b.bind(c):Prototype.K,d=-a,g=[],h=this.toArray();(d+=a)<h.length;)g.push(h.slice(d,d+a));return g.collect(b,c)},all:function(a,b){var a=a?a.bind(b):Prototype.K,c=!0;this.each(function(b,g){c=c&&!!a(b,g);if(!c)throw $break;});return c},any:function(a,b){var a=a?a.bind(b):Prototype.K,c=!1;this.each(function(b,g){if(c=
!!a(b,g))throw $break;});return c},collect:function(a,b){var a=a?a.bind(b):Prototype.K,c=[];this.each(function(b,g){c.push(a(b,g))});return c},detect:function(a,b){var a=a.bind(b),c;this.each(function(b,g){if(a(b,g))throw c=b,$break;});return c},findAll:function(a,b){var a=a.bind(b),c=[];this.each(function(b,g){a(b,g)&&c.push(b)});return c},grep:function(a,b,c){var b=b?b.bind(c):Prototype.K,d=[];Object.isString(a)&&(a=RegExp(a));this.each(function(c,h){a.match(c)&&d.push(b(c,h))});return d},include:function(a){if(Object.isFunction(this.indexOf)&&
-1!=this.indexOf(a))return!0;var b=!1;this.each(function(c){if(c==a)throw b=!0,$break;});return b},inGroupsOf:function(a,b){b=Object.isUndefined(b)?null:b;return this.eachSlice(a,function(c){for(;c.length<a;)c.push(b);return c})},inject:function(a,b,c){b=b.bind(c);this.each(function(c,g){a=b(a,c,g)});return a},invoke:function(a){var b=$A(arguments).slice(1);return this.map(function(c){return c[a].apply(c,b)})},max:function(a,b){var a=a?a.bind(b):Prototype.K,c;this.each(function(b,g){b=a(b,g);if(null==
c||b>=c)c=b});return c},min:function(a,b){var a=a?a.bind(b):Prototype.K,c;this.each(function(b,g){b=a(b,g);if(null==c||b<c)c=b});return c},partition:function(a,b){var a=a?a.bind(b):Prototype.K,c=[],d=[];this.each(function(b,h){(a(b,h)?c:d).push(b)});return[c,d]},pluck:function(a){var b=[];this.each(function(c){b.push(c[a])});return b},reject:function(a,b){var a=a.bind(b),c=[];this.each(function(b,g){a(b,g)||c.push(b)});return c},sortBy:function(a,b){a=a.bind(b);return this.map(function(b,d){return{value:b,
criteria:a(b,d)}}).sort(function(a,b){var g=a.criteria,h=b.criteria;return g<h?-1:g>h?1:0}).pluck("value")},toArray:function(){return this.map()},zip:function(){var a=Prototype.K,b=$A(arguments);Object.isFunction(b.last())&&(a=b.pop());var c=[this].concat(b).map($A);return this.map(function(b,g){return a(c.pluck(g))})},size:function(){return this.toArray().length},inspect:function(){return"#<Enumerable:"+this.toArray().inspect()+">"}};
Object.extend(Enumerable,{map:Enumerable.collect,find:Enumerable.detect,select:Enumerable.findAll,filter:Enumerable.findAll,member:Enumerable.include,entries:Enumerable.toArray,every:Enumerable.all,some:Enumerable.any});function $A(a){if(!a)return[];if(a.toArray)return a.toArray();for(var b=a.length||0,c=Array(b);b--;)c[b]=a[b];return c}
Prototype.Browser.WebKit&&($A=function(a){if(!a)return[];if(!(Object.isFunction(a)&&"[object NodeList]"==a)&&a.toArray)return a.toArray();for(var b=a.length||0,c=Array(b);b--;)c[b]=a[b];return c});Array.from=$A;Object.extend(Array.prototype,Enumerable);Array.prototype._reverse||(Array.prototype._reverse=Array.prototype.reverse);
Object.extend(Array.prototype,{_each:function(a){for(var b=0,c=this.length;b<c;b++)a(this[b])},clear:function(){this.length=0;return this},first:function(){return this[0]},last:function(){return this[this.length-1]},compact:function(){return this.select(function(a){return null!=a})},flatten:function(){return this.inject([],function(a,b){return a.concat(Object.isArray(b)?b.flatten():[b])})},without:function(){var a=$A(arguments);return this.select(function(b){return!a.include(b)})},reverse:function(a){return(!1!==
a?this:this.toArray())._reverse()},reduce:function(){return 1<this.length?this:this[0]},uniq:function(a){return this.inject([],function(b,c,d){(0==d||(a?b.last()!=c:!b.include(c)))&&b.push(c);return b})},intersect:function(a){return this.uniq().findAll(function(b){return a.detect(function(a){return b===a})})},clone:function(){return[].concat(this)},size:function(){return this.length},inspect:function(){return"["+this.map(Object.inspect).join(", ")+"]"},toJSON:function(){var a=[];this.each(function(b){b=
Object.toJSON(b);Object.isUndefined(b)||a.push(b)});return"["+a.join(", ")+"]"}});Object.isFunction(Array.prototype.forEach)&&(Array.prototype._each=Array.prototype.forEach);Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){b||(b=0);var c=this.length;for(0>b&&(b=c+b);b<c;b++)if(this[b]===a)return b;return-1});
Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a,b){var b=isNaN(b)?this.length:(0>b?this.length+b:b)+1,c=this.slice(0,b).reverse().indexOf(a);return 0>c?c:b-c-1});Array.prototype.toArray=Array.prototype.clone;function $w(a){return!Object.isString(a)?[]:(a=a.strip())?a.split(/\s+/):[]}
Prototype.Browser.Opera&&(Array.prototype.concat=function(){for(var a=[],b=0,c=this.length;b<c;b++)a.push(this[b]);b=0;for(c=arguments.length;b<c;b++)if(Object.isArray(arguments[b]))for(var d=0,g=arguments[b].length;d<g;d++)a.push(arguments[b][d]);else a.push(arguments[b]);return a});
Object.extend(Number.prototype,{toColorPart:function(){return this.toPaddedString(2,16)},succ:function(){return this+1},times:function(a){$R(0,this,!0).each(a);return this},toPaddedString:function(a,b){var c=this.toString(b||10);return"0".times(a-c.length)+c},toJSON:function(){return isFinite(this)?this.toString():"null"}});$w("abs round ceil floor").each(function(a){Number.prototype[a]=Math[a].methodize()});function $H(a){return new Hash(a)}
var Hash=Class.create(Enumerable,function(){function a(a,c){return Object.isUndefined(c)?a:a+"="+encodeURIComponent(String.interpret(c))}return{initialize:function(a){this._object=Object.isHash(a)?a.toObject():Object.clone(a)},_each:function(a){for(var c in this._object){var d=this._object[c],g=[c,d];g.key=c;g.value=d;a(g)}},set:function(a,c){return this._object[a]=c},get:function(a){return this._object[a]},unset:function(a){var c=this._object[a];delete this._object[a];return c},toObject:function(){return Object.clone(this._object)},
keys:function(){return this.pluck("key")},values:function(){return this.pluck("value")},index:function(a){var c=this.detect(function(c){return c.value===a});return c&&c.key},merge:function(a){return this.clone().update(a)},update:function(a){return(new Hash(a)).inject(this,function(a,b){a.set(b.key,b.value);return a})},toQueryString:function(){return this.map(function(b){var c=encodeURIComponent(b.key);return(b=b.value)&&"object"==typeof b&&Object.isArray(b)?b.map(a.curry(c)).join("&"):a(c,b)}).join("&")},
inspect:function(){return"#<Hash:{"+this.map(function(a){return a.map(Object.inspect).join(": ")}).join(", ")+"}>"},toJSON:function(){return Object.toJSON(this.toObject())},clone:function(){return new Hash(this)}}}());Hash.prototype.toTemplateReplacements=Hash.prototype.toObject;Hash.from=$H;
var ObjectRange=Class.create(Enumerable,{initialize:function(a,b,c){this.start=a;this.end=b;this.exclusive=c},_each:function(a){for(var b=this.start;this.include(b);)a(b),b=b.succ()},include:function(a){return a<this.start?!1:this.exclusive?a<this.end:a<=this.end}}),$R=function(a,b,c){return new ObjectRange(a,b,c)},Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||
!1},activeRequestCount:0,Responders:{responders:[],_each:function(a){this.responders._each(a)},register:function(a){this.include(a)||this.responders.push(a)},unregister:function(a){this.responders=this.responders.without(a)},dispatch:function(a,b,c,d){this.each(function(g){if(Object.isFunction(g[a]))try{g[a].apply(g,[b,c,d])}catch(h){}})}}};Object.extend(Ajax.Responders,Enumerable);Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++},onComplete:function(){Ajax.activeRequestCount--}});
Ajax.Base=Class.create({initialize:function(a){this.options={method:"post",asynchronous:!0,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:"",evalJSON:!0,evalJS:!0};Object.extend(this.options,a||{});this.options.method=this.options.method.toLowerCase();Object.isString(this.options.parameters)?this.options.parameters=this.options.parameters.toQueryParams():Object.isHash(this.options.parameters)&&(this.options.parameters=this.options.parameters.toObject())}});
Ajax.Request=Class.create(Ajax.Base,{_complete:!1,initialize:function($super,b,c){$super(c);this.transport=Ajax.getTransport();this.request(b)},request:function(a){this.url=a;this.method=this.options.method;a=Object.clone(this.options.parameters);["get","post"].include(this.method)||(a._method=this.method,this.method="post");this.parameters=a;if(a=Object.toQueryString(a))"get"==this.method?this.url+=(this.url.include("?")?"&":"?")+a:/Konqueror|Safari|KHTML/.test(navigator.userAgent)&&(a+="&_=");try{var b=
new Ajax.Response(this);if(this.options.onCreate)this.options.onCreate(b);Ajax.Responders.dispatch("onCreate",this,b);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);this.options.asynchronous&&this.respondToReadyState.bind(this).defer(1);this.transport.onreadystatechange=this.onStateChange.bind(this);this.setRequestHeaders();this.body="post"==this.method?this.options.postBody||a:null;this.transport.send(this.body);if(!this.options.asynchronous&&this.transport.overrideMimeType)this.onStateChange()}catch(c){this.dispatchException(c)}},
onStateChange:function(){var a=this.transport.readyState;1<a&&!(4==a&&this._complete)&&this.respondToReadyState(this.transport.readyState)},setRequestHeaders:function(){var a={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if("post"==this.method&&(a["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:""),this.transport.overrideMimeType&&2005>(navigator.userAgent.match(/Gecko\/(\d{4})/)||
[0,2005])[1]))a.Connection="close";if("object"==typeof this.options.requestHeaders){var b=this.options.requestHeaders;if(Object.isFunction(b.push))for(var c=0,d=b.length;c<d;c+=2)a[b[c]]=b[c+1];else $H(b).each(function(b){a[b.key]=b.value})}for(var g in a)this.transport.setRequestHeader(g,a[g])},success:function(){var a=this.getStatus();return!a||200<=a&&300>a},getStatus:function(){try{return this.transport.status||0}catch(a){return 0}},respondToReadyState:function(a){var a=Ajax.Request.Events[a],
b=new Ajax.Response(this);if("Complete"==a){try{this._complete=!0,(this.options["on"+b.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(b,b.headerJSON)}catch(c){this.dispatchException(c)}var d=b.getHeader("Content-type");("force"==this.options.evalJS||this.options.evalJS&&d&&d.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i))&&this.evalResponse()}try{(this.options["on"+a]||Prototype.emptyFunction)(b,b.headerJSON),Ajax.Responders.dispatch("on"+
a,this,b,b.headerJSON)}catch(g){this.dispatchException(g)}"Complete"==a&&(this.transport.onreadystatechange=Prototype.emptyFunction)},getHeader:function(a){try{return this.transport.getResponseHeader(a)||null}catch(b){return null}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON())}catch(a){this.dispatchException(a)}},dispatchException:function(a){(this.options.onException||Prototype.emptyFunction)(this,a);Ajax.Responders.dispatch("onException",this,a)}});
Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];
Ajax.Response=Class.create({initialize:function(a){this.request=a;var a=this.transport=a.transport,b=this.readyState=a.readyState;if(2<b&&!Prototype.Browser.IE||4==b)this.status=this.getStatus(),this.statusText=this.getStatusText(),this.responseText=String.interpret(a.responseText),this.headerJSON=this._getHeaderJSON();4==b&&(a=a.responseXML,this.responseXML=Object.isUndefined(a)?null:a,this.responseJSON=this._getResponseJSON())},status:0,statusText:"",getStatus:Ajax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||
""}catch(a){return""}},getHeader:Ajax.Request.prototype.getHeader,getAllHeaders:function(){try{return this.getAllResponseHeaders()}catch(a){return null}},getResponseHeader:function(a){return this.transport.getResponseHeader(a)},getAllResponseHeaders:function(){return this.transport.getAllResponseHeaders()},_getHeaderJSON:function(){var a=this.getHeader("X-JSON");if(!a)return null;a=decodeURIComponent(escape(a));try{return a.evalJSON(this.request.options.sanitizeJSON)}catch(b){this.request.dispatchException(b)}},
_getResponseJSON:function(){var a=this.request.options;if(!a.evalJSON||"force"!=a.evalJSON&&!(this.getHeader("Content-type")||"").include("application/json")||this.responseText.blank())return null;try{return this.responseText.evalJSON(a.sanitizeJSON)}catch(b){this.request.dispatchException(b)}}});
Ajax.Updater=Class.create(Ajax.Request,{initialize:function($super,b,c,d){this.container={success:b.success||b,failure:b.failure||(b.success?null:b)};var d=Object.clone(d),g=d.onComplete;d.onComplete=function(b,c){this.updateContent(b.responseText);Object.isFunction(g)&&g(b,c)}.bind(this);$super(c,d)},updateContent:function(a){var b=this.container[this.success()?"success":"failure"],c=this.options;c.evalScripts||(a=a.stripScripts());if(b=$(b))if(c.insertion)if(Object.isString(c.insertion)){var d=
{};d[c.insertion]=a;b.insert(d)}else c.insertion(b,a);else b.update(a)}});
Ajax.PeriodicalUpdater=Class.create(Ajax.Base,{initialize:function($super,b,c,d){$super(d);this.onComplete=this.options.onComplete;this.frequency=this.options.frequency||2;this.decay=this.options.decay||1;this.updater={};this.container=b;this.url=c;this.start()},start:function(){this.options.onComplete=this.updateComplete.bind(this);this.onTimerEvent()},stop:function(){this.updater.options.onComplete=void 0;clearTimeout(this.timer);(this.onComplete||Prototype.emptyFunction).apply(this,arguments)},
updateComplete:function(a){this.options.decay&&(this.decay=a.responseText==this.lastText?this.decay*this.options.decay:1,this.lastText=a.responseText);this.timer=this.onTimerEvent.bind(this).delay(this.decay*this.frequency)},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options)}});
function $(a){if(1<arguments.length){for(var b=0,c=[],d=arguments.length;b<d;b++)c.push($(arguments[b]));return c}Object.isString(a)&&(a=document.getElementById(a));return Element.extend(a)}Prototype.BrowserFeatures.XPath&&(document._getElementsByXPath=function(a,b){for(var c=[],d=document.evaluate(a,$(b)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),g=0,h=d.snapshotLength;g<h;g++)c.push(Element.extend(d.snapshotItem(g)));return c});if(!window.Node)var Node={};
Node.ELEMENT_NODE||Object.extend(Node,{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12});
(function(){var a=this.Element;this.Element=function(a,c){var c=c||{},a=a.toLowerCase(),d=Element.cache;if(Prototype.Browser.IE&&c.name)return a="<"+a+' name="'+c.name+'">',delete c.name,Element.writeAttribute(document.createElement(a),c);d[a]||(d[a]=Element.extend(document.createElement(a)));return Element.writeAttribute(d[a].cloneNode(!1),c)};Object.extend(this.Element,a||{})}).call(window);Element.cache={};
Element.Methods={visible:function(a){return"none"!=$(a).style.display},toggle:function(a){a=$(a);Element[Element.visible(a)?"hide":"show"](a);return a},hide:function(a){$(a).style.display="none";return a},show:function(a){$(a).style.display="";return a},remove:function(a){a=$(a);a.parentNode.removeChild(a);return a},update:function(a,b){a=$(a);b&&b.toElement&&(b=b.toElement());if(Object.isElement(b))return a.update().insert(b);b=Object.toHTML(b);a.innerHTML=b.stripScripts();b.evalScripts.bind(b).defer();
return a},replace:function(a,b){a=$(a);if(b&&b.toElement)b=b.toElement();else if(!Object.isElement(b)){var b=Object.toHTML(b),c=a.ownerDocument.createRange();c.selectNode(a);b.evalScripts.bind(b).defer();b=c.createContextualFragment(b.stripScripts())}a.parentNode.replaceChild(b,a);return a},insert:function(a,b){a=$(a);if(Object.isString(b)||Object.isNumber(b)||Object.isElement(b)||b&&(b.toElement||b.toHTML))b={bottom:b};var c,d,g;for(position in b)c=b[position],position=position.toLowerCase(),d=Element._insertionTranslations[position],
c&&c.toElement&&(c=c.toElement()),Object.isElement(c)?d(a,c):(c=Object.toHTML(c),g=("before"==position||"after"==position?a.parentNode:a).tagName.toUpperCase(),g=Element._getContentFromAnonymousElement(g,c.stripScripts()),("top"==position||"after"==position)&&g.reverse(),g.each(d.curry(a)),c.evalScripts.bind(c).defer());return a},wrap:function(a,b,c){a=$(a);Object.isElement(b)?$(b).writeAttribute(c||{}):b=Object.isString(b)?new Element(b,c):new Element("div",b);a.parentNode&&a.parentNode.replaceChild(b,
a);b.appendChild(a);return b},inspect:function(a){var a=$(a),b="<"+a.tagName.toLowerCase();$H({id:"id",className:"class"}).each(function(c){var d=c.first(),c=c.last();(d=(a[d]||"").toString())&&(b+=" "+c+"="+d.inspect(!0))});return b+">"},recursivelyCollect:function(a,b){for(var a=$(a),c=[];a=a[b];)1==a.nodeType&&c.push(Element.extend(a));return c},ancestors:function(a){return $(a).recursivelyCollect("parentNode")},descendants:function(a){return $(a).getElementsBySelector("*")},firstDescendant:function(a){for(a=
$(a).firstChild;a&&1!=a.nodeType;)a=a.nextSibling;return $(a)},immediateDescendants:function(a){if(!(a=$(a).firstChild))return[];for(;a&&1!=a.nodeType;)a=a.nextSibling;return a?[a].concat($(a).nextSiblings()):[]},previousSiblings:function(a){return $(a).recursivelyCollect("previousSibling")},nextSiblings:function(a){return $(a).recursivelyCollect("nextSibling")},siblings:function(a){a=$(a);return a.previousSiblings().reverse().concat(a.nextSiblings())},match:function(a,b){Object.isString(b)&&(b=new Selector(b));
return b.match($(a))},up:function(a,b,c){a=$(a);if(1==arguments.length)return $(a.parentNode);var d=a.ancestors();return Object.isNumber(b)?d[b]:Selector.findElement(d,b,c)},down:function(a,b,c){a=$(a);return 1==arguments.length?a.firstDescendant():Object.isNumber(b)?a.descendants()[b]:a.select(b)[c||0]},previous:function(a,b,c){a=$(a);if(1==arguments.length)return $(Selector.handlers.previousElementSibling(a));var d=a.previousSiblings();return Object.isNumber(b)?d[b]:Selector.findElement(d,b,c)},
next:function(a,b,c){a=$(a);if(1==arguments.length)return $(Selector.handlers.nextElementSibling(a));var d=a.nextSiblings();return Object.isNumber(b)?d[b]:Selector.findElement(d,b,c)},select:function(){var a=$A(arguments),b=$(a.shift());return Selector.findChildElements(b,a)},adjacent:function(){var a=$A(arguments),b=$(a.shift());return Selector.findChildElements(b.parentNode,a).without(b)},identify:function(a){var a=$(a),b=a.readAttribute("id"),c=arguments.callee;if(b)return b;do b="anonymous_element_"+
c.counter++;while($(b));a.writeAttribute("id",b);return b},readAttribute:function(a,b){a=$(a);if(Prototype.Browser.IE){var c=Element._attributeTranslations.read;if(c.values[b])return c.values[b](a,b);c.names[b]&&(b=c.names[b]);if(b.include(":"))return!a.attributes||!a.attributes[b]?null:a.attributes[b].value}return a.getAttribute(b)},writeAttribute:function(a,b,c){var a=$(a),d={},g=Element._attributeTranslations.write;"object"==typeof b?d=b:d[b]=Object.isUndefined(c)?!0:c;for(var h in d)b=g.names[h]||
h,c=d[h],g.values[h]&&(b=g.values[h](a,c)),!1===c||null===c?a.removeAttribute(b):!0===c?a.setAttribute(b,b):a.setAttribute(b,c);return a},getHeight:function(a){return $(a).getDimensions().height},getWidth:function(a){return $(a).getDimensions().width},classNames:function(a){return new Element.ClassNames(a)},hasClassName:function(a,b){if(a=$(a)){var c=a.className;return 0<c.length&&(c==b||RegExp("(^|\\s)"+b+"(\\s|$)").test(c))}},addClassName:function(a,b){if(a=$(a))return a.hasClassName(b)||(a.className+=
(a.className?" ":"")+b),a},removeClassName:function(a,b){if(a=$(a))return a.className=a.className.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)")," ").strip(),a},toggleClassName:function(a,b){if(a=$(a))return a[a.hasClassName(b)?"removeClassName":"addClassName"](b)},cleanWhitespace:function(a){for(var a=$(a),b=a.firstChild;b;){var c=b.nextSibling;3==b.nodeType&&!/\S/.test(b.nodeValue)&&a.removeChild(b);b=c}return a},empty:function(a){return $(a).innerHTML.blank()},descendantOf:function(a,b){var a=$(a),c=
b=$(b);if(a.compareDocumentPosition)return 8===(a.compareDocumentPosition(b)&8);if(a.sourceIndex&&!Prototype.Browser.Opera){var d=a.sourceIndex,g=b.sourceIndex,h=b.nextSibling;if(!h){do b=b.parentNode;while(!(h=b.nextSibling)&&b.parentNode)}if(h)return d>g&&d<h.sourceIndex}for(;a=a.parentNode;)if(a==c)return!0;return!1},scrollTo:function(a){var a=$(a),b=a.cumulativeOffset();window.scrollTo(b[0],b[1]);return a},getStyle:function(a,b){var a=$(a),b="float"==b?"cssFloat":b.camelize(),c=a.style[b];c||
(c=(c=document.defaultView.getComputedStyle(a,null))?c[b]:null);return"opacity"==b?c?parseFloat(c):1:"auto"==c?null:c},getOpacity:function(a){return $(a).getStyle("opacity")},setStyle:function(a,b){var a=$(a),c=a.style;if(Object.isString(b))return a.style.cssText+=";"+b,b.include("opacity")?a.setOpacity(b.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var d in b)"opacity"==d?a.setOpacity(b[d]):c["float"==d||"cssFloat"==d?Object.isUndefined(c.styleFloat)?"cssFloat":"styleFloat":d]=b[d];return a},setOpacity:function(a,
b){a=$(a);a.style.opacity=1==b||""===b?"":1E-5>b?0:b;return a},getDimensions:function(a){var a=$(a),b=$(a).getStyle("display");if("none"!=b&&null!=b)return{width:a.offsetWidth,height:a.offsetHeight};var b=a.style,c=b.visibility,d=b.position,g=b.display;b.visibility="hidden";b.position="absolute";b.display="block";var h=a.clientWidth,a=a.clientHeight;b.display=g;b.position=d;b.visibility=c;return{width:h,height:a}},makePositioned:function(a){var a=$(a),b=Element.getStyle(a,"position");if("static"==
b||!b)a._madePositioned=!0,a.style.position="relative",window.opera&&(a.style.top=0,a.style.left=0);return a},undoPositioned:function(a){a=$(a);a._madePositioned&&(a._madePositioned=void 0,a.style.position=a.style.top=a.style.left=a.style.bottom=a.style.right="");return a},makeClipping:function(a){a=$(a);if(a._overflow)return a;a._overflow=Element.getStyle(a,"overflow")||"auto";"hidden"!==a._overflow&&(a.style.overflow="hidden");return a},undoClipping:function(a){a=$(a);if(!a._overflow)return a;a.style.overflow=
"auto"==a._overflow?"":a._overflow;a._overflow=null;return a},cumulativeOffset:function(a){var b=0,c=0;do b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent;while(a);return Element._returnOffset(c,b)},positionedOffset:function(a){var b=0,c=0;do if(b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent){if("BODY"==a.tagName)break;var d=Element.getStyle(a,"position");if("relative"==d||"absolute"==d)break}while(a);return Element._returnOffset(c,b)},absolutize:function(a){a=$(a);if("absolute"!=a.getStyle("position")){var b=
a.positionedOffset(),c=b[1],b=b[0],d=a.clientWidth,g=a.clientHeight;a._originalLeft=b-parseFloat(a.style.left||0);a._originalTop=c-parseFloat(a.style.top||0);a._originalWidth=a.style.width;a._originalHeight=a.style.height;a.style.position="absolute";a.style.top=c+"px";a.style.left=b+"px";a.style.width=d+"px";a.style.height=g+"px";return a}},relativize:function(a){a=$(a);if("relative"!=a.getStyle("position")){a.style.position="relative";var b=parseFloat(a.style.top||0)-(a._originalTop||0),c=parseFloat(a.style.left||
0)-(a._originalLeft||0);a.style.top=b+"px";a.style.left=c+"px";a.style.height=a._originalHeight;a.style.width=a._originalWidth;return a}},cumulativeScrollOffset:function(a){var b=0,c=0;do b+=a.scrollTop||0,c+=a.scrollLeft||0,a=a.parentNode;while(a);return Element._returnOffset(c,b)},getOffsetParent:function(a){if(a.offsetParent)return $(a.offsetParent);if(a==document.body)return $(a);for(;(a=a.parentNode)&&a!=document.body;)if("static"!=Element.getStyle(a,"position"))return $(a);return $(document.body)},
viewportOffset:function(a){var b=0,c=0,d=a;do if(b+=d.offsetTop||0,c+=d.offsetLeft||0,d.offsetParent==document.body&&"absolute"==Element.getStyle(d,"position"))break;while(d=d.offsetParent);d=a;do if(!Prototype.Browser.Opera||"BODY"==d.tagName)b-=d.scrollTop||0,c-=d.scrollLeft||0;while(d=d.parentNode);return Element._returnOffset(c,b)},clonePosition:function(a,b,c){var c=Object.extend({setLeft:!0,setTop:!0,setWidth:!0,setHeight:!0,offsetTop:0,offsetLeft:0},c||{}),b=$(b),d=b.viewportOffset(),a=$(a),
g=[0,0],h=null;"absolute"==Element.getStyle(a,"position")&&(h=a.getOffsetParent(),g=h.viewportOffset());h==document.body&&(g[0]-=document.body.offsetLeft,g[1]-=document.body.offsetTop);c.setLeft&&(a.style.left=d[0]-g[0]+c.offsetLeft+"px");c.setTop&&(a.style.top=d[1]-g[1]+c.offsetTop+"px");c.setWidth&&(a.style.width=b.offsetWidth+"px");c.setHeight&&(a.style.height=b.offsetHeight+"px");return a}};Element.Methods.identify.counter=1;
Object.extend(Element.Methods,{getElementsBySelector:Element.Methods.select,childElements:Element.Methods.immediateDescendants});Element._attributeTranslations={write:{names:{className:"class",htmlFor:"for"},values:{}}};
Prototype.Browser.Opera?(Element.Methods.getStyle=Element.Methods.getStyle.wrap(function(a,b,c){switch(c){case "left":case "top":case "right":case "bottom":if("static"===a(b,"position"))return null;case "height":case "width":if(!Element.visible(b))return null;var d=parseInt(a(b,c),10);return d!==b["offset"+c.capitalize()]?d+"px":("height"===c?["border-top-width","padding-top","padding-bottom","border-bottom-width"]:["border-left-width","padding-left","padding-right","border-right-width"]).inject(d,
function(c,d){var l=a(b,d);return null===l?c:c-parseInt(l,10)})+"px";default:return a(b,c)}}),Element.Methods.readAttribute=Element.Methods.readAttribute.wrap(function(a,b,c){return"title"===c?b.title:a(b,c)})):Prototype.Browser.IE?($w("positionedOffset getOffsetParent viewportOffset").each(function(a){Element.Methods[a]=Element.Methods[a].wrap(function(a,c){var c=$(c),d=c.getStyle("position");if("static"!=d)return a(c);c.setStyle({position:"relative"});var g=a(c);c.setStyle({position:d});return g})}),
Element.Methods.getStyle=function(a,b){var a=$(a),b="float"==b||"cssFloat"==b?"styleFloat":b.camelize(),c=a.style[b];!c&&a.currentStyle&&(c=a.currentStyle[b]);return"opacity"==b?(c=(a.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/))&&c[1]?parseFloat(c[1])/100:1:"auto"==c?("width"==b||"height"==b)&&"none"!=a.getStyle("display")?a["offset"+b.capitalize()]+"px":null:c},Element.Methods.setOpacity=function(a,b){var a=$(a),c=a.currentStyle;if(c&&!c.hasLayout||!c&&"normal"==a.style.zoom)a.style.zoom=
1;var c=a.getStyle("filter"),d=a.style;if(1==b||""===b)return(c=c.replace(/alpha\([^\)]*\)/gi,""))?d.filter=c:d.removeAttribute("filter"),a;1E-5>b&&(b=0);d.filter=c.replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+100*b+")";return a},Element._attributeTranslations={read:{names:{"class":"className","for":"htmlFor"},values:{_getAttr:function(a,b){return a.getAttribute(b,2)},_getAttrNode:function(a,b){var c=a.getAttributeNode(b);return c?c.value:""},_getEv:function(a,b){return(b=a.getAttribute(b))?b.toString().slice(23,
-2):null},_flag:function(a,b){return $(a).hasAttribute(b)?b:null},style:function(a){return a.style.cssText.toLowerCase()},title:function(a){return a.title}}}},Element._attributeTranslations.write={names:Object.clone(Element._attributeTranslations.read.names),values:{checked:function(a,b){a.checked=!!b},style:function(a,b){a.style.cssText=b?b:""}}},Element._attributeTranslations.has={},$w("colSpan rowSpan vAlign dateTime accessKey tabIndex encType maxLength readOnly longDesc").each(function(a){Element._attributeTranslations.write.names[a.toLowerCase()]=
a;Element._attributeTranslations.has[a.toLowerCase()]=a}),function(a){Object.extend(a,{href:a._getAttr,src:a._getAttr,type:a._getAttr,action:a._getAttrNode,disabled:a._flag,checked:a._flag,readonly:a._flag,multiple:a._flag,onload:a._getEv,onunload:a._getEv,onclick:a._getEv,ondblclick:a._getEv,onmousedown:a._getEv,onmouseup:a._getEv,onmouseover:a._getEv,onmousemove:a._getEv,onmouseout:a._getEv,onfocus:a._getEv,onblur:a._getEv,onkeypress:a._getEv,onkeydown:a._getEv,onkeyup:a._getEv,onsubmit:a._getEv,
onreset:a._getEv,onselect:a._getEv,onchange:a._getEv})}(Element._attributeTranslations.read.values)):Prototype.Browser.Gecko&&/rv:1\.8\.0/.test(navigator.userAgent)?Element.Methods.setOpacity=function(a,b){a=$(a);a.style.opacity=1==b?0.999999:""===b?"":1E-5>b?0:b;return a}:Prototype.Browser.WebKit&&(Element.Methods.setOpacity=function(a,b){a=$(a);a.style.opacity=1==b||""===b?"":1E-5>b?0:b;if(1==b)if("IMG"==a.tagName&&a.width)a.width++,a.width--;else try{var c=document.createTextNode(" ");a.appendChild(c);
a.removeChild(c)}catch(d){}return a},Element.Methods.cumulativeOffset=function(a){var b=0,c=0;do{b+=a.offsetTop||0;c+=a.offsetLeft||0;if(a.offsetParent==document.body&&"absolute"==Element.getStyle(a,"position"))break;a=a.offsetParent}while(a);return Element._returnOffset(c,b)});
if(Prototype.Browser.IE||Prototype.Browser.Opera)Element.Methods.update=function(a,b){a=$(a);b&&b.toElement&&(b=b.toElement());if(Object.isElement(b))return a.update().insert(b);var b=Object.toHTML(b),c=a.tagName.toUpperCase();c in Element._insertionTranslations.tags?($A(a.childNodes).each(function(b){a.removeChild(b)}),Element._getContentFromAnonymousElement(c,b.stripScripts()).each(function(b){a.appendChild(b)})):a.innerHTML=b.stripScripts();b.evalScripts.bind(b).defer();return a};
document.createElement("div").outerHTML&&(Element.Methods.replace=function(a,b){a=$(a);b&&b.toElement&&(b=b.toElement());if(Object.isElement(b))return a.parentNode.replaceChild(b,a),a;var b=Object.toHTML(b),c=a.parentNode,d=c.tagName.toUpperCase();if(Element._insertionTranslations.tags[d]){var g=a.next(),d=Element._getContentFromAnonymousElement(d,b.stripScripts());c.removeChild(a);g?d.each(function(a){c.insertBefore(a,g)}):d.each(function(a){c.appendChild(a)})}else a.outerHTML=b.stripScripts();b.evalScripts.bind(b).defer();
return a});Element._returnOffset=function(a,b){var c=[a,b];c.left=a;c.top=b;return c};Element._getContentFromAnonymousElement=function(a,b){var c=new Element("div"),d=Element._insertionTranslations.tags[a];d?(c.innerHTML=d[0]+b+d[1],d[2].times(function(){c=c.firstChild})):c.innerHTML=b;return $A(c.childNodes)};
Element._insertionTranslations={before:function(a,b){a.parentNode.insertBefore(b,a)},top:function(a,b){a.insertBefore(b,a.firstChild)},bottom:function(a,b){a.appendChild(b)},after:function(a,b){a.parentNode.insertBefore(b,a.nextSibling)},tags:{TABLE:["<table>","</table>",1],TBODY:["<table><tbody>","</tbody></table>",2],TR:["<table><tbody><tr>","</tr></tbody></table>",3],TD:["<table><tbody><tr><td>","</td></tr></tbody></table>",4],SELECT:["<select>","</select>",1]}};
(function(){Object.extend(this.tags,{THEAD:this.tags.TBODY,TFOOT:this.tags.TBODY,TH:this.tags.TD})}).call(Element._insertionTranslations);Element.Methods.Simulated={hasAttribute:function(a,b){var b=Element._attributeTranslations.has[b]||b,c=$(a).getAttributeNode(b);return c&&c.specified}};Element.Methods.ByTag={};Object.extend(Element,Element.Methods);
!Prototype.BrowserFeatures.ElementExtensions&&document.createElement("div").__proto__&&(window.HTMLElement={},window.HTMLElement.prototype=document.createElement("div").__proto__,Prototype.BrowserFeatures.ElementExtensions=!0);
Element.extend=function(){if(Prototype.BrowserFeatures.SpecificElementExtensions)return Prototype.K;var a={},b=Element.Methods.ByTag,c=Object.extend(function(c){if(!c||c._extendedByPrototype||1!=c.nodeType||c==window)return c;var g=Object.clone(a),h=c.tagName,l;b[h]&&Object.extend(g,b[h]);for(l in g)h=g[l],Object.isFunction(h)&&!(l in c)&&(c[l]=h.methodize());c._extendedByPrototype=Prototype.emptyFunction;return c},{refresh:function(){Prototype.BrowserFeatures.ElementExtensions||(Object.extend(a,
Element.Methods),Object.extend(a,Element.Methods.Simulated))}});c.refresh();return c}();Element.hasAttribute=function(a,b){return a.hasAttribute?a.hasAttribute(b):Element.Methods.Simulated.hasAttribute(a,b)};
Element.addMethods=function(a){function b(b){b=b.toUpperCase();Element.Methods.ByTag[b]||(Element.Methods.ByTag[b]={});Object.extend(Element.Methods.ByTag[b],a)}function c(a,b,c){var c=c||!1,d;for(d in a){var g=a[d];if(Object.isFunction(g)&&(!c||!(d in b)))b[d]=g.methodize()}}function d(a){var b,c={OPTGROUP:"OptGroup",TEXTAREA:"TextArea",P:"Paragraph",FIELDSET:"FieldSet",UL:"UList",OL:"OList",DL:"DList",DIR:"Directory",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",
Q:"Quote",INS:"Mod",DEL:"Mod",A:"Anchor",IMG:"Image",CAPTION:"TableCaption",COL:"TableCol",COLGROUP:"TableCol",THEAD:"TableSection",TFOOT:"TableSection",TBODY:"TableSection",TR:"TableRow",TH:"TableCell",TD:"TableCell",FRAMESET:"FrameSet",IFRAME:"IFrame"};c[a]&&(b="HTML"+c[a]+"Element");if(window[b])return window[b];b="HTML"+a+"Element";if(window[b])return window[b];b="HTML"+a.capitalize()+"Element";if(window[b])return window[b];window[b]={};window[b].prototype=document.createElement(a).__proto__;
return window[b]}var g=Prototype.BrowserFeatures,h=Element.Methods.ByTag;a||(Object.extend(Form,Form.Methods),Object.extend(Form.Element,Form.Element.Methods),Object.extend(Element.Methods.ByTag,{FORM:Object.clone(Form.Methods),INPUT:Object.clone(Form.Element.Methods),SELECT:Object.clone(Form.Element.Methods),TEXTAREA:Object.clone(Form.Element.Methods)}));if(2==arguments.length)var l=a,a=arguments[1];l?Object.isArray(l)?l.each(b):b(l):Object.extend(Element.Methods,a||{});g.ElementExtensions&&(c(Element.Methods,
HTMLElement.prototype),c(Element.Methods.Simulated,HTMLElement.prototype,!0));if(g.SpecificElementExtensions)for(var n in Element.Methods.ByTag)g=d(n),Object.isUndefined(g)||c(h[n],g.prototype);Object.extend(Element,Element.Methods);delete Element.ByTag;Element.extend.refresh&&Element.extend.refresh();Element.cache={}};
document.viewport={getDimensions:function(){var a={},b=Prototype.Browser;$w("width height").each(function(c){var d=c.capitalize();a[c]=b.WebKit&&!document.evaluate?self["inner"+d]:b.Opera?document.body["client"+d]:document.documentElement["client"+d]});return a},getWidth:function(){return this.getDimensions().width},getHeight:function(){return this.getDimensions().height},getScrollOffsets:function(){return Element._returnOffset(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,
window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)}};
var Selector=Class.create({initialize:function(a){this.expression=a.strip();this.compileMatcher()},shouldUseXPath:function(){if(!Prototype.BrowserFeatures.XPath)return!1;var a=this.expression;return Prototype.Browser.WebKit&&(a.include("-of-type")||a.include(":empty"))||/(\[[\w-]*?:|:checked)/.test(this.expression)?!1:!0},compileMatcher:function(){if(this.shouldUseXPath())return this.compileXPathMatcher();var a=this.expression,b=Selector.patterns,c=Selector.criteria,d,g;if(Selector._cache[a])this.matcher=
Selector._cache[a];else{for(this.matcher=["this.matcher = function(root) {","var r = root, h = Selector.handlers, c = false, n;"];a&&d!=a&&/\S/.test(a);){d=a;for(var h in b)if(g=b[h],g=a.match(g)){this.matcher.push(Object.isFunction(c[h])?c[h](g):(new Template(c[h])).evaluate(g));a=a.replace(g[0],"");break}}this.matcher.push("return h.unique(n);\n}");eval(this.matcher.join("\n"));Selector._cache[this.expression]=this.matcher}},compileXPathMatcher:function(){var a=this.expression,b=Selector.patterns,
c=Selector.xpath,d,g;if(Selector._cache[a])this.xpath=Selector._cache[a];else{for(this.matcher=[".//*"];a&&d!=a&&/\S/.test(a);){d=a;for(var h in b)if(g=a.match(b[h])){this.matcher.push(Object.isFunction(c[h])?c[h](g):(new Template(c[h])).evaluate(g));a=a.replace(g[0],"");break}}this.xpath=this.matcher.join("");Selector._cache[this.expression]=this.xpath}},findElements:function(a){a=a||document;return this.xpath?document._getElementsByXPath(this.xpath,a):this.matcher(a)},match:function(a){this.tokens=
[];for(var b=this.expression,c=Selector.patterns,d=Selector.assertions,g,h;b&&g!==b&&/\S/.test(b);){g=b;for(var l in c)if(h=c[l],h=b.match(h))if(d[l])this.tokens.push([l,Object.clone(h)]),b=b.replace(h[0],"");else return this.findElements(document).include(a)}b=!0;for(l=0;d=this.tokens[l];l++)if(c=d[0],d=d[1],!Selector.assertions[c](a,d)){b=!1;break}return b},toString:function(){return this.expression},inspect:function(){return"#<Selector:"+this.expression.inspect()+">"}});
Object.extend(Selector,{_cache:{},xpath:{descendant:"//*",child:"/*",adjacent:"/following-sibling::*[1]",laterSibling:"/following-sibling::*",tagName:function(a){return"*"==a[1]?"":"[local-name()='"+a[1].toLowerCase()+"' or local-name()='"+a[1].toUpperCase()+"']"},className:"[contains(concat(' ', @class, ' '), ' #{1} ')]",id:"[@id='#{1}']",attrPresence:function(a){a[1]=a[1].toLowerCase();return(new Template("[@#{1}]")).evaluate(a)},attr:function(a){a[1]=a[1].toLowerCase();a[3]=a[5]||a[6];return(new Template(Selector.xpath.operators[a[2]])).evaluate(a)},
pseudo:function(a){var b=Selector.xpath.pseudos[a[1]];return!b?"":Object.isFunction(b)?b(a):(new Template(Selector.xpath.pseudos[a[1]])).evaluate(a)},operators:{"=":"[@#{1}='#{3}']","!=":"[@#{1}!='#{3}']","^=":"[starts-with(@#{1}, '#{3}')]","$=":"[substring(@#{1}, (string-length(@#{1}) - string-length('#{3}') + 1))='#{3}']","*=":"[contains(@#{1}, '#{3}')]","~=":"[contains(concat(' ', @#{1}, ' '), ' #{3} ')]","|=":"[contains(concat('-', @#{1}, '-'), '-#{3}-')]"},pseudos:{"first-child":"[not(preceding-sibling::*)]",
"last-child":"[not(following-sibling::*)]","only-child":"[not(preceding-sibling::* or following-sibling::*)]",empty:"[count(*) = 0 and (count(text()) = 0 or translate(text(), ' \t\r\n', '') = '')]",checked:"[@checked]",disabled:"[@disabled]",enabled:"[not(@disabled)]",not:function(a){for(var b=a[6],c=Selector.patterns,d=Selector.xpath,g,h,l=[];b&&g!=b&&/\S/.test(b);){g=b;for(var n in c)if(a=b.match(c[n])){h=Object.isFunction(d[n])?d[n](a):(new Template(d[n])).evaluate(a);l.push("("+h.substring(1,
h.length-1)+")");b=b.replace(a[0],"");break}}return"[not("+l.join(" and ")+")]"},"nth-child":function(a){return Selector.xpath.pseudos.nth("(count(./preceding-sibling::*) + 1) ",a)},"nth-last-child":function(a){return Selector.xpath.pseudos.nth("(count(./following-sibling::*) + 1) ",a)},"nth-of-type":function(a){return Selector.xpath.pseudos.nth("position() ",a)},"nth-last-of-type":function(a){return Selector.xpath.pseudos.nth("(last() + 1 - position()) ",a)},"first-of-type":function(a){a[6]="1";
return Selector.xpath.pseudos["nth-of-type"](a)},"last-of-type":function(a){a[6]="1";return Selector.xpath.pseudos["nth-last-of-type"](a)},"only-of-type":function(a){var b=Selector.xpath.pseudos;return b["first-of-type"](a)+b["last-of-type"](a)},nth:function(a,b){var c,d=b[6];"even"==d&&(d="2n+0");"odd"==d&&(d="2n+1");if(c=d.match(/^(\d+)$/))return"["+a+"= "+c[1]+"]";if(c=d.match(/^(-?\d*)?n(([+-])(\d+))?/))return"-"==c[1]&&(c[1]=-1),d=c[1]?Number(c[1]):1,c=c[2]?Number(c[2]):0,(new Template("[((#{fragment} - #{b}) mod #{a} = 0) and ((#{fragment} - #{b}) div #{a} >= 0)]")).evaluate({fragment:a,
a:d,b:c})}}},criteria:{tagName:'n = h.tagName(n, r, "#{1}", c);   c = false;',className:'n = h.className(n, r, "#{1}", c); c = false;',id:'n = h.id(n, r, "#{1}", c);        c = false;',attrPresence:'n = h.attrPresence(n, r, "#{1}"); c = false;',attr:function(a){a[3]=a[5]||a[6];return(new Template('n = h.attr(n, r, "#{1}", "#{3}", "#{2}"); c = false;')).evaluate(a)},pseudo:function(a){a[6]&&(a[6]=a[6].replace(/"/g,'\\"'));return(new Template('n = h.pseudo(n, "#{1}", "#{6}", r, c); c = false;')).evaluate(a)},
descendant:'c = "descendant";',child:'c = "child";',adjacent:'c = "adjacent";',laterSibling:'c = "laterSibling";'},patterns:{laterSibling:/^\s*~\s*/,child:/^\s*>\s*/,adjacent:/^\s*\+\s*/,descendant:/^\s/,tagName:/^\s*(\*|[\w\-]+)(\b|$)?/,id:/^#([\w\-\*]+)(\b|$)/,className:/^\.([\w\-\*]+)(\b|$)/,pseudo:/^:((first|last|nth|nth-last|only)(-child|-of-type)|empty|checked|(en|dis)abled|not)(\((.*?)\))?(\b|$|(?=\s|[:+~>]))/,attrPresence:/^\[([\w]+)\]/,attr:/\[((?:[\w-]*:)?[\w-]+)\s*(?:([!^$*~|]?=)\s*((['"])([^\4]*?)\4|([^'"][^\]]*?)))?\]/},
assertions:{tagName:function(a,b){return b[1].toUpperCase()==a.tagName.toUpperCase()},className:function(a,b){return Element.hasClassName(a,b[1])},id:function(a,b){return a.id===b[1]},attrPresence:function(a,b){return Element.hasAttribute(a,b[1])},attr:function(a,b){var c=Element.readAttribute(a,b[1]);return Selector.operators[b[2]](c,b[3])}},handlers:{concat:function(a,b){for(var c=0,d;d=b[c];c++)a.push(d);return a},mark:function(a){for(var b=0,c;c=a[b];b++)c._counted=!0;return a},unmark:function(a){for(var b=
0,c;c=a[b];b++)c._counted=void 0;return a},index:function(a,b,c){a._counted=!0;if(b)for(var a=a.childNodes,b=a.length-1,d=1;0<=b;b--){var g=a[b];if(1==g.nodeType&&(!c||g._counted))g.nodeIndex=d++}else{b=0;d=1;for(a=a.childNodes;g=a[b];b++)if(1==g.nodeType&&(!c||g._counted))g.nodeIndex=d++}},unique:function(a){if(0==a.length)return a;for(var b=[],c,d=0,g=a.length;d<g;d++)if(!(c=a[d])._counted)c._counted=!0,b.push(Element.extend(c));return Selector.handlers.unmark(b)},descendant:function(a){for(var b=
Selector.handlers,c=0,d=[],g;g=a[c];c++)b.concat(d,g.getElementsByTagName("*"));return d},child:function(a){for(var b=0,c=[],d;d=a[b];b++)for(var g=0,h;h=d.childNodes[g];g++)1==h.nodeType&&"!"!=h.tagName&&c.push(h);return c},adjacent:function(a){for(var b=0,c=[],d;d=a[b];b++)(d=this.nextElementSibling(d))&&c.push(d);return c},laterSibling:function(a){for(var b=Selector.handlers,c=0,d=[],g;g=a[c];c++)b.concat(d,Element.nextSiblings(g));return d},nextElementSibling:function(a){for(;a=a.nextSibling;)if(1==
a.nodeType)return a;return null},previousElementSibling:function(a){for(;a=a.previousSibling;)if(1==a.nodeType)return a;return null},tagName:function(a,b,c,d){var g=c.toUpperCase(),h=[],l=Selector.handlers;if(a){if(d){if("descendant"==d){for(b=0;d=a[b];b++)l.concat(h,d.getElementsByTagName(c));return h}a=this[d](a);if("*"==c)return a}for(b=0;d=a[b];b++)d.tagName.toUpperCase()===g&&h.push(d);return h}return b.getElementsByTagName(c)},id:function(a,b,c,d){var c=$(c),g=Selector.handlers;if(!c)return[];
if(!a&&b==document)return[c];if(a){if(d)if("child"==d)for(b=0;d=a[b];b++){if(c.parentNode==d)return[c]}else if("descendant"==d)for(b=0;d=a[b];b++){if(Element.descendantOf(c,d))return[c]}else if("adjacent"==d)for(b=0;d=a[b];b++){if(Selector.handlers.previousElementSibling(c)==d)return[c]}else a=g[d](a);for(b=0;d=a[b];b++)if(d==c)return[c];return[]}return c&&Element.descendantOf(c,b)?[c]:[]},className:function(a,b,c,d){a&&d&&(a=this[d](a));return Selector.handlers.byClassName(a,b,c)},byClassName:function(a,
b,c){a||(a=Selector.handlers.descendant([b]));for(var b=" "+c+" ",d=0,g=[],h,l;h=a[d];d++)l=h.className,0!=l.length&&(l==c||(" "+l+" ").include(b))&&g.push(h);return g},attrPresence:function(a,b,c){a||(a=b.getElementsByTagName("*"));for(var b=[],d=0,g;g=a[d];d++)Element.hasAttribute(g,c)&&b.push(g);return b},attr:function(a,b,c,d,g){a||(a=b.getElementsByTagName("*"));for(var b=Selector.operators[g],g=[],h=0,l;l=a[h];h++){var n=Element.readAttribute(l,c);null!==n&&b(n,d)&&g.push(l)}return g},pseudo:function(a,
b,c,d,g){a&&g&&(a=this[g](a));a||(a=d.getElementsByTagName("*"));return Selector.pseudos[b](a,c,d)}},pseudos:{"first-child":function(a){for(var b=0,c=[],d;d=a[b];b++)Selector.handlers.previousElementSibling(d)||c.push(d);return c},"last-child":function(a){for(var b=0,c=[],d;d=a[b];b++)Selector.handlers.nextElementSibling(d)||c.push(d);return c},"only-child":function(a){for(var b=Selector.handlers,c=0,d=[],g;g=a[c];c++)!b.previousElementSibling(g)&&!b.nextElementSibling(g)&&d.push(g);return d},"nth-child":function(a,
b,c){return Selector.pseudos.nth(a,b,c)},"nth-last-child":function(a,b,c){return Selector.pseudos.nth(a,b,c,!0)},"nth-of-type":function(a,b,c){return Selector.pseudos.nth(a,b,c,!1,!0)},"nth-last-of-type":function(a,b,c){return Selector.pseudos.nth(a,b,c,!0,!0)},"first-of-type":function(a,b,c){return Selector.pseudos.nth(a,"1",c,!1,!0)},"last-of-type":function(a,b,c){return Selector.pseudos.nth(a,"1",c,!0,!0)},"only-of-type":function(a,b,c){var d=Selector.pseudos;return d["last-of-type"](d["first-of-type"](a,
b,c),b,c)},getIndices:function(a,b,c){return 0==a?0<b?[b]:[]:$R(1,c).inject([],function(c,g){0==(g-b)%a&&0<=(g-b)/a&&c.push(g);return c})},nth:function(a,b,c,d,g){if(0==a.length)return[];"even"==b&&(b="2n+0");"odd"==b&&(b="2n+1");var c=Selector.handlers,h=[],l=[],n;c.mark(a);n=0;for(var q;q=a[n];n++)q.parentNode._counted||(c.index(q.parentNode,d,g),l.push(q.parentNode));if(b.match(/^\d+$/)){b=Number(b);for(n=0;q=a[n];n++)q.nodeIndex==b&&h.push(q)}else if(n=b.match(/^(-?\d*)?n(([+-])(\d+))?/)){"-"==
n[1]&&(n[1]=-1);b=Selector.pseudos.getIndices(n[1]?Number(n[1]):1,n[2]?Number(n[2]):0,a.length);n=0;for(d=b.length;q=a[n];n++)for(g=0;g<d;g++)q.nodeIndex==b[g]&&h.push(q)}c.unmark(a);c.unmark(l);return h},empty:function(a){for(var b=0,c=[],d;d=a[b];b++)"!"==d.tagName||d.firstChild&&!d.innerHTML.match(/^\s*$/)||c.push(d);return c},not:function(a,b,c){var d=Selector.handlers,b=(new Selector(b)).findElements(c);d.mark(b);for(var c=0,g=[],h;h=a[c];c++)h._counted||g.push(h);d.unmark(b);return g},enabled:function(a){for(var b=
0,c=[],d;d=a[b];b++)d.disabled||c.push(d);return c},disabled:function(a){for(var b=0,c=[],d;d=a[b];b++)d.disabled&&c.push(d);return c},checked:function(a){for(var b=0,c=[],d;d=a[b];b++)d.checked&&c.push(d);return c}},operators:{"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"^=":function(a,b){return a.startsWith(b)},"$=":function(a,b){return a.endsWith(b)},"*=":function(a,b){return a.include(b)},"~=":function(a,b){return(" "+a+" ").include(" "+b+" ")},"|=":function(a,b){return("-"+
a.toUpperCase()+"-").include("-"+b.toUpperCase()+"-")}},matchElements:function(a,b){var c=(new Selector(b)).findElements(),d=Selector.handlers;d.mark(c);for(var g=0,h=[],l;l=a[g];g++)l._counted&&h.push(l);d.unmark(c);return h},findElement:function(a,b,c){Object.isNumber(b)&&(c=b,b=!1);return Selector.matchElements(a,b||"*")[c||0]},findChildElements:function(a,b){var c=b.join(","),b=[];c.scan(/(([\w#:.~>+()\s-]+|\*|\[.*?\])+)\s*(,|$)/,function(a){b.push(a[1].strip())});for(var c=[],d=Selector.handlers,
g=0,h=b.length,l;g<h;g++)l=new Selector(b[g].strip()),d.concat(c,l.findElements(a));return 1<h?d.unique(c):c}});Prototype.Browser.IE&&(Selector.handlers.concat=function(a,b){for(var c=0,d;d=b[c];c++)"!"!==d.tagName&&a.push(d);return a});function $$(){return Selector.findChildElements(document,$A(arguments))}
var Form={reset:function(a){$(a).reset();return a},serializeElements:function(a,b){"object"!=typeof b?b={hash:!!b}:Object.isUndefined(b.hash)&&(b.hash=!0);var c,d,g=!1,h=b.submit,l=a.inject({},function(a,b){if(!b.disabled&&b.name&&(c=b.name,d=$(b).getValue(),null!=d&&("submit"!=b.type||!g&&!1!==h&&(!h||c==h)&&(g=!0))))c in a?(Object.isArray(a[c])||(a[c]=[a[c]]),a[c].push(d)):a[c]=d;return a});return b.hash?l:Object.toQueryString(l)},Methods:{serialize:function(a,b){return Form.serializeElements(Form.getElements(a),
b)},getElements:function(a){return $A($(a).getElementsByTagName("*")).inject([],function(a,c){Form.Element.Serializers[c.tagName.toLowerCase()]&&a.push(Element.extend(c));return a})},getInputs:function(a,b,c){a=$(a);a=a.getElementsByTagName("input");if(!b&&!c)return $A(a).map(Element.extend);for(var d=0,g=[],h=a.length;d<h;d++){var l=a[d];b&&l.type!=b||c&&l.name!=c||g.push(Element.extend(l))}return g},disable:function(a){a=$(a);Form.getElements(a).invoke("disable");return a},enable:function(a){a=
$(a);Form.getElements(a).invoke("enable");return a},findFirstElement:function(a){var a=$(a).getElements().findAll(function(a){return"hidden"!=a.type&&!a.disabled}),b=a.findAll(function(a){return a.hasAttribute("tabIndex")&&0<=a.tabIndex}).sortBy(function(a){return a.tabIndex}).first();return b?b:a.find(function(a){return["input","select","textarea"].include(a.tagName.toLowerCase())})},focusFirstElement:function(a){a=$(a);a.findFirstElement().activate();return a},request:function(a,b){var a=$(a),b=
Object.clone(b||{}),c=b.parameters,d=a.readAttribute("action")||"";d.blank()&&(d=window.location.href);b.parameters=a.serialize(!0);c&&(Object.isString(c)&&(c=c.toQueryParams()),Object.extend(b.parameters,c));a.hasAttribute("method")&&!b.method&&(b.method=a.method);return new Ajax.Request(d,b)}},Element:{focus:function(a){$(a).focus();return a},select:function(a){$(a).select();return a}}};
Form.Element.Methods={serialize:function(a){a=$(a);if(!a.disabled&&a.name){var b=a.getValue();if(void 0!=b){var c={};c[a.name]=b;return Object.toQueryString(c)}}return""},getValue:function(a){var a=$(a),b=a.tagName.toLowerCase();return Form.Element.Serializers[b](a)},setValue:function(a,b){var a=$(a),c=a.tagName.toLowerCase();Form.Element.Serializers[c](a,b);return a},clear:function(a){$(a).value="";return a},present:function(a){return""!=$(a).value},activate:function(a){a=$(a);try{a.focus(),a.select&&
("input"!=a.tagName.toLowerCase()||!["button","reset","submit"].include(a.type))&&a.select()}catch(b){}return a},disable:function(a){a=$(a);a.blur();a.disabled=!0;return a},enable:function(a){a=$(a);a.disabled=!1;return a}};var Field=Form.Element,$F=Form.Element.Methods.getValue;
Form.Element.Serializers={input:function(a,b){switch(a.type.toLowerCase()){case "checkbox":case "radio":return Form.Element.Serializers.inputSelector(a,b);default:return Form.Element.Serializers.textarea(a,b)}},inputSelector:function(a,b){if(Object.isUndefined(b))return a.checked?a.value:null;a.checked=!!b},textarea:function(a,b){if(Object.isUndefined(b))return a.value;a.value=b},select:function(a,b){if(Object.isUndefined(b))return this["select-one"==a.type?"selectOne":"selectMany"](a);for(var c,
d,g=!Object.isArray(b),h=0,l=a.length;h<l;h++)if(c=a.options[h],d=this.optionValue(c),g){if(d==b){c.selected=!0;break}}else c.selected=b.include(d)},selectOne:function(a){var b=a.selectedIndex;return 0<=b?this.optionValue(a.options[b]):null},selectMany:function(a){var b,c=a.length;if(!c)return null;var d=0;for(b=[];d<c;d++){var g=a.options[d];g.selected&&b.push(this.optionValue(g))}return b},optionValue:function(a){return Element.extend(a).hasAttribute("value")?a.value:a.text}};
Abstract.TimedObserver=Class.create(PeriodicalExecuter,{initialize:function($super,b,c,d){$super(d,c);this.element=$(b);this.lastValue=this.getValue()},execute:function(){var a=this.getValue();if(Object.isString(this.lastValue)&&Object.isString(a)?this.lastValue!=a:String(this.lastValue)!=String(a))this.callback(this.element,a),this.lastValue=a}});Form.Element.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.Element.getValue(this.element)}});
Form.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.serialize(this.element)}});
Abstract.EventObserver=Class.create({initialize:function(a,b){this.element=$(a);this.callback=b;this.lastValue=this.getValue();"form"==this.element.tagName.toLowerCase()?this.registerFormCallbacks():this.registerCallback(this.element)},onElementEvent:function(){var a=this.getValue();this.lastValue!=a&&(this.callback(this.element,a),this.lastValue=a)},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback,this)},registerCallback:function(a){if(a.type)switch(a.type.toLowerCase()){case "checkbox":case "radio":Event.observe(a,
"click",this.onElementEvent.bind(this));break;default:Event.observe(a,"change",this.onElementEvent.bind(this))}}});Form.Element.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.Element.getValue(this.element)}});Form.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.serialize(this.element)}});if(!window.Event)var Event={};
Object.extend(Event,{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,cache:{},relatedTarget:function(a){switch(a.type){case "mouseover":a=a.fromElement;break;case "mouseout":a=a.toElement;break;default:return null}return Element.extend(a)}});
Event.Methods=function(){var a;if(Prototype.Browser.IE){var b={"0":1,1:4,2:2};a=function(a,d){return a.button==b[d]}}else a=Prototype.Browser.WebKit?function(a,b){switch(b){case 0:return 1==a.which&&!a.metaKey;case 1:return 1==a.which&&a.metaKey;default:return!1}}:function(a,b){return a.which?a.which===b+1:a.button===b};return{isLeftClick:function(b){return a(b,0)},isMiddleClick:function(b){return a(b,1)},isRightClick:function(b){return a(b,2)},element:function(a){a=Event.extend(a).target;return Element.extend(a.nodeType==
Node.TEXT_NODE?a.parentNode:a)},findElement:function(a,b){var g=Event.element(a);if(!b)return g;g=[g].concat(g.ancestors());return Selector.findElement(g,b,0)},pointer:function(a){return{x:a.pageX||a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft),y:a.pageY||a.clientY+(document.documentElement.scrollTop||document.body.scrollTop)}},pointerX:function(a){return Event.pointer(a).x},pointerY:function(a){return Event.pointer(a).y},stop:function(a){Event.extend(a);a.preventDefault();
a.stopPropagation();a.stopped=!0}}}();
Event.extend=function(){var a=Object.keys(Event.Methods).inject({},function(a,c){a[c]=Event.Methods[c].methodize();return a});if(Prototype.Browser.IE)return Object.extend(a,{stopPropagation:function(){this.cancelBubble=!0},preventDefault:function(){this.returnValue=!1},inspect:function(){return"[object Event]"}}),function(b){if(!b)return!1;if(b._extendedByPrototype)return b;b._extendedByPrototype=Prototype.emptyFunction;var c=Event.pointer(b);Object.extend(b,{target:b.srcElement,relatedTarget:Event.relatedTarget(b),
pageX:c.x,pageY:c.y});return Object.extend(b,a)};Event.prototype=Event.prototype||document.createEvent("HTMLEvents").__proto__;Object.extend(Event.prototype,a);return Prototype.K}();
Object.extend(Event,function(){function a(a){if(a._eventID)return a._eventID;arguments.callee.id=arguments.callee.id||1;return a._eventID=++arguments.callee.id}function b(a,b){var c=g[a]=g[a]||{};return c[b]=c[b]||[]}function c(a,c,d){return b(a,c).find(function(a){return a.handler==d})}function d(){for(var a in g)for(var b in g[a])g[a][b]=null}var g=Event.cache;window.attachEvent&&window.attachEvent("onunload",d);return{observe:function(c,d,g){var c=$(c),q=d&&d.include(":")?"dataavailable":d,r;var s=
c;r=a(s);r=b(r,d);if(r.pluck("handler").include(g))r=!1;else{var p=function(a){if(!Event||!Event.extend||a.eventName&&a.eventName!=d)return!1;Event.extend(a);g.call(s,a)};p.handler=g;r.push(p);r=p}if(!r)return c;c.addEventListener?c.addEventListener(q,r,!1):c.attachEvent("on"+q,r);return c},stopObserving:function(d,l,n){var d=$(d),q=a(d),r=l&&l.include(":")?"dataavailable":l;if(!n&&l)return b(q,l).each(function(a){d.stopObserving(l,a.handler)}),d;if(!l)return Object.keys(g[q]=g[q]||{}).each(function(a){d.stopObserving(a)}),
d;var s=c(q,l,n);if(!s)return d;d.removeEventListener?d.removeEventListener(r,s,!1):d.detachEvent("on"+r,s);r=g[q]=g[q]||{};r[l]&&(r[l]=r[l].without(c(q,l,n)));return d},fire:function(a,b,c){a=$(a);a==document&&(document.createEvent&&!a.dispatchEvent)&&(a=document.documentElement);var d;document.createEvent?(d=document.createEvent("HTMLEvents"),d.initEvent("dataavailable",!0,!0)):(d=document.createEventObject(),d.eventType="ondataavailable");d.eventName=b;d.memo=c||{};document.createEvent?a.dispatchEvent(d):
a.fireEvent(d.eventType,d);return Event.extend(d)}}}());Object.extend(Event,Event.Methods);Element.addMethods({fire:Event.fire,observe:Event.observe,stopObserving:Event.stopObserving});Object.extend(document,{fire:Element.Methods.fire.methodize(),observe:Element.Methods.observe.methodize(),stopObserving:Element.Methods.stopObserving.methodize(),loaded:!1});
(function(){function a(){document.loaded||(b&&window.clearInterval(b),document.fire("dom:loaded"),document.loaded=!0)}var b;document.addEventListener?Prototype.Browser.WebKit?(b=window.setInterval(function(){/loaded|complete/.test(document.readyState)&&a()},0),Event.observe(window,"load",a)):document.addEventListener("DOMContentLoaded",a,!1):(document.write("<script id=__onDOMContentLoaded defer src=//:><\/script>"),$("__onDOMContentLoaded").onreadystatechange=function(){"complete"==this.readyState&&
(this.onreadystatechange=null,a())})})();Hash.toQueryString=Object.toQueryString;var Toggle={display:Element.toggle};Element.Methods.childOf=Element.Methods.descendantOf;
var Insertion={Before:function(a,b){return Element.insert(a,{before:b})},Top:function(a,b){return Element.insert(a,{top:b})},Bottom:function(a,b){return Element.insert(a,{bottom:b})},After:function(a,b){return Element.insert(a,{after:b})}},$continue=Error('"throw $continue" is deprecated, use "return" instead'),Position={includeScrollOffsets:!1,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||
document.body.scrollTop||0},within:function(a,b,c){if(this.includeScrollOffsets)return this.withinIncludingScrolloffsets(a,b,c);this.xcomp=b;this.ycomp=c;this.offset=Element.cumulativeOffset(a);return c>=this.offset[1]&&c<this.offset[1]+a.offsetHeight&&b>=this.offset[0]&&b<this.offset[0]+a.offsetWidth},withinIncludingScrolloffsets:function(a,b,c){var d=Element.cumulativeScrollOffset(a);this.xcomp=b+d[0]-this.deltaX;this.ycomp=c+d[1]-this.deltaY;this.offset=Element.cumulativeOffset(a);return this.ycomp>=
this.offset[1]&&this.ycomp<this.offset[1]+a.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+a.offsetWidth},overlap:function(a,b){if(!a)return 0;if("vertical"==a)return(this.offset[1]+b.offsetHeight-this.ycomp)/b.offsetHeight;if("horizontal"==a)return(this.offset[0]+b.offsetWidth-this.xcomp)/b.offsetWidth},cumulativeOffset:Element.Methods.cumulativeOffset,positionedOffset:Element.Methods.positionedOffset,absolutize:function(a){Position.prepare();return Element.absolutize(a)},relativize:function(a){Position.prepare();
return Element.relativize(a)},realOffset:Element.Methods.cumulativeScrollOffset,offsetParent:Element.Methods.getOffsetParent,page:Element.Methods.viewportOffset,clone:function(a,b,c){c=c||{};return Element.clonePosition(b,a,c)}};
document.getElementsByClassName||(document.getElementsByClassName=function(a){function b(a){return a.blank()?null:"[contains(concat(' ', @class, ' '), ' "+a+" ')]"}a.getElementsByClassName=Prototype.BrowserFeatures.XPath?function(a,d){var d=d.toString().strip(),g=/\s/.test(d)?$w(d).map(b).join(""):b(d);return g?document._getElementsByXPath(".//*"+g,a):[]}:function(a,b){var b=b.toString().strip(),g=[],h=/\s/.test(b)?$w(b):null;if(!h&&!b)return g;for(var l=$(a).getElementsByTagName("*"),b=" "+b+" ",
n=0,q,r;q=l[n];n++)q.className&&((r=" "+q.className+" ")&&(r.include(b)||h&&h.all(function(a){return!a.toString().blank()&&r.include(" "+a+" ")})))&&g.push(Element.extend(q));return g};return function(a,b){return $(b||document.body).getElementsByClassName(a)}}(Element.Methods));Element.ClassNames=Class.create();
Element.ClassNames.prototype={initialize:function(a){this.element=$(a)},_each:function(a){this.element.className.split(/\s+/).select(function(a){return 0<a.length})._each(a)},set:function(a){this.element.className=a},add:function(a){this.include(a)||this.set($A(this).concat(a).join(" "))},remove:function(a){this.include(a)&&this.set($A(this).without(a).join(" "))},toString:function(){return $A(this).join(" ")}};Object.extend(Element.ClassNames.prototype,Enumerable);Element.addMethods();(function(){function a(a,b){b.src?p.ajax({url:b.src,async:!1,dataType:"script"}):p.globalEval(b.text||b.textContent||b.innerHTML||"");b.parentNode&&b.parentNode.removeChild(b)}function b(a,b){return a[0]&&parseInt(p.curCSS(a[0],b,!0),10)||0}function c(){return!1}function d(){return!0}function g(a){var b=RegExp("(^|\\.)"+a.type+"(\\.|$)"),c=!0,d=[];p.each(p.data(this,"events").live||[],function(c,g){if(b.test(g.type)){var h=p(a.target).closest(g.data)[0];h&&d.push({elem:h,fn:g})}});d.sort(function(a,
b){return p.data(a.elem,"closest")-p.data(b.elem,"closest")});p.each(d,function(){if(!1===this.fn.call(this.elem,a,this.fn.data))return c=!1});return c}function h(a,b){return["live",a,b.replace(/\./g,"`").replace(/ /g,"|")].join(".")}function l(){Y||(Y=!0,document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1);p.ready()},!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===
document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),p.ready())}),document.documentElement.doScroll&&q==q.top&&function(){if(!p.isReady){try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}p.ready()}}()),p.event.add(q,"load",p.ready))}function n(a,b){var c={};p.each(ga.concat.apply([],ga.slice(0,b)),function(){c[this]=a});return c}var q=this,r=q.jQuery,s=q.$,p=q.jQuery=q.$=function(a,b){return new p.fn.init(a,b)},v=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,
t=/^.[^:#\[\.,]*$/;p.fn=p.prototype={init:function(a,b){a=a||document;if(a.nodeType)return this[0]=a,this.length=1,this.context=a,this;if("string"===typeof a){var c=v.exec(a);if(c&&(c[1]||!b))if(c[1])a=p.clean([c[1]],b);else{var d=document.getElementById(c[3]);if(d&&d.id!=c[3])return p().find(a);c=p(d||[]);c.context=document;c.selector=a;return c}else return p(b).find(a)}else if(p.isFunction(a))return p(document).ready(a);a.selector&&a.context&&(this.selector=a.selector,this.context=a.context);return this.setArray(p.isArray(a)?
a:p.makeArray(a))},selector:"",jquery:"1.3.2",size:function(){return this.length},get:function(a){return void 0===a?Array.prototype.slice.call(this):this[a]},pushStack:function(a,b,c){a=p(a);a.prevObject=this;a.context=this.context;"find"===b?a.selector=this.selector+(this.selector?" ":"")+c:b&&(a.selector=this.selector+"."+b+"("+c+")");return a},setArray:function(a){this.length=0;Array.prototype.push.apply(this,a);return this},each:function(a,b){return p.each(this,a,b)},index:function(a){return p.inArray(a&&
a.jquery?a[0]:a,this)},attr:function(a,b,c){var d=a;if("string"===typeof a){if(void 0===b)return this[0]&&p[c||"attr"](this[0],a);d={};d[a]=b}return this.each(function(b){for(a in d)p.attr(c?this.style:this,a,p.prop(this,d[a],c,b,a))})},css:function(a,b){if(("width"==a||"height"==a)&&0>parseFloat(b))b=void 0;return this.attr(a,b,"curCSS")},text:function(a){if("object"!==typeof a&&null!=a)return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(a));var b="";p.each(a||this,
function(){p.each(this.childNodes,function(){8!=this.nodeType&&(b+=1!=this.nodeType?this.nodeValue:p.fn.text([this]))})});return b},wrapAll:function(a){this[0]&&(a=p(a,this[0].ownerDocument).clone(),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var a=this;a.firstChild;)a=a.firstChild;return a}).append(this));return this},wrapInner:function(a){return this.each(function(){p(this).contents().wrapAll(a)})},wrap:function(a){return this.each(function(){p(this).wrapAll(a)})},append:function(){return this.domManip(arguments,
!0,function(a){1==this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1==this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)})},end:function(){return this.prevObject||p([])},push:[].push,sort:[].sort,splice:[].splice,find:function(a){if(1===
this.length){var b=this.pushStack([],"find",a);b.length=0;p.find(a,this[0],b);return b}return this.pushStack(p.unique(p.map(this,function(b){return p.find(a,b)})),"find",a)},clone:function(a){var b=this.map(function(){if(!p.support.noCloneEvent&&!p.isXMLDoc(this)){var a=this.outerHTML;a||(a=this.ownerDocument.createElement("div"),a.appendChild(this.cloneNode(!0)),a=a.innerHTML);return p.clean([a.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/^\s*/,"")])[0]}return this.cloneNode(!0)});if(!0===a){var c=
this.find("*").andSelf(),d=0;b.find("*").andSelf().each(function(){if(this.nodeName===c[d].nodeName){var a=p.data(c[d],"events"),b;for(b in a)for(var g in a[b])p.event.add(this,b,a[b][g],a[b][g].data);d++}})}return b},filter:function(a){return this.pushStack(p.isFunction(a)&&p.grep(this,function(b,c){return a.call(b,c)})||p.multiFilter(a,p.grep(this,function(a){return 1===a.nodeType})),"filter",a)},closest:function(a){var b=p.expr.match.POS.test(a)?p(a):null,c=0;return this.map(function(){for(var d=
this;d&&d.ownerDocument;){if(b?-1<b.index(d):p(d).is(a))return p.data(d,"closest",c),d;d=d.parentNode;c++}})},not:function(a){if("string"===typeof a){if(t.test(a))return this.pushStack(p.multiFilter(a,this,!0),"not",a);a=p.multiFilter(a,this)}var b=a.length&&void 0!==a[a.length-1]&&!a.nodeType;return this.filter(function(){return b?0>p.inArray(this,a):this!=a})},add:function(a){return this.pushStack(p.unique(p.merge(this.get(),"string"===typeof a?p(a):p.makeArray(a))))},is:function(a){return!!a&&
0<p.multiFilter(a,this).length},hasClass:function(a){return!!a&&this.is("."+a)},val:function(a){if(void 0===a){var b=this[0];if(b){if(p.nodeName(b,"option"))return(b.attributes.value||{}).specified?b.value:b.text;if(p.nodeName(b,"select")){var c=b.selectedIndex,d=[],g=b.options,b="select-one"==b.type;if(0>c)return null;for(var h=b?c:0,c=b?c+1:g.length;h<c;h++){var l=g[h];if(l.selected){a=p(l).val();if(b)return a;d.push(a)}}return d}return(b.value||"").replace(/\r/g,"")}}else return"number"===typeof a&&
(a+=""),this.each(function(){if(1==this.nodeType)if(p.isArray(a)&&/radio|checkbox/.test(this.type))this.checked=0<=p.inArray(this.value,a)||0<=p.inArray(this.name,a);else if(p.nodeName(this,"select")){var b=p.makeArray(a);p("option",this).each(function(){this.selected=0<=p.inArray(this.value,b)||0<=p.inArray(this.text,b)});b.length||(this.selectedIndex=-1)}else this.value=a})},html:function(a){return void 0===a?this[0]?this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,""):null:this.empty().append(a)},
replaceWith:function(a){return this.after(a).remove()},eq:function(a){return this.slice(a,+a+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(a){return this.pushStack(p.map(this,function(b,c){return a.call(b,c,b)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(b,c,d){if(this[0]){var g=(this[0].ownerDocument||this[0]).createDocumentFragment(),b=p.clean(b,this[0].ownerDocument||
this[0],g),h=g.firstChild;if(h)for(var l=0,n=this.length;l<n;l++)d.call(c&&p.nodeName(this[l],"table")&&p.nodeName(h,"tr")?this[l].getElementsByTagName("tbody")[0]||this[l].appendChild(this[l].ownerDocument.createElement("tbody")):this[l],1<this.length||0<l?g.cloneNode(!0):g);b&&p.each(b,a)}return this}};p.fn.init.prototype=p.fn;p.extend=p.fn.extend=function(){var a=arguments[0]||{},b=1,c=arguments.length,d=!1,g;"boolean"===typeof a&&(d=a,a=arguments[1]||{},b=2);"object"!==typeof a&&!p.isFunction(a)&&
(a={});c==b&&(a=this,--b);for(;b<c;b++)if(null!=(g=arguments[b]))for(var h in g){var l=a[h],n=g[h];a!==n&&(d&&n&&"object"===typeof n&&!n.nodeType?a[h]=p.extend(d,l||(null!=n.length?[]:{}),n):void 0!==n&&(a[h]=n))}return a};var A=/z-?index|font-?weight|opacity|zoom|line-?height/i,w=document.defaultView||{},C=Object.prototype.toString;p.extend({noConflict:function(a){q.$=s;a&&(q.jQuery=r);return p},isFunction:function(a){return"[object Function]"===C.call(a)},isArray:function(a){return"[object Array]"===
C.call(a)},isXMLDoc:function(a){return 9===a.nodeType&&"HTML"!==a.documentElement.nodeName||!!a.ownerDocument&&p.isXMLDoc(a.ownerDocument)},globalEval:function(a){if(a&&/\S/.test(a)){var b=document.getElementsByTagName("head")[0]||document.documentElement,c=document.createElement("script");c.type="text/javascript";p.support.scriptEval?c.appendChild(document.createTextNode(a)):c.text=a;b.insertBefore(c,b.firstChild);b.removeChild(c)}},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()==
b.toUpperCase()},each:function(a,b,c){var d,g=0,h=a.length;if(c)if(void 0===h)for(d in a){if(!1===b.apply(a[d],c))break}else for(;g<h&&!1!==b.apply(a[g++],c););else if(void 0===h)for(d in a){if(!1===b.call(a[d],d,a[d]))break}else for(c=a[0];g<h&&!1!==b.call(c,g,c);c=a[++g]);return a},prop:function(a,b,c,d,g){p.isFunction(b)&&(b=b.call(a,d));return"number"===typeof b&&"curCSS"==c&&!A.test(g)?b+"px":b},className:{add:function(a,b){p.each((b||"").split(/\s+/),function(b,c){1==a.nodeType&&!p.className.has(a.className,
c)&&(a.className+=(a.className?" ":"")+c)})},remove:function(a,b){1==a.nodeType&&(a.className=void 0!==b?p.grep(a.className.split(/\s+/),function(a){return!p.className.has(b,a)}).join(" "):"")},has:function(a,b){return a&&-1<p.inArray(b,(a.className||a).toString().split(/\s+/))}},swap:function(a,b,c){var d={},g;for(g in b)d[g]=a.style[g],a.style[g]=b[g];c.call(a);for(g in b)a.style[g]=d[g]},css:function(a,b,c,d){if("width"==b||"height"==b){var g,c={position:"absolute",visibility:"hidden",display:"block"},
h="width"==b?["Left","Right"]:["Top","Bottom"],l=function(){g="width"==b?a.offsetWidth:a.offsetHeight;"border"!==d&&p.each(h,function(){d||(g-=parseFloat(p.curCSS(a,"padding"+this,!0))||0);g="margin"===d?g+(parseFloat(p.curCSS(a,"margin"+this,!0))||0):g-(parseFloat(p.curCSS(a,"border"+this+"Width",!0))||0)})};0!==a.offsetWidth?l():p.swap(a,c,l);return Math.max(0,Math.round(g))}return p.curCSS(a,b,c)},curCSS:function(a,b,c){var d,g=a.style;if("opacity"==b&&!p.support.opacity)return d=p.attr(g,"opacity"),
""==d?"1":d;b.match(/float/i)&&(b=M);!c&&g&&g[b]?d=g[b]:w.getComputedStyle?(b.match(/float/i)&&(b="float"),b=b.replace(/([A-Z])/g,"-$1").toLowerCase(),(a=w.getComputedStyle(a,null))&&(d=a.getPropertyValue(b)),"opacity"==b&&""==d&&(d="1")):a.currentStyle&&(d=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),d=a.currentStyle[b]||a.currentStyle[d],!/^\d+(px)?$/i.test(d)&&/^\d/.test(d)&&(b=g.left,c=a.runtimeStyle.left,a.runtimeStyle.left=a.currentStyle.left,g.left=d||0,d=g.pixelLeft+"px",g.left=
b,a.runtimeStyle.left=c));return d},clean:function(a,b,c){b=b||document;"undefined"===typeof b.createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||document);if(!c&&1===a.length&&"string"===typeof a[0]){var d=/^<(\w+)\s*\/?>$/.exec(a[0]);if(d)return[b.createElement(d[1])]}var g=[],d=[],h=b.createElement("div");p.each(a,function(a,c){"number"===typeof c&&(c+="");if(c){if("string"===typeof c){var c=c.replace(/(<(\w+)[^>]*?)\/>/g,function(a,b,c){return c.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?
a:b+"></"+c+">"}),d=c.replace(/^\s+/,"").substring(0,10).toLowerCase(),l=!d.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!d.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||d.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!d.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!d.indexOf("<td")||!d.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!d.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!p.support.htmlSerialize&&
[1,"div<div>","</div>"]||[0,"",""];for(h.innerHTML=l[1]+c+l[2];l[0]--;)h=h.lastChild;if(!p.support.tbody)for(var ia=/<tbody/i.test(c),d=!d.indexOf("<table")&&!ia?h.firstChild&&h.firstChild.childNodes:"<table>"==l[1]&&!ia?h.childNodes:[],l=d.length-1;0<=l;--l)p.nodeName(d[l],"tbody")&&!d[l].childNodes.length&&d[l].parentNode.removeChild(d[l]);!p.support.leadingWhitespace&&/^\s/.test(c)&&h.insertBefore(b.createTextNode(c.match(/^\s*/)[0]),h.firstChild);c=p.makeArray(h.childNodes)}c.nodeType?g.push(c):
g=p.merge(g,c)}});if(c){for(a=0;g[a];a++)p.nodeName(g[a],"script")&&(!g[a].type||"text/javascript"===g[a].type.toLowerCase())?d.push(g[a].parentNode?g[a].parentNode.removeChild(g[a]):g[a]):(1===g[a].nodeType&&g.splice.apply(g,[a+1,0].concat(p.makeArray(g[a].getElementsByTagName("script")))),c.appendChild(g[a]));return d}return g},attr:function(a,b,c){if(a&&!(3==a.nodeType||8==a.nodeType)){var d=!p.isXMLDoc(a),g=void 0!==c,b=d&&p.props[b]||b;if(a.tagName){var h=/href|src|style/.test(b);"selected"==
b&&a.parentNode&&a.parentNode.selectedIndex;if(b in a&&d&&!h){if(g){if("type"==b&&p.nodeName(a,"input")&&a.parentNode)throw"type property can't be changed";a[b]=c}return p.nodeName(a,"form")&&a.getAttributeNode(b)?a.getAttributeNode(b).nodeValue:"tabIndex"==b?(b=a.getAttributeNode("tabIndex"))&&b.specified?b.value:a.nodeName.match(/(button|input|object|select|textarea)/i)?0:a.nodeName.match(/^(a|area)$/i)&&a.href?0:void 0:a[b]}if(!p.support.style&&d&&"style"==b)return p.attr(a.style,"cssText",c);
g&&a.setAttribute(b,""+c);a=!p.support.hrefNormalized&&d&&h?a.getAttribute(b,2):a.getAttribute(b);return null===a?void 0:a}if(!p.support.opacity&&"opacity"==b)return g&&(a.zoom=1,a.filter=(a.filter||"").replace(/alpha\([^)]*\)/,"")+("NaN"==parseInt(c)+""?"":"alpha(opacity="+100*c+")")),a.filter&&0<=a.filter.indexOf("opacity=")?parseFloat(a.filter.match(/opacity=([^)]*)/)[1])/100+"":"";b=b.replace(/-([a-z])/ig,function(a,b){return b.toUpperCase()});g&&(a[b]=c);return a[b]}},trim:function(a){return(a||
"").replace(/^\s+|\s+$/g,"")},makeArray:function(a){var b=[];if(null!=a){var c=a.length;if(null==c||"string"===typeof a||p.isFunction(a)||a.setInterval)b[0]=a;else for(;c;)b[--c]=a[c]}return b},inArray:function(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},merge:function(a,b){var c=0,d,g=a.length;if(p.support.getAll)for(;null!=(d=b[c++]);)a[g++]=d;else for(;null!=(d=b[c++]);)8!=d.nodeType&&(a[g++]=d);return a},unique:function(a){var b=[],c={};try{for(var d=0,g=a.length;d<g;d++){var h=
p.data(a[d]);c[h]||(c[h]=!0,b.push(a[d]))}}catch(l){b=a}return b},grep:function(a,b,c){for(var d=[],g=0,h=a.length;g<h;g++)!c!=!b(a[g],g)&&d.push(a[g]);return d},map:function(a,b){for(var c=[],d=0,g=a.length;d<g;d++){var h=b(a[d],d);null!=h&&(c[c.length]=h)}return c.concat.apply([],c)}});var z=navigator.userAgent.toLowerCase();p.browser={version:(z.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(z),opera:/opera/.test(z),msie:/msie/.test(z)&&!/opera/.test(z),mozilla:/mozilla/.test(z)&&
!/(compatible|webkit)/.test(z)};p.each({parent:function(a){return a.parentNode},parents:function(a){return p.dir(a,"parentNode")},next:function(a){return p.nth(a,2,"nextSibling")},prev:function(a){return p.nth(a,2,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},siblings:function(a){return p.sibling(a.parentNode.firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,"iframe")?
a.contentDocument||a.contentWindow.document:p.makeArray(a.childNodes)}},function(a,b){p.fn[a]=function(c){var d=p.map(this,b);c&&"string"==typeof c&&(d=p.multiFilter(c,d));return this.pushStack(p.unique(d),a,c)}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function(c){for(var d=[],g=p(c),h=0,l=g.length;h<l;h++){var n=(0<h?this.clone(!0):this).get();p.fn[b].apply(p(g[h]),n);d=d.concat(n)}return this.pushStack(d,
a,c)}});p.each({removeAttr:function(a){p.attr(this,a,"");1==this.nodeType&&this.removeAttribute(a)},addClass:function(a){p.className.add(this,a)},removeClass:function(a){p.className.remove(this,a)},toggleClass:function(a,b){"boolean"!==typeof b&&(b=!p.className.has(this,a));p.className[b?"add":"remove"](this,a)},remove:function(a){if(!a||p.filter(a,[this]).length)p("*",this).add([this]).each(function(){p.event.remove(this);p.removeData(this)}),this.parentNode&&this.parentNode.removeChild(this)},empty:function(){for(p(this).children().remove();this.firstChild;)this.removeChild(this.firstChild)}},
function(a,b){p.fn[a]=function(){return this.each(b,arguments)}});var D="jQuery"+ +new Date,G=0,E={};p.extend({cache:{},data:function(a,b,c){var a=a==q?E:a,d=a[D];d||(d=a[D]=++G);b&&!p.cache[d]&&(p.cache[d]={});void 0!==c&&(p.cache[d][b]=c);return b?p.cache[d][b]:d},removeData:function(a,b){var a=a==q?E:a,c=a[D];if(b){if(p.cache[c]){delete p.cache[c][b];b="";for(b in p.cache[c])break;b||p.removeData(a)}}else{try{delete a[D]}catch(d){a.removeAttribute&&a.removeAttribute(D)}delete p.cache[c]}},queue:function(a,
b,c){if(a){var b=(b||"fx")+"queue",d=p.data(a,b);!d||p.isArray(c)?d=p.data(a,b,p.makeArray(c)):c&&d.push(c)}return d},dequeue:function(a,b){var c=p.queue(a,b),d=c.shift();if(!b||"fx"===b)d=c[0];void 0!==d&&d.call(a)}});p.fn.extend({data:function(a,b){var c=a.split(".");c[1]=c[1]?"."+c[1]:"";if(void 0===b){var d=this.triggerHandler("getData"+c[1]+"!",[c[0]]);void 0===d&&this.length&&(d=p.data(this[0],a));return void 0===d&&c[1]?this.data(c[0]):d}return this.trigger("setData"+c[1]+"!",[c[0],b]).each(function(){p.data(this,
a,b)})},removeData:function(a){return this.each(function(){p.removeData(this,a)})},queue:function(a,b){"string"!==typeof a&&(b=a,a="fx");return void 0===b?p.queue(this[0],a):this.each(function(){var c=p.queue(this,a,b);"fx"==a&&1==c.length&&c[0].call(this)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})}});var F=function(a,b,c,d,g,h){for(var g="previousSibling"==a&&!h,l=0,n=d.length;l<n;l++){var p=d[l];if(p){g&&1===p.nodeType&&(p.sizcache=c,p.sizset=l);for(var p=p[a],r=!1;p;){if(p.sizcache===
c){r=d[p.sizset];break}1===p.nodeType&&!h&&(p.sizcache=c,p.sizset=l);if(p.nodeName===b){r=p;break}p=p[a]}d[l]=r}}},B=function(a,b,c,d,g,h){for(var g="previousSibling"==a&&!h,l=0,n=d.length;l<n;l++){var p=d[l];if(p){g&&1===p.nodeType&&(p.sizcache=c,p.sizset=l);for(var p=p[a],r=!1;p;){if(p.sizcache===c){r=d[p.sizset];break}if(1===p.nodeType)if(h||(p.sizcache=c,p.sizset=l),"string"!==typeof b){if(p===b){r=!0;break}}else if(0<K.filter(b,[p]).length){r=p;break}p=p[a]}d[l]=r}}},R=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,
O=0,J=Object.prototype.toString,K=function(a,b,c,d){c=c||[];b=b||document;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!==typeof a)return c;var g=[],h,l,n,p=!0;for(R.lastIndex=0;null!==(h=R.exec(a));)if(g.push(h[1]),h[2]){n=RegExp.rightContext;break}if(1<g.length&&da.exec(a))if(2===g.length&&I.relative[g[0]])h=H(g[0]+g[1],b);else for(h=I.relative[g[0]]?[b]:K(g.shift(),b);g.length;)a=g.shift(),I.relative[a]&&(a+=g.shift()),h=H(a,h);else{h=d?{expr:g.pop(),set:L(d)}:K.find(g.pop(),1===g.length&&
b.parentNode?b.parentNode:b,Q(b));h=K.filter(h.expr,h.set);for(0<g.length?l=L(h):p=!1;g.length;){var r=g.pop(),q=r;I.relative[r]?q=g.pop():r="";null==q&&(q=b);I.relative[r](l,q,Q(b))}}l||(l=h);if(!l)throw"Syntax error, unrecognized expression: "+(r||a);if("[object Array]"===J.call(l))if(p)if(1===b.nodeType)for(a=0;null!=l[a];a++)l[a]&&(!0===l[a]||1===l[a].nodeType&&ha(b,l[a]))&&c.push(h[a]);else for(a=0;null!=l[a];a++)l[a]&&1===l[a].nodeType&&c.push(h[a]);else c.push.apply(c,l);else L(l,c);if(n&&
(K(n,b,c,d),W&&(hasDuplicate=!1,c.sort(W),hasDuplicate)))for(a=1;a<c.length;a++)c[a]===c[a-1]&&c.splice(a--,1);return c};K.matches=function(a,b){return K(a,null,null,b)};K.find=function(a,b,c){var d,g;if(!a)return[];for(var h=0,l=I.order.length;h<l;h++){var n=I.order[h];if(g=I.match[n].exec(a)){var p=RegExp.leftContext;if("\\"!==p.substr(p.length-1)&&(g[1]=(g[1]||"").replace(/\\/g,""),d=I.find[n](g,b,c),null!=d)){a=a.replace(I.match[n],"");break}}}d||(d=b.getElementsByTagName("*"));return{set:d,expr:a}};
K.filter=function(a,b,c,d){for(var g=a,h=[],l=b,n,p,r=b&&b[0]&&Q(b[0]);a&&b.length;){for(var q in I.filter)if(null!=(n=I.match[q].exec(a))){var A=I.filter[q],s,v;p=!1;l==h&&(h=[]);if(I.preFilter[q])if(n=I.preFilter[q](n,l,c,h,d,r)){if(!0===n)continue}else p=s=!0;if(n)for(var w=0;null!=(v=l[w]);w++)if(v){s=A(v,n,w,l);var t=d^!!s;c&&null!=s?t?p=!0:l[w]=!1:t&&(h.push(v),p=!0)}if(void 0!==s){c||(l=h);a=a.replace(I.match[q],"");if(!p)return[];break}}if(a==g){if(null==p)throw"Syntax error, unrecognized expression: "+
a;break}g=a}return l};var I=K.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},
attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b,c){var d="string"===typeof b,g=d&&!/\W/.test(b),d=d&&!g;g&&!c&&(b=b.toUpperCase());for(var c=0,g=a.length,h;c<g;c++)if(h=a[c]){for(;(h=h.previousSibling)&&1!==h.nodeType;);a[c]=d||h&&h.nodeName===b?h||!1:h===b}d&&K.filter(b,a,!0)},">":function(a,b,c){var d="string"===typeof b;if(d&&!/\W/.test(b))for(var b=c?b:b.toUpperCase(),c=0,g=a.length;c<g;c++){var h=a[c];h&&(d=
h.parentNode,a[c]=d.nodeName===b?d:!1)}else{c=0;for(g=a.length;c<g;c++)(h=a[c])&&(a[c]=d?h.parentNode:h.parentNode===b);d&&K.filter(b,a,!0)}},"":function(a,b,c){var d=O++,g=B;if(!b.match(/\W/))var h=b=c?b:b.toUpperCase(),g=F;g("parentNode",b,d,a,h,c)},"~":function(a,b,c){var d=O++,g=B;if("string"===typeof b&&!b.match(/\W/))var h=b=c?b:b.toUpperCase(),g=F;g("previousSibling",b,d,a,h,c)}},find:{ID:function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a[1]))?[a]:[]},
NAME:function(a,b){if("undefined"!==typeof b.getElementsByName){for(var c=[],d=b.getElementsByName(a[1]),g=0,h=d.length;g<h;g++)d[g].getAttribute("name")===a[1]&&c.push(d[g]);return 0===c.length?null:c}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,g,h){a=" "+a[1].replace(/\\/g,"")+" ";if(h)return a;for(var h=0,l;null!=(l=b[h]);h++)l&&(g^(l.className&&0<=(" "+l.className+" ").indexOf(a))?c||d.push(l):c&&(b[h]=!1));return!1},ID:function(a){return a[1].replace(/\\/g,
"")},TAG:function(a,b){for(var c=0;!1===b[c];c++);return b[c]&&Q(b[c])?a[1]:a[1].toUpperCase()},CHILD:function(a){if("nth"==a[1]){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec("even"==a[2]&&"2n"||"odd"==a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=O++;return a},ATTR:function(a,b,c,d,g,h){b=a[1].replace(/\\/g,"");!h&&I.attrMap[b]&&(a[1]=I.attrMap[b]);"~="===a[2]&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,c,d,g){if("not"===a[1])if(1<a[3].match(R).length||
/^\w/.test(a[3]))a[3]=K(a[3],null,null,b);else return a=K.filter(a[3],b,c,1^g),c||d.push.apply(d,a),!1;else if(I.match.POS.test(a[0])||I.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},
has:function(a,b,c){return!!K(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||"BUTTON"===a.nodeName.toUpperCase()},
input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0==b},eq:function(a,b,c){return c[3]-0==b}},filter:{PSEUDO:function(a,b,c,d){var g=b[1],h=I.filters[g];if(h)return h(a,c,b,d);if("contains"===g)return 0<=(a.textContent||
a.innerText||"").indexOf(b[3]);if("not"===g){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return!1;return!0}},CHILD:function(a,b){var c=b[1],d=a;switch(c){case "only":case "first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"==c)return!0;d=a;case "last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0;case "nth":var c=b[2],g=b[3];if(1==c&&0==g)return!0;var h=b[0],l=a.parentNode;if(l&&(l.sizcache!==h||!a.nodeIndex)){for(var n=0,d=l.firstChild;d;d=d.nextSibling)1===d.nodeType&&
(d.nodeIndex=++n);l.sizcache=h}d=a.nodeIndex-g;return 0==c?0==d:0==d%c&&0<=d/c}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||a.nodeName===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var c=b[1],c=I.attrHandle[c]?I.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),d=c+"",g=b[2],h=b[4];return null==c?"!="===g:"="===g?d===h:"*="===g?0<=d.indexOf(h):"~="===g?0<=(" "+
d+" ").indexOf(h):!h?d&&!1!==c:"!="===g?d!=h:"^="===g?0===d.indexOf(h):"$="===g?d.substr(d.length-h.length)===h:"|="===g?d===h||d.substr(0,h.length+1)===h+"-":!1},POS:function(a,b,c,d){var g=I.setFilters[b[2]];if(g)return g(a,c,b,d)}}},da=I.match.POS,S;for(S in I.match)I.match[S]=RegExp(I.match[S].source+/(?![^\[]*\])(?![^\(]*\))/.source);var L=function(a,b){a=Array.prototype.slice.call(a);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(T){L=
function(a,b){var c=b||[];if("[object Array]"===J.call(a))Array.prototype.push.apply(c,a);else if("number"===typeof a.length)for(var d=0,g=a.length;d<g;d++)c.push(a[d]);else for(d=0;a[d];d++)c.push(a[d]);return c}}var W;document.documentElement.compareDocumentPosition?W=function(a,b){var c=a.compareDocumentPosition(b)&4?-1:a===b?0:1;0===c&&(hasDuplicate=!0);return c}:"sourceIndex"in document.documentElement?W=function(a,b){var c=a.sourceIndex-b.sourceIndex;0===c&&(hasDuplicate=!0);return c}:document.createRange&&
(W=function(a,b){var c=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();c.selectNode(a);c.collapse(!0);d.selectNode(b);d.collapse(!0);c=c.compareBoundaryPoints(Range.START_TO_END,d);0===c&&(hasDuplicate=!0);return c});z=document.createElement("form");S="script"+(new Date).getTime();z.innerHTML="<input name='"+S+"'/>";var Z=document.documentElement;Z.insertBefore(z,Z.firstChild);document.getElementById(S)&&(I.find.ID=function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(b=
b.getElementById(a[1]))?b.id===a[1]||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===a[1]?[b]:void 0:[]},I.filter.ID=function(a,b){var c="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b});Z.removeChild(z);z=document.createElement("div");z.appendChild(document.createComment(""));0<z.getElementsByTagName("*").length&&(I.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var d=[],g=0;c[g];g++)1===
c[g].nodeType&&d.push(c[g]);c=d}return c});z.innerHTML="<a href='#'></a>";z.firstChild&&("undefined"!==typeof z.firstChild.getAttribute&&"#"!==z.firstChild.getAttribute("href"))&&(I.attrHandle.href=function(a){return a.getAttribute("href",2)});if(document.querySelectorAll){var U=K,z=document.createElement("div");z.innerHTML="<p class='TEST'></p>";z.querySelectorAll&&0===z.querySelectorAll(".TEST").length||(K=function(a,b,c,d){b=b||document;if(!d&&9===b.nodeType&&!Q(b))try{return L(b.querySelectorAll(a),
c)}catch(g){}return U(a,b,c,d)},K.find=U.find,K.filter=U.filter,K.selectors=U.selectors,K.matches=U.matches)}document.getElementsByClassName&&document.documentElement.getElementsByClassName&&(z=document.createElement("div"),z.innerHTML="<div class='test e'></div><div class='test'></div>",0!==z.getElementsByClassName("e").length&&(z.lastChild.className="e",1!==z.getElementsByClassName("e").length&&(I.order.splice(1,0,"CLASS"),I.find.CLASS=function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&
!c)return b.getElementsByClassName(a[1])})));var ha=document.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)&16}:function(a,b){return a!==b&&(a.contains?a.contains(b):!0)},Q=function(a){return 9===a.nodeType&&"HTML"!==a.documentElement.nodeName||!!a.ownerDocument&&Q(a.ownerDocument)},H=function(a,b){for(var c=[],d="",g,h=b.nodeType?[b]:b;g=I.match.PSEUDO.exec(a);)d+=g[0],a=a.replace(I.match.PSEUDO,"");a=I.relative[a]?a+"*":a;g=0;for(var l=h.length;g<l;g++)K(a,h[g],c);return K.filter(d,
c)};p.find=K;p.filter=K.filter;p.expr=K.selectors;p.expr[":"]=p.expr.filters;K.selectors.filters.hidden=function(a){return 0===a.offsetWidth||0===a.offsetHeight};K.selectors.filters.visible=function(a){return 0<a.offsetWidth||0<a.offsetHeight};K.selectors.filters.animated=function(a){return p.grep(p.timers,function(b){return a===b.elem}).length};p.multiFilter=function(a,b,c){c&&(a=":not("+a+")");return K.matches(a,b)};p.dir=function(a,b){for(var c=[],d=a[b];d&&d!=document;)1==d.nodeType&&c.push(d),
d=d[b];return c};p.nth=function(a,b,c){for(var b=b||1,d=0;a&&!(1==a.nodeType&&++d==b);a=a[c]);return a};p.sibling=function(a,b){for(var c=[];a;a=a.nextSibling)1==a.nodeType&&a!=b&&c.push(a);return c};p.event={add:function(a,b,c,d){if(!(3==a.nodeType||8==a.nodeType)){a.setInterval&&a!=q&&(a=q);c.guid||(c.guid=this.guid++);void 0!==d&&(c=this.proxy(c),c.data=d);var g=p.data(a,"events")||p.data(a,"events",{}),h=p.data(a,"handle")||p.data(a,"handle",function(){return"undefined"!==typeof p&&!p.event.triggered?
p.event.handle.apply(arguments.callee.elem,arguments):void 0});h.elem=a;p.each(b.split(/\s+/),function(b,l){var n=l.split("."),l=n.shift();c.type=n.slice().sort().join(".");var r=g[l];p.event.specialAll[l]&&p.event.specialAll[l].setup.call(a,d,n);if(!r&&(r=g[l]={},!p.event.special[l]||!1===p.event.special[l].setup.call(a,d,n)))a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h);r[c.guid]=c;p.event.global[l]=!0});a=null}},guid:1,global:{},remove:function(a,b,c){if(!(3==
a.nodeType||8==a.nodeType)){var d=p.data(a,"events"),g;if(d){if(void 0===b||"string"===typeof b&&"."==b.charAt(0))for(var h in d)this.remove(a,h+(b||""));else b.type&&(c=b.handler,b=b.type),p.each(b.split(/\s+/),function(b,h){var l=h.split("."),h=l.shift(),n=RegExp("(^|\\.)"+l.slice().sort().join(".*\\.")+"(\\.|$)");if(d[h]){if(c)delete d[h][c.guid];else for(var r in d[h])n.test(d[h][r].type)&&delete d[h][r];p.event.specialAll[h]&&p.event.specialAll[h].teardown.call(a,l);for(g in d[h])break;if(!g){if(!p.event.special[h]||
!1===p.event.special[h].teardown.call(a,l))a.removeEventListener?a.removeEventListener(h,p.data(a,"handle"),!1):a.detachEvent&&a.detachEvent("on"+h,p.data(a,"handle"));g=null;delete d[h]}}});for(g in d)break;if(!g){if(b=p.data(a,"handle"))b.elem=null;p.removeData(a,"events");p.removeData(a,"handle")}}}},trigger:function(a,b,c,d){var g=a.type||a;if(!d){a="object"===typeof a?a[D]?a:p.extend(p.Event(g),a):p.Event(g);0<=g.indexOf("!")&&(a.type=g=g.slice(0,-1),a.exclusive=!0);c||(a.stopPropagation(),this.global[g]&&
p.each(p.cache,function(){this.events&&this.events[g]&&p.event.trigger(a,b,this.handle.elem)}));if(!c||3==c.nodeType||8==c.nodeType)return;a.result=void 0;a.target=c;b=p.makeArray(b);b.unshift(a)}a.currentTarget=c;var h=p.data(c,"handle");h&&h.apply(c,b);if((!c[g]||p.nodeName(c,"a")&&"click"==g)&&c["on"+g]&&!1===c["on"+g].apply(c,b))a.result=!1;if(!d&&c[g]&&!a.isDefaultPrevented()&&!(p.nodeName(c,"a")&&"click"==g)){this.triggered=!0;try{c[g]()}catch(l){}}this.triggered=!1;a.isPropagationStopped()||
(c=c.parentNode||c.ownerDocument)&&p.event.trigger(a,b,c,!0)},handle:function(a){var b,c,a=arguments[0]=p.event.fix(a||q.event);a.currentTarget=this;c=a.type.split(".");a.type=c.shift();b=!c.length&&!a.exclusive;var d=RegExp("(^|\\.)"+c.slice().sort().join(".*\\.")+"(\\.|$)");c=(p.data(this,"events")||{})[a.type];for(var g in c){var h=c[g];if(b||d.test(h.type))if(a.handler=h,a.data=h.data,h=h.apply(this,arguments),void 0!==h&&(a.result=h,!1===h&&(a.preventDefault(),a.stopPropagation())),a.isImmediatePropagationStopped())break}},
props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[D])return a;for(var b=a,a=p.Event(b),c=this.props.length,d;c;)d=this.props[--c],a[d]=b[d];a.target||(a.target=a.srcElement||document);3==a.target.nodeType&&
(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement==a.target?a.toElement:a.fromElement);null==a.pageX&&null!=a.clientX&&(b=document.documentElement,c=document.body,a.pageX=a.clientX+(b&&b.scrollLeft||c&&c.scrollLeft||0)-(b.clientLeft||0),a.pageY=a.clientY+(b&&b.scrollTop||c&&c.scrollTop||0)-(b.clientTop||0));if(!a.which&&(a.charCode||0===a.charCode?a.charCode:a.keyCode))a.which=a.charCode||a.keyCode;!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&
a.button&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},proxy:function(a,b){b=b||function(){return a.apply(this,arguments)};b.guid=a.guid=a.guid||b.guid||this.guid++;return b},special:{ready:{setup:l,teardown:function(){}}},specialAll:{live:{setup:function(a,b){p.event.add(this,b[0],g)},teardown:function(a){if(a.length){var b=0,c=RegExp("(^|\\.)"+a[0]+"(\\.|$)");p.each(p.data(this,"events").live||{},function(){c.test(this.type)&&b++});1>b&&p.event.remove(this,a[0],g)}}}}};p.Event=function(a){if(!this.preventDefault)return new p.Event(a);
a&&a.type?(this.originalEvent=a,this.type=a.type):this.type=a;this.timeStamp=+new Date;this[D]=!0};p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=d;var a=this.originalEvent;a&&(a.preventDefault&&a.preventDefault(),a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=d;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=d;this.stopPropagation()},isDefaultPrevented:c,
isPropagationStopped:c,isImmediatePropagationStopped:c};var ca=function(a){for(var b=a.relatedTarget;b&&b!=this;)try{b=b.parentNode}catch(c){b=this}b!=this&&(a.type=a.data,p.event.handle.apply(this,arguments))};p.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(a,b){p.event.special[b]={setup:function(){p.event.add(this,a,ca,b)},teardown:function(){p.event.remove(this,a,ca)}}});p.fn.extend({bind:function(a,b,c){return"unload"==a?this.one(a,b,c):this.each(function(){p.event.add(this,a,c||
b,c&&b)})},one:function(a,b,c){var d=p.event.proxy(c||b,function(a){p(this).unbind(a,d);return(c||b).apply(this,arguments)});return this.each(function(){p.event.add(this,a,d,c&&b)})},unbind:function(a,b){return this.each(function(){p.event.remove(this,a,b)})},trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var c=p.Event(a);c.preventDefault();c.stopPropagation();p.event.trigger(c,b,this[0]);return c.result}},toggle:function(a){for(var b=
arguments,c=1;c<b.length;)p.event.proxy(a,b[c++]);return this.click(p.event.proxy(a,function(a){this.lastToggle=(this.lastToggle||0)%c;a.preventDefault();return b[this.lastToggle++].apply(this,arguments)||!1}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b)},ready:function(a){l();p.isReady?a.call(document,p):p.readyList.push(a);return this},live:function(a,b){var c=p.event.proxy(b);c.guid+=this.selector+a;p(document).bind(h(a,this.selector),this.selector,c);return this},die:function(a,
b){p(document).unbind(h(a,this.selector),b?{guid:b.guid+this.selector+a}:null);return this}});p.extend({isReady:!1,readyList:[],ready:function(){p.isReady||(p.isReady=!0,p.readyList&&(p.each(p.readyList,function(){this.call(document,p)}),p.readyList=null),p(document).triggerHandler("ready"))}});var Y=!1;p.each("blur focus load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,
b){p.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)}});p(q).bind("unload",function(){for(var a in p.cache)1!=a&&p.cache[a].handle&&p.event.remove(p.cache[a].handle.elem)});p.support={};z=document.documentElement;S=document.createElement("script");var N=document.createElement("div"),Z="script"+(new Date).getTime();N.style.display="none";N.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>';
var P=N.getElementsByTagName("*"),X=N.getElementsByTagName("a")[0];if(P&&P.length&&X){p.support={leadingWhitespace:3==N.firstChild.nodeType,tbody:!N.getElementsByTagName("tbody").length,objectAll:!!N.getElementsByTagName("object")[0].getElementsByTagName("*").length,htmlSerialize:!!N.getElementsByTagName("link").length,style:/red/.test(X.getAttribute("style")),hrefNormalized:"/a"===X.getAttribute("href"),opacity:"0.5"===X.style.opacity,cssFloat:!!X.style.cssFloat,scriptEval:!1,noCloneEvent:!0,boxModel:null};
S.type="text/javascript";try{S.appendChild(document.createTextNode("window."+Z+"=1;"))}catch(V){}z.insertBefore(S,z.firstChild);q[Z]&&(p.support.scriptEval=!0,delete q[Z]);z.removeChild(S);N.attachEvent&&N.fireEvent&&(N.attachEvent("onclick",function(){p.support.noCloneEvent=!1;N.detachEvent("onclick",arguments.callee)}),N.cloneNode(!0).fireEvent("onclick"));p(function(){var a=document.createElement("div");a.style.width=a.style.paddingLeft="1px";document.body.appendChild(a);p.boxModel=p.support.boxModel=
2===a.offsetWidth;document.body.removeChild(a).style.display="none"})}var M=p.support.cssFloat?"cssFloat":"styleFloat";p.props={"for":"htmlFor","class":"className","float":M,cssFloat:M,styleFloat:M,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"};p.fn.extend({_load:p.fn.load,load:function(a,b,c){if("string"!==typeof a)return this._load(a);var d=a.indexOf(" ");if(0<=d)var g=a.slice(d,a.length),a=a.slice(0,d);d="GET";b&&(p.isFunction(b)?(c=b,
b=null):"object"===typeof b&&(b=p.param(b),d="POST"));var h=this;p.ajax({url:a,type:d,dataType:"html",data:b,complete:function(a,b){if("success"==b||"notmodified"==b)h.html(g?p("<div/>").append(a.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(g):a.responseText);c&&h.each(c,[a.responseText,b,a])}});return this},serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password|search/i.test(this.type))}).map(function(a,b){var c=p(this).val();return null==c?null:p.isArray(c)?p.map(c,function(a){return{name:b.name,value:a}}):{name:b.name,value:c}}).get()}});p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){p.fn[b]=function(a){return this.bind(b,a)}});var ba=+new Date;p.extend({get:function(a,b,c,d){p.isFunction(b)&&(c=b,b=null);return p.ajax({type:"GET",
url:a,data:b,success:c,dataType:d})},getScript:function(a,b){return p.get(a,null,b,"script")},getJSON:function(a,b,c){return p.get(a,b,c,"json")},post:function(a,b,c,d){p.isFunction(b)&&(c=b,b={});return p.ajax({type:"POST",url:a,data:b,success:c,dataType:d})},ajaxSetup:function(a){p.extend(p.ajaxSettings,a)},ajaxSettings:{url:location.href,global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,xhr:function(){return q.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):
new XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(a){function b(){a.success&&a.success(l,h);a.global&&p.event.trigger("ajaxSuccess",[t,a])}function c(){a.complete&&a.complete(t,h);a.global&&p.event.trigger("ajaxComplete",[t,a]);a.global&&!--p.active&&p.event.trigger("ajaxStop")}var a=p.extend(!0,a,p.extend(!0,{},p.ajaxSettings,
a)),d,g=/=\?(&|$)/g,h,l,n=a.type.toUpperCase();a.data&&(a.processData&&"string"!==typeof a.data)&&(a.data=p.param(a.data));if("jsonp"==a.dataType){if("GET"==n)a.url.match(g)||(a.url+=(a.url.match(/\?/)?"&":"?")+(a.jsonp||"callback")+"=?");else if(!a.data||!a.data.match(g))a.data=(a.data?a.data+"&":"")+(a.jsonp||"callback")+"=?";a.dataType="json"}if("json"==a.dataType&&(a.data&&a.data.match(g)||a.url.match(g)))d="jsonp"+ba++,a.data&&(a.data=(a.data+"").replace(g,"="+d+"$1")),a.url=a.url.replace(g,
"="+d+"$1"),a.dataType="script",q[d]=function(a){l=a;b();c();q[d]=void 0;try{delete q[d]}catch(g){}A&&A.removeChild(s)};"script"==a.dataType&&null==a.cache&&(a.cache=!1);if(!1===a.cache&&"GET"==n){var g=+new Date,r=a.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+g+"$2");a.url=r+(r==a.url?(a.url.match(/\?/)?"&":"?")+"_="+g:"")}a.data&&"GET"==n&&(a.url+=(a.url.match(/\?/)?"&":"?")+a.data,a.data=null);a.global&&!p.active++&&p.event.trigger("ajaxStart");g=/^(\w+:)?\/\/([^\/?#]+)/.exec(a.url);if("script"==a.dataType&&
"GET"==n&&g&&(g[1]&&g[1]!=location.protocol||g[2]!=location.host)){var A=document.getElementsByTagName("head")[0],s=document.createElement("script");s.src=a.url;a.scriptCharset&&(s.charset=a.scriptCharset);if(!d){var v=!1;s.onload=s.onreadystatechange=function(){if(!v&&(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState))v=!0,b(),c(),s.onload=s.onreadystatechange=null,A.removeChild(s)}}A.appendChild(s)}else{var w=!1,t=a.xhr();a.username?t.open(n,a.url,a.async,a.username,a.password):
t.open(n,a.url,a.async);try{a.data&&t.setRequestHeader("Content-Type",a.contentType),a.ifModified&&t.setRequestHeader("If-Modified-Since",p.lastModified[a.url]||"Thu, 01 Jan 1970 00:00:00 GMT"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("Accept",a.dataType&&a.accepts[a.dataType]?a.accepts[a.dataType]+", */*":a.accepts._default)}catch(z){}if(a.beforeSend&&!1===a.beforeSend(t,a))return a.global&&!--p.active&&p.event.trigger("ajaxStop"),t.abort(),!1;a.global&&p.event.trigger("ajaxSend",
[t,a]);var C=function(g){if(0==t.readyState)D&&(clearInterval(D),D=null,a.global&&!--p.active&&p.event.trigger("ajaxStop"));else if(!w&&t&&(4==t.readyState||"timeout"==g)){w=!0;D&&(clearInterval(D),D=null);h="timeout"==g?"timeout":!p.httpSuccess(t)?"error":a.ifModified&&p.httpNotModified(t,a.url)?"notmodified":"success";if("success"==h)try{l=p.httpData(t,a.dataType,a)}catch(n){h="parsererror"}if("success"==h){var r;try{r=t.getResponseHeader("Last-Modified")}catch(q){}a.ifModified&&r&&(p.lastModified[a.url]=
r);d||b()}else p.handleError(a,t,h);c();g&&t.abort();a.async&&(t=null)}};if(a.async){var D=setInterval(C,13);0<a.timeout&&setTimeout(function(){t&&!w&&C("timeout")},a.timeout)}try{t.send(a.data)}catch(E){p.handleError(a,t,null,E)}a.async||C();return t}},handleError:function(a,b,c,d){a.error&&a.error(b,c,d);a.global&&p.event.trigger("ajaxError",[b,a,d])},active:0,httpSuccess:function(a){try{return!a.status&&"file:"==location.protocol||200<=a.status&&300>a.status||304==a.status||1223==a.status}catch(b){}return!1},
httpNotModified:function(a,b){try{var c=a.getResponseHeader("Last-Modified");return 304==a.status||c==p.lastModified[b]}catch(d){}return!1},httpData:function(a,b,c){var d=a.getResponseHeader("content-type"),a=(d="xml"==b||!b&&d&&0<=d.indexOf("xml"))?a.responseXML:a.responseText;if(d&&"parsererror"==a.documentElement.tagName)throw"parsererror";c&&c.dataFilter&&(a=c.dataFilter(a,b));"string"===typeof a&&("script"==b&&p.globalEval(a),"json"==b&&(a=q.eval("("+a+")")));return a},param:function(a){function b(a,
d){c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(d)}var c=[];if(p.isArray(a)||a.jquery)p.each(a,function(){b(this.name,this.value)});else for(var d in a)p.isArray(a[d])?p.each(a[d],function(){b(d,this)}):b(d,p.isFunction(a[d])?a[d]():a[d]);return c.join("&").replace(/%20/g,"+")}});var fa={},aa,ga=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];p.fn.extend({show:function(a,b){if(a)return this.animate(n("show",
3),a,b);for(var c=0,d=this.length;c<d;c++){var g=p.data(this[c],"olddisplay");this[c].style.display=g||"";if("none"===p.css(this[c],"display")){var g=this[c].tagName,h;if(fa[g])h=fa[g];else{var l=p("<"+g+" />").appendTo("body");h=l.css("display");"none"===h&&(h="block");l.remove();fa[g]=h}p.data(this[c],"olddisplay",h)}}c=0;for(d=this.length;c<d;c++)this[c].style.display=p.data(this[c],"olddisplay")||"";return this},hide:function(a,b){if(a)return this.animate(n("hide",3),a,b);for(var c=0,d=this.length;c<
d;c++){var g=p.data(this[c],"olddisplay");!g&&"none"!==g&&p.data(this[c],"olddisplay",p.css(this[c],"display"))}c=0;for(d=this.length;c<d;c++)this[c].style.display="none";return this},_toggle:p.fn.toggle,toggle:function(a,b){var c="boolean"===typeof a;return p.isFunction(a)&&p.isFunction(b)?this._toggle.apply(this,arguments):null==a||c?this.each(function(){var b=c?a:p(this).is(":hidden");p(this)[b?"show":"hide"]()}):this.animate(n("toggle",3),a,b)},fadeTo:function(a,b,c){return this.animate({opacity:b},
a,c)},animate:function(a,b,c,d){var g=p.speed(b,c,d);return this[!1===g.queue?"each":"queue"](function(){var b=p.extend({},g),c,d=1==this.nodeType&&p(this).is(":hidden"),h=this;for(c in a){if("hide"==a[c]&&d||"show"==a[c]&&!d)return b.complete.call(this);if(("height"==c||"width"==c)&&this.style)b.display=p.css(this,"display"),b.overflow=this.style.overflow}null!=b.overflow&&(this.style.overflow="hidden");b.curAnim=p.extend({},a);p.each(a,function(c,g){var l=new p.fx(h,b,c);if(/toggle|show|hide/.test(g))l["toggle"==
g?d?"show":"hide":g](a);else{var n=g.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),r=l.cur(!0)||0;if(n){var q=parseFloat(n[2]),A=n[3]||"px";"px"!=A&&(h.style[c]=(q||1)+A,r*=(q||1)/l.cur(!0),h.style[c]=r+A);n[1]&&(q=("-="==n[1]?-1:1)*q+r);l.custom(r,q,A)}else l.custom(r,g,"")}});return!0})},stop:function(a,b){var c=p.timers;a&&this.queue([]);this.each(function(){for(var a=c.length-1;0<=a;a--)if(c[a].elem==this){if(b)c[a](!0);c.splice(a,1)}});b||this.dequeue();return this}});p.each({slideDown:n("show",
1),slideUp:n("hide",1),slideToggle:n("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(a,b){p.fn[a]=function(a,c){return this.animate(b,a,c)}});p.extend({speed:function(a,b,c){var d="object"===typeof a?a:{complete:c||!c&&b||p.isFunction(a)&&a,duration:a,easing:c&&b||b&&!p.isFunction(b)&&b};d.duration=p.fx.off?0:"number"===typeof d.duration?d.duration:p.fx.speeds[d.duration]||p.fx.speeds._default;d.old=d.complete;d.complete=function(){!1!==d.queue&&p(this).dequeue();p.isFunction(d.old)&&
d.old.call(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+0.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig||(b.orig={})}});p.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(p.fx.step[this.prop]||p.fx.step._default)(this);if(("height"==this.prop||"width"==this.prop)&&this.elem.style)this.elem.style.display="block"},cur:function(a){return null!=
this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop])?this.elem[this.prop]:(a=parseFloat(p.css(this.elem,this.prop,a)))&&-1E4<a?a:parseFloat(p.curCSS(this.elem,this.prop))||0},custom:function(a,b,c){function d(a){return g.step(a)}this.startTime=+new Date;this.start=a;this.end=b;this.unit=c||this.unit||"px";this.now=this.start;this.pos=this.state=0;var g=this;d.elem=this.elem;d()&&(p.timers.push(d)&&!aa)&&(aa=setInterval(function(){for(var a=p.timers,b=0;b<a.length;b++)a[b]()||
a.splice(b--,1);a.length||(clearInterval(aa),aa=void 0)},13))},show:function(){this.options.orig[this.prop]=p.attr(this.elem.style,this.prop);this.options.show=!0;this.custom("width"==this.prop||"height"==this.prop?1:0,this.cur());p(this.elem).show()},hide:function(){this.options.orig[this.prop]=p.attr(this.elem.style,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var b=+new Date;if(a||b>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();
var a=this.options.curAnim[this.prop]=!0,c;for(c in this.options.curAnim)!0!==this.options.curAnim[c]&&(a=!1);if(a){null!=this.options.display&&(this.elem.style.overflow=this.options.overflow,this.elem.style.display=this.options.display,"none"==p.css(this.elem,"display")&&(this.elem.style.display="block"));this.options.hide&&p(this.elem).hide();if(this.options.hide||this.options.show)for(var d in this.options.curAnim)p.attr(this.elem.style,d,this.options.orig[d]);this.options.complete.call(this.elem)}return!1}c=
b-this.startTime;this.state=c/this.options.duration;this.pos=p.easing[this.options.easing||(p.easing.swing?"swing":"linear")](this.state,c,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update();return!0}};p.extend(p.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){p.attr(a.elem.style,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});p.fn.offset=document.documentElement.getBoundingClientRect?
function(){if(!this[0])return{top:0,left:0};if(this[0]===this[0].ownerDocument.body)return p.offset.bodyOffset(this[0]);var a=this[0].getBoundingClientRect(),b=this[0].ownerDocument,c=b.body,b=b.documentElement;return{top:a.top+(self.pageYOffset||p.boxModel&&b.scrollTop||c.scrollTop)-(b.clientTop||c.clientTop||0),left:a.left+(self.pageXOffset||p.boxModel&&b.scrollLeft||c.scrollLeft)-(b.clientLeft||c.clientLeft||0)}}:function(){if(!this[0])return{top:0,left:0};if(this[0]===this[0].ownerDocument.body)return p.offset.bodyOffset(this[0]);
p.offset.initialized||p.offset.initialize();var a=this[0],b=a.offsetParent,c=a.ownerDocument,d,g=c.documentElement,h=c.body,c=c.defaultView;d=c.getComputedStyle(a,null);for(var l=a.offsetTop,n=a.offsetLeft;(a=a.parentNode)&&a!==h&&a!==g;){d=c.getComputedStyle(a,null);l-=a.scrollTop;n-=a.scrollLeft;if(a===b){l+=a.offsetTop;n+=a.offsetLeft;if(p.offset.doesNotAddBorder&&(!p.offset.doesAddBorderForTableAndCells||!/^t(able|d|h)$/i.test(a.tagName)))l+=parseInt(d.borderTopWidth,10)||0,n+=parseInt(d.borderLeftWidth,
10)||0;b=a.offsetParent}p.offset.subtractsBorderForOverflowNotVisible&&"visible"!==d.overflow&&(l+=parseInt(d.borderTopWidth,10)||0,n+=parseInt(d.borderLeftWidth,10)||0)}if("relative"===d.position||"static"===d.position)l+=h.offsetTop,n+=h.offsetLeft;"fixed"===d.position&&(l+=Math.max(g.scrollTop,h.scrollTop),n+=Math.max(g.scrollLeft,h.scrollLeft));return{top:l,left:n}};p.offset={initialize:function(){if(!this.initialized){var a=document.body,b=document.createElement("div"),c,d,g,h=a.style.marginTop;
c={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(d in c)b.style[d]=c[d];b.innerHTML='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';a.insertBefore(b,a.firstChild);c=b.firstChild;d=c.firstChild;g=c.nextSibling.firstChild.firstChild;
this.doesNotAddBorder=5!==d.offsetTop;this.doesAddBorderForTableAndCells=5===g.offsetTop;c.style.overflow="hidden";c.style.position="relative";this.subtractsBorderForOverflowNotVisible=-5===d.offsetTop;a.style.marginTop="1px";this.doesNotIncludeMarginInBodyOffset=0===a.offsetTop;a.style.marginTop=h;a.removeChild(b);this.initialized=!0}},bodyOffset:function(a){p.offset.initialized||p.offset.initialize();var b=a.offsetTop,c=a.offsetLeft;p.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseInt(p.curCSS(a,
"marginTop",!0),10)||0,c+=parseInt(p.curCSS(a,"marginLeft",!0),10)||0);return{top:b,left:c}}};p.fn.extend({position:function(){var a;if(this[0]){a=this.offsetParent();var c=this.offset(),d=/^body|html$/i.test(a[0].tagName)?{top:0,left:0}:a.offset();c.top-=b(this,"marginTop");c.left-=b(this,"marginLeft");d.top+=b(a,"borderTopWidth");d.left+=b(a,"borderLeftWidth");a={top:c.top-d.top,left:c.left-d.left}}return a},offsetParent:function(){for(var a=this[0].offsetParent||document.body;a&&!/^body|html$/i.test(a.tagName)&&
"static"==p.css(a,"position");)a=a.offsetParent;return p(a)}});p.each(["Left","Top"],function(a,b){var c="scroll"+b;p.fn[c]=function(b){return!this[0]?null:void 0!==b?this.each(function(){this==q||this==document?q.scrollTo(!a?b:p(q).scrollLeft(),a?b:p(q).scrollTop()):this[c]=b}):this[0]==q||this[0]==document?self[a?"pageYOffset":"pageXOffset"]||p.boxModel&&document.documentElement[c]||document.body[c]:this[0][c]}});p.each(["Height","Width"],function(a,b){var c=b.toLowerCase();p.fn["inner"+b]=function(){return this[0]?
p.css(this[0],c,!1,"padding"):null};p.fn["outer"+b]=function(a){return this[0]?p.css(this[0],c,!1,a?"margin":"border"):null};var d=b.toLowerCase();p.fn[d]=function(a){return this[0]==q?"CSS1Compat"==document.compatMode&&document.documentElement["client"+b]||document.body["client"+b]:this[0]==document?Math.max(document.documentElement["client"+b],document.body["scroll"+b],document.documentElement["scroll"+b],document.body["offset"+b],document.documentElement["offset"+b]):void 0===a?this.length?p.css(this[0],
d):null:this.css(d,"string"===typeof a?a:a+"px")}})})();var calformname,calformelement,calpattern,calweekstart,shouldUseTime="false",currentDivId=null;function printCalendar(a,b,c,d){printCal(a,"Sun","Mon","Tue","Wed","Thu","Fri","Sat",1,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",b,c,d,"false")}function printMonthYearCalendar(a,b,c){printMonthAndYearCal(a,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",c)}function printYearCalendar(a,b){printYearOnlyCal(a,b)}
function printMonthAndYearCal(a){document.write('<table cellpadding="0" cellspacing="0" border="0" width="150" height="20" bgcolor="#BDDBF3">');document.write("<tr>");document.write('    <td class="CALENDARBORDER" width="5"></td>');document.write('    <td align="center" width="*" class="CALENDARTITLE">');document.write('<select id="calmois'+a+'" name="calmois'+a+'"><OPTION selected>Jan</OPTION><OPTION>Feb</OPTION><OPTION>Mar</OPTION><OPTION>Apr</OPTION><OPTION>May</OPTION><OPTION>Jun</OPTION><OPTION>Jul</OPTION><OPTION>Aug</OPTION><OPTION>Sep</OPTION><OPTION>Oct</OPTION><OPTION>Nov</OPTION><OPTION>Dec</OPTION>');
document.write("</select>");document.write("</td>");document.write('    <td align="center" width="10" class="CALENDARTITLE" nowrap>');document.write('<select id="calyear'+a+'" name="calyear'+a+'" onload="showYears(id)" onChange="hideMonthAndYearCal(\''+a+"')\"><OPTION selected>1900</OPTION>");document.write("</select>");document.write("</td>");document.write('    <td class="CALENDARBORDER" width="5"></td>');document.write('    <td class="CALENDARTITLE" width="10" align="right"><img src="'+imgsrc+
'close.gif" onclick="hideMonthAndYearCal(\''+a+"')\"></td>");document.write("</tr>");document.write("</table>")}
function printYearOnlyCal(a){document.write('<table cellpadding="0" cellspacing="0" border="0" width="100" height="20" bgcolor="#BDDBF3">');document.write("<tr>");document.write('    <td class="CALENDARBORDER" width="2"></td>');document.write('    <td align="center" width="*" class="CALENDARTITLE">');document.write("</td>");document.write('    <td align="center" width="*" class="CALENDARTITLE" nowrap>');document.write('<select id="calyear'+a+'" name="calyear'+a+'" onload="showYears(id)" onChange="hideYearOnlyCal(\''+
a+"')\"><OPTION selected>1900</OPTION>");document.write("</select>");document.write("</td>");document.write('    <td class="CALENDARBORDER" width="2"></td>');document.write('    <td class="CALENDARTITLE" width="10" align="right"><img src="'+imgsrc+'close.gif" onclick="hideYearOnlyCal(\''+a+"')\"></td>");document.write("</tr>");document.write("</table>")}function showYears(a){var b=0;for(prop=1900;2020>prop;prop++)document.getElementById(a).options[b++]=new Option(prop,prop)}
function hideMonthAndYearCal(a){var b="slcalcod"+a,c="calmois"+a,d="calyear"+a,g=document.getElementById(c).selectedIndex,c=document.getElementById(c).options[g].innerHTML;"Jan"==c?c="01":"Feb"==c?c="02":"Mar"==c?c="03":"Apr"==c?c="04":"May"==c?c="05":"Jun"==c?c="06":"Jul"==c?c="07":"Aug"==c?c="08":"Sep"==c?c="09":"Oct"==c?c="10":"Nov"==c?c="11":"Dec"==c&&(c="12");g=document.getElementById(d).selectedIndex;d=document.getElementById(d).options[g].innerHTML;d=formatMonthAndYearDate(c,d);document.forms[calformname].elements[calformelement].value=
d;document.all?(document.getElementById(b).style.visibility="hidden",document.getElementById(b).style.visibility="hidden",showElement("SELECT")):document.layers?document.getElementById(b).visibility="hidden":document.getElementById(b).style.visibility="hidden";document.getElementById(a).style.color="black";isDataChanged()}
function formatMonthAndYearDate(a,b){var c="",d=0,g,h,l=0;if(null!=calpattern&&0<calpattern.length)for(h=calpattern.charAt(0);d<=calpattern.length;){g=d<calpattern.length?calpattern.charAt(d):"";if(g!=h){switch(h){case "y":c+=padYear(b,l);break;case "M":c+=padNumber(a,l);break;case "'":break;default:c+=h}h=g;l=0}l++;d++}return c}
function hideYearOnlyCal(a){var b="slcalcod"+a,c="calyear"+a,d=document.getElementById(c).selectedIndex,c=document.getElementById(c).options[d].innerHTML;document.forms[calformname].elements[calformelement].value=c;document.all?(document.getElementById(b).style.visibility="hidden",document.getElementById(b).style.visibility="hidden",showElement("SELECT")):document.layers?document.getElementById(b).visibility="hidden":document.getElementById(b).style.visibility="hidden";document.getElementById(a).style.color=
"black";isDataChanged()}function printTimeCalendar(a,b,c,d){printCal(a,"Sun","Mon","Tue","Wed","Thu","Fri","Sat",1,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",b,c,d,"true",10,12)}
function printCal(a,b,c,d,g,h,l,n,q,r,s,p,v,t,A,w,C,z,D,G,E,F,B,R,O){B=20;B=document.all?20:document.layers?20:"true"==O?70:35;B='<div id="caltitre" style="z-index:10;height:'+B+'">'+('<div id="caltitre" style="z-index:10;height:'+B+'">');B+='<table cellpadding="0" cellspacing="0" border="0" width="267" height:20" bgcolor="#BDDBF3">';B+='<tr><td colspan="15"><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td></tr>';B+="<tr>";B+='    <td class="CALENDARBORDER" width="1"></td>';B+='    <td class="CALENDARTITLE"  colspan="3" align="right"><img src="'+
imgsrc+'previous2.gif" onclick="cal_previous_year(\''+a+"',"+F+');"></td>';B+='    <td class="CALENDARTITLE" colspan="1" align="left" width="40"><img src="'+imgsrc+'previous.gif" onclick="cal_before(\''+a+"',"+F+');"></td>';B+='    <td colspan=6 align="right" class="CALENDARTITLE" nowrap>';B+='<select id="calmois'+a+'" name="calmois'+a+'" onchange="cal_chg(\''+a+"',"+F+');"><option value=0>...</option>';calweekstart=q;caldays=Array(7);caldays[0]=b;caldays[1]=c;caldays[2]=d;caldays[3]=g;caldays[4]=
h;caldays[5]=l;caldays[6]=n;computedcaldays=Array(7);for(i=0;7>i;i++)computedcaldays[(i+1-calweekstart+7)%7]=caldays[i];for(i=1;12>=i;i++){b="<option value="+i+">";monthIndex=i-1;switch(monthIndex){case 0:b+=r;break;case 1:b+=s;break;case 2:b+=p;break;case 3:b+=v;break;case 4:b+=t;break;case 5:b+=A;break;case 6:b+=w;break;case 7:b+=C;break;case 8:b+=z;break;case 9:b+=D;break;case 10:b+=G;break;case 11:b+=E}B+=b}B+="</select>";B+='<select id="calyear'+a+'" name="calyear'+a+'" onchange="cal_chg(\''+
a+"',"+F+');">';B+="</select>";B+="    </td>";B+='    <td class="CALENDARTITLE" align="right"><img src="'+imgsrc+'next.gif" onclick="cal_after(\''+a+"',"+F+');"></td>';B+='    <td class="CALENDARTITLE" align="left"><img src="'+imgsrc+'next2.gif" onclick="cal_after_year(\''+a+"',"+F+');"></td>';B+='    <td class="CALENDARTITLE" align="right"><img src="'+imgsrc+'close.gif" onclick="hideCalendar(\''+a+"')\"></td>";B+='    <td class="CALENDARBORDER" width=1><img src="'+imgsrc+'calBackground.gif" width="1" height="1"></td>';
B+="</tr>";"false"==shouldUseTime&&(shouldUseTime=O);if("true"==O){B+="<tr>";B+='    <td colspan="5" class="CALENDARBORDER" align="right">Time &nbsp; </td>';B+='<td colspan="5" class="CALENDARBORDER" align="left"><select id="timeHrs'+a+'" name="time_hh'+a+'" size="1">';b="";for(i=0;23>=i;i++)b+="<option value="+i+">"+i+"</option>";B+=b;B+="    </select>";B+='    &nbsp;:&nbsp; <select id="timeMin'+a+'" name="time_mm'+a+'" size="1">';b="";for(i=0;59>=i;i++)b+="<option value="+i+">"+i+"</option>";B+=
b;B+="    </select></td>";B+='    <td colspan=5 class="CALENDARBORDER" align="left">[HH : MM]</td>';B+="</tr>"}B+='<tr><td colspan=15 class="CALENDARBORDER"><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td></tr>';B+="<tr>";B+='    <td class="CALENDARBORDER" width="1"><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td>';B+='    <td class="CALENDRIER" width="38" align="center">'+computedcaldays[0]+"</td>";B+='    <td class="CALENDRIER" width="50"><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td>';
B+='    <td class="CALENDRIER" width="10">  '+computedcaldays[1]+"</td>";B+='    <td class="CALENDRIER" width="1"><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td>';B+='    <td class="CALENDRIER" width="10">'+computedcaldays[2]+"</td>";B+='    <td class="CALENDRIER" width="1"><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td>';B+='    <td class="CALENDRIER" width="38">'+computedcaldays[3]+"</td>";B+='    <td class="CALENDRIER" width="1"><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td>';
B+='    <td class="CALENDRIER" width="38">'+computedcaldays[4]+"</td>";B+='    <td class="CALENDRIER" width="1"><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td>';B+='    <td class="CALENDRIER" width="38">'+computedcaldays[5]+"</td>";B+='    <td class="CALENDRIER" width="1"><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td>';B+='    <td class="CALENDRIER" width="38">'+computedcaldays[6]+"</td>";B+='    <td class="CALENDARBORDER" width="1"><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td>';
B+="</tr>";B+='<tr><td colspan=15 class="CALENDARBORDER"><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td></tr>';B+="</table>";B+="</div>";B+='<div id="caljour'+a+'" style="z-index:10;"></div>';B+="</div>";document.getElementById("slcalcod"+a)?document.getElementById("slcalcod"+a).innerHTML=B:document.write(B)}
function showCalendar(a,b,c,d,g,h,l,n,q,r){null!=currentDivId&&hideCalendar(currentDivId);currentDivId=a;var s="slcalcod"+a,p="calmois"+a,v="calyear"+a,t=document.getElementById("dataEntryFormDiv");if(!document.forms[h].elements[l].disabled){if(null!=q){v=document.getElementById(v);for(i=q;i<=r;i++)v.options[i-q]=new Option(i,i);v.options.length=r-q+1}document.all?(null!=t?(q=t.scrollTop,t=t.scrollLeft):(q=document.body.scrollTop,t=document.body.scrollLeft),document.getElementById(s).style.left=n.clientX+
t+10,document.getElementById(s).style.top=n.clientY+q+10,document.getElementById(s).style.visibility="visible",0!=c&&(document.getElementById(p).selectedIndex=c)):document.layers?(document.elements[s].left=e.pageX+10,document.elements[s].top=e.pageY+10,document.elements[s].visibility="visible",0!=c&&(document.elements[s].document.caltitre.document.forms[0].calmois.selectedIndex=c)):(s=document.getElementById(s),null!=t?(q=t.scrollTop,t=t.scrollLeft):(q=document.body.scrollTop,t=document.body.scrollLeft),
s.style.left=n.clientX+t+10,s.style.top=n.clientY+q+10,s.style.visibility="visible",0!=c&&(document.getElementById(p).selectedIndex=c));document.forms[h].elements[l].stlayout?(b=document.forms[h].elements[l].stlayout.day,n=document.forms[h].elements[l].stlayout.month,p=parseInt(document.forms[h].elements[l].stlayout.year),0!=c&&0!=d&&cal_chg(a,b,n,p)):0!=c&&0!=d&&cal_chg(a,d,c,b);calformname=h;calformelement=l;calpattern=g}}
function cal_chg(a,b,c,d){var g="",h;h="calyear"+a;champMonth=document.getElementById("calmois"+a);null==c?c=champMonth.options[champMonth.selectedIndex].value:champMonth.selectedIndex=c;champYear=document.getElementById(h);null==d?d=champYear.options[champYear.selectedIndex].value:(index=d-champYear.options[0].value,0<=index&&index<champYear.options.length?champYear.selectedIndex=index:d=champYear.options[0].value);if(0<c){h=1;weekEnd1Pos=(1-calweekstart+7)%7;weekEnd2Pos=(7-calweekstart+7)%7;g+=
'<table cellpadding=0 cellspacing=0 border=0 width=267 bgcolor="#BDDBF3">\n';for(u=0;6>u;u++){g+="  <tr>\n";for(i=0;7>i;i++)ldt=new Date(d,c-1,h),g+='      <td class="CALENDARBORDER" width=1><img src="'+imgsrc+'calBackground.gif" width=1 height=20></td>\n',g+='      <td class="CALENDAR',g=ldt.getDate()==h&&h==b?g+"SELECTED":i==weekEnd1Pos||i==weekEnd2Pos?g+"WEEKEND":g+"WEEK",g+='" width="38" align="center">',(ldt.getDay()+1-calweekstart+7)%7==i&&ldt.getDate()==h?(g+='<a class="CALENDRIER" href="javascript://" class="CALENDRIER" onmousedown="dtemaj(\''+
a+"','"+h+"','"+c+"','"+d+"');\">"+h+"</a>",h++):g+="&nbsp;",g+="</td>\n";g+='      <td class="CALENDARBORDER" width=1><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td>\n';g+="  </tr>\n";g+='  <tr><td colspan=15 class="CALENDARBORDER"><img src="'+imgsrc+'calBackground.gif" width=1 height=1></td></tr>\n'}g+="</table>\n"}a="caljour"+a;document.all&&(document.getElementById(a).innerHTML=g);document.layers&&(obj=document.calendrier.document.caljour,obj.top=48,obj.document.write(g),obj.document.close());
!document.all&&document.getElementById&&(document.getElementById(a).innerHTML=g)}function cal_before(a,b){var c,d;d="calyear"+a;c=document.getElementById("calmois"+a);d=document.getElementById(d);1<c.selectedIndex?c.selectedIndex--:0<d.selectedIndex&&(d.selectedIndex--,c.selectedIndex=c.options.length-1);cal_chg(a,b,c.options[c.selectedIndex].value,d.options[d.selectedIndex].value)}
function cal_previous_year(a,b){var c,d;d="calyear"+a;c=document.getElementById("calmois"+a);d=document.getElementById(d);1<=d.selectedIndex?d.selectedIndex--:d.selectedIndex=d.options.length-1;cal_chg(a,b,c.options[c.selectedIndex].value,d.options[d.selectedIndex].value)}
function cal_after(a,b){var c,d;d="calyear"+a;c=document.getElementById("calmois"+a);d=document.getElementById(d);c.selectedIndex<c.options.length-1?c.selectedIndex++:d.selectedIndex<d.options.length-1&&(d.selectedIndex++,c.selectedIndex=1);cal_chg(a,b,c.options[c.selectedIndex].value,d.options[d.selectedIndex].value)}
function cal_after_year(a,b){var c,d;d="calyear"+a;c=document.getElementById("calmois"+a);d=document.getElementById(d);d.selectedIndex<d.options.length-1?d.selectedIndex++:d.selectedIndex=0;cal_chg(a,b,c.options[c.selectedIndex].value,d.options[d.selectedIndex].value)}var containerId,controlId;function setIdForValidation(a,b){controlId=a;containerId=b}
function dtemaj(a,b,c,d){document.forms[calformname].elements[calformelement].value=formatDate(b,c,d,a);document.forms[calformname].elements[calformelement].stlayout={};document.forms[calformname].elements[calformelement].stlayout.day=b;document.forms[calformname].elements[calformelement].stlayout.month=c;document.forms[calformname].elements[calformelement].stlayout.year=d;hideCalendar(a);null!=containerId&&(""!=containerId&&null!=controlId&&""!=controlId)&&updateServerState(a,controlId,containerId)}
function formatDate(a,b,c,d){var g="",h=0,l,n,q=0;if(null!=calpattern&&0<calpattern.length)for(n=calpattern.charAt(0);h<=calpattern.length;){l=h<calpattern.length?calpattern.charAt(h):"";if(l!=n){switch(n){case "y":g+=padYear(c,q);break;case "M":g+=padNumber(b,q);break;case "d":g+=padNumber(a,q);break;case "'":break;default:g+=n}n=l;q=0}q++;h++}"true"==shouldUseTime&&(a=document.getElementById("timeHrs"+d),d=document.getElementById("timeMin"+d),null!=a&&(null!=d&&"hidden"!=a.style.visibility&&"hidden"!=
d.style.visibility)&&(a=padNumber(a.value,2),d=padNumber(d.value,2),g+=" "+a+":"+d));return g}function padYear(a,b){return 2==b&&4==a.length?a.substring(2):a}function padNumber(a,b){for(var c=""+a;c.length<b;)c="0"+c;return c}
function hideCalendar(a){currentDivId=null;var b="slcalcod"+a;document.all?(document.getElementById(b).style.visibility="hidden",showElement("SELECT")):document.layers?document.getElementById(b).visibility="hidden":document.getElementById(b).style.visibility="hidden";document.getElementById(a).style.color="black";isDataChanged()}
function hideElement(a,b){var c="slcalcod"+b,d="calmois"+b,g="calyear"+b;if(document.all){x=parseInt(document.getElementById(c).style.left);y=parseInt(document.getElementById(c).style.top);for(c=event.srcElement;"DIV"!=c.tagName&&!(c=c.parentNode,"HTML"==c.tagName););"DIV"==c.tagName&&(x+=c.scrollLeft,y+=c.scrollTop);xxx=253;yyy=145;for(i=0;i<document.all.tags(a).length;i++)if((obj=document.all.tags(a)[i])&&obj.offsetParent&&!(obj.id==d||obj.id==g)){objLeft=obj.offsetLeft;objTop=obj.offsetTop;objParent=
obj.offsetParent;if("hidden"!=obj.style.visibility)for(;"BODY"!=objParent.tagName.toUpperCase();)objLeft+=objParent.offsetLeft,objTop+=objParent.offsetTop,objParent=objParent.offsetParent;obj.statusVisibility=obj.style.visibility;if(!(x>objLeft+obj.offsetWidth||objLeft>x+xxx)&&!(objTop>y+yyy)&&!(y>objTop+obj.offsetHeight)&&"hidden"!=obj.statusVisibility)obj.style.visibility="hidden"}}}
function showElement(a){if(document.all)for(i=0;i<document.all.tags(a).length;i++)if((obj=document.all.tags(a)[i])&&obj.offsetParent&&"hidden"!=obj.statusVisibility)obj.style.visibility=""}function processAjaxCalScript(a,b,c,d,g){return processAjaxCalanderScript(a,"Sun","Mon","Tue","Wed","Thu","Fri","Sat",1,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",b,c,d,"false",g)}
function printTimeCalendarForAjax(a,b,c,d,g,h,l){return processAjaxCalanderScript(a,"Sun","Mon","Tue","Wed","Thu","Fri","Sat",1,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",b,c,d,"true",l,10,12)}function printMonthYearCalendarForAjax(a,b,c,d){return processMonthAndYearCalForAjax(a,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",c,d)}function printYearCalendarForAjax(a,b,c){return processYearOnlyCalForAjax(a,b,c)}
function processAjaxCalanderScript(a,b,c,d,g,h,l,n,q,r,s,p,v,t,A,w,C,z,D,G,E,F,B,R,O,J){b='<div id="caltitre" style="z-index:10;height:20"><table cellpadding="0" cellspacing="0" border="0" width="267" height:20" bgcolor="#BDDBF3"><tr><td colspan="15"><img src="'+J+'calBackground.gif" width=1 height=1></td></tr>';b+="<tr>";b+='    <td class="CALENDARBORDER" width="1"></td>';b=b+'    <td class="CALENDARTITLE"  colspan="3" align="right"><img src="'+J+'previous2.gif" onclick="cal_previous_year(\''+a+
"',"+F+');"></td>';b=b+'    <td class="CALENDARTITLE" colspan="1" align="left" width="40"><img src="'+J+'previous.gif" onclick="cal_before(\''+a+"',"+F+');"></td>';b+='    <td colspan=6 align="right" class="CALENDARTITLE" nowrap>';b=b+'<select id="calmois'+a+'" name="calmois'+a+'" onchange="cal_chg(\''+a+"',"+F+');"><option value=0>...</option>';calweekstart=1;caldays=Array(7);caldays[0]="Sun";caldays[1]="Mon";caldays[2]="Tue";caldays[3]="Wed";caldays[4]="Thu";caldays[5]="Fri";caldays[6]="Sat";computedcaldays=
Array(7);for(i=0;7>i;i++)computedcaldays[(i+1-calweekstart+7)%7]=caldays[i];for(i=1;12>=i;i++){c="<option value="+i+">";monthIndex=i-1;switch(monthIndex){case 0:c+="Jan";break;case 1:c+="Feb";break;case 2:c+="Mar";break;case 3:c+="Apr";break;case 4:c+="May";break;case 5:c+="Jun";break;case 6:c+="Jul";break;case 7:c+="Aug";break;case 8:c+="Sep";break;case 9:c+="Oct";break;case 10:c+="Nov";break;case 11:c+="Dec"}b+=c}b+="</select>";b=b+'<select id="calyear'+a+'" name="calyear'+a+'" onchange="cal_chg(\''+
a+"',"+F+');">';b+="</select>";b+="    </td>";b=b+'    <td class="CALENDARTITLE" align="right"><img src="'+J+'next.gif" onclick="cal_after(\''+a+"',"+F+');"></td>';b=b+'    <td class="CALENDARTITLE" align="left"><img src="'+J+'next2.gif" onclick="cal_after_year(\''+a+"',"+F+');"></td>';b=b+'    <td class="CALENDARTITLE" align="right"><img src="'+J+'close.gif" onclick="hideCalendar(\''+a+"')\"></td>";b=b+'    <td class="CALENDARBORDER" width=1><img src="'+J+'calBackground.gif" width="1" height="1"></td>';
b+="</tr>";"false"==shouldUseTime&&(shouldUseTime=O);if("true"==O){b+="<tr>";b+='    <td colspan="5" class="CALENDARBORDER" align="right">Time &nbsp; </td>';b=b+'<td colspan="5" class="CALENDARBORDER" align="left"><select id="timeHrs'+a+'" name="time_hh'+a+'" size="1">';c="";for(i=0;23>=i;i++)c+="<option value="+i+">"+i+"</option>";b+=c;b+="    </select>";b=b+'    &nbsp;:&nbsp; <select id="timeMin'+a+'" name="time_mm'+a+'" size="1">';c="";for(i=0;59>=i;i++)c+="<option value="+i+">"+i+"</option>";
b+=c;b+="    </select></td>";b+='    <td colspan=5 class="CALENDARBORDER" align="left">[HH : MM]</td>';b+="</tr>"}b=b+'<tr><td colspan=15 class="CALENDARBORDER"><img src="'+J+'calBackground.gif" width=1 height=1></td></tr>';b+="<tr>";b=b+'    <td class="CALENDARBORDER" width="1"><img src="'+J+'calBackground.gif" width=1 height=1></td>';b=b+'    <td class="CALENDRIER" width="38" align="center">'+computedcaldays[0]+"</td>";b=b+'    <td class="CALENDRIER" width="50"><img src="'+J+'calBackground.gif" width=1 height=1></td>';
b=b+'    <td class="CALENDRIER" width="10">  '+computedcaldays[1]+"</td>";b=b+'    <td class="CALENDRIER" width="1"><img src="'+J+'calBackground.gif" width=1 height=1></td>';b=b+'    <td class="CALENDRIER" width="10">'+computedcaldays[2]+"</td>";b=b+'    <td class="CALENDRIER" width="1"><img src="'+J+'calBackground.gif" width=1 height=1></td>';b=b+'    <td class="CALENDRIER" width="38">'+computedcaldays[3]+"</td>";b=b+'    <td class="CALENDRIER" width="1"><img src="'+J+'calBackground.gif" width=1 height=1></td>';
b=b+'    <td class="CALENDRIER" width="38">'+computedcaldays[4]+"</td>";b=b+'    <td class="CALENDRIER" width="1"><img src="'+J+'calBackground.gif" width=1 height=1></td>';b=b+'    <td class="CALENDRIER" width="38">'+computedcaldays[5]+"</td>";b=b+'    <td class="CALENDRIER" width="1"><img src="'+J+'calBackground.gif" width=1 height=1></td>';b=b+'    <td class="CALENDRIER" width="38">'+computedcaldays[6]+"</td>";b=b+'    <td class="CALENDARBORDER" width="1"><img src="'+J+'calBackground.gif" width=1 height=1></td>';
b+="</tr>";b=b+'<tr><td colspan=15 class="CALENDARBORDER"><img src="'+J+'calBackground.gif" width=1 height=1></td></tr>';b+="</table>";b+="</div>";return b=b+'<div id="caljour'+a+'" style="z-index:10;"></div>'}function processMonthAndYearCalForAjax(){return calDiv}function processYearOnlyCalForAjax(){return calDiv};function changeMenuStyle(a,b){objclick!=a&&(a.className=b)}function showCursor(){document.body.style.cursor="hand"}function hideCursor(){document.body.style.cursor="default"}function confirmDelete(){return confirm("Are you sure you want to delete?")?!0:!1}function setFormAction(a){document.forms[0].action=a}function setOperation(a){document.forms[0].operation.value=a}function enableAll(){document.forms[0].loginName.disabled="false"}
function CheckAll(a){for(var b=0;b<document.forms[0].elements.length;b++){var c=document.forms[0].elements[b];"checkbox"==c.type&&(c.checked=a.checked)}}function showdatecontrol(a,b,c){window.open("cal.asp?WCI=cal&caltype=0&formname="+a+"&elementname="+b+"&elementname2="+c,"strFormname","toolbar=no,location=no,directories=no,status=yes,width="+screen.availWidth/4.2+",height="+screen.availHeight/2.8+",menubar=no,scrollbars=no,top=0,left=0, resizable=no, border=thin")}
function send(a,b,c,d){document.forms[0].action=d+"?pageNum="+a;document.forms[0].submit()}var objclick;function changeMenuSelected(a,b){objclick=a;window.location.reload;a.className=b;a.onmouseout=""}function changeUrl(a,b){var c=replaceAll("&","_","redirectTo="+b);a.href=a.href+"&"+c}function replaceAll(a,b,c){for(var d=c.indexOf(a);-1!=d;)c=c.replace(a,b),d=c.indexOf(a);return c}function getURL(a){var b=a.lastIndexOf("/");return a.substring(b)}
function checkActivityStatus(a,b){"Disabled"==a.options[a.selectedIndex].text&&(document.forms[0].onSubmit.value=b)}function changeSubmitTo(a){var b=document.forms[0].onSubmit.value;if(null==b||""==b)document.forms[0].onSubmit.value=a}var win=null;
function StorageMapWindow(a,b,c,d,g){LeftPosition=screen.width?(screen.width-c)/2:0;TopPosition=screen.height?(screen.height-d)/2:0;a=a+document.forms[0].typeId.value+"&storageToBeSelected="+document.forms[0].parentContainerId.value+"&position="+document.forms[0].positionDimensionOne.value+":"+document.forms[0].positionDimensionTwo.value;settings="height="+d+",width="+c+",top="+TopPosition+",left="+LeftPosition+",scrollbars="+g+",resizable";win=open(a,b,settings);null==win.opener&&(win.opener=self)}
function NewWindow(a,b,c,d,g){LeftPosition=screen.width?(screen.width-c)/2:0;TopPosition=screen.height?(screen.height-d)/2:0;settings="height="+d+",width="+c+",top="+TopPosition+",left="+LeftPosition+",scrollbars="+g+",resizable";win=open(a,b,settings);null==win.opener&&(win.opener=self)}function addNewAction(a){document.forms[0].action=a;document.forms[0].submit()}function setSubmittedFor(a){document.forms[0].submittedFor.value=a};(function(a){function b(){a.fn.ajaxSubmit.debug&&(window.console&&window.console.log)&&window.console.log("[jquery.form] "+Array.prototype.join.call(arguments,""))}a.fn.ajaxSubmit=function(c){function d(){function b(){if(!E++){r.detachEvent?r.detachEvent("onload",b):r.removeEventListener("load",b,!1);var c=0,d=!0;try{if(F)throw"timeout";var h,l;l=r.contentWindow?r.contentWindow.document:r.contentDocument?r.contentDocument:r.document;if(null==l.body&&!c&&a.browser.opera){c=1;E--;setTimeout(b,100);
return}s.responseText=l.body?l.body.innerHTML:null;s.responseXML=l.XMLDocument?l.XMLDocument:l;s.getResponseHeader=function(a){return{"content-type":g.dataType}[a]};if("json"==g.dataType||"script"==g.dataType){var q=l.getElementsByTagName("textarea")[0];s.responseText=q?q.value:s.responseText}else if("xml"==g.dataType&&!s.responseXML&&null!=s.responseText){var c=s,A=s.responseText;l=void 0;window.ActiveXObject?(l=new ActiveXObject("Microsoft.XMLDOM"),l.async="false",l.loadXML(A)):l=(new DOMParser).parseFromString(A,
"text/xml");c.responseXML=l&&l.documentElement&&"parsererror"!=l.documentElement.tagName?l:null}h=a.httpData(s,g.dataType)}catch(v){d=!1,a.handleError(g,s,"error",v)}d&&(g.success(h,"success"),G&&a.event.trigger("ajaxSuccess",[s,g]));G&&a.event.trigger("ajaxComplete",[s,g]);G&&!--a.active&&a.event.trigger("ajaxStop");g.complete&&g.complete(s,d?"success":"error");setTimeout(function(){n.remove();s.responseXML=null},100)}}var d=q[0];if(a(":input[name=submit]",d).length)alert('Error: Form elements must not be named "submit".');
else{var g=a.extend({},a.ajaxSettings,c),h=jQuery.extend(!0,{},a.extend(!0,{},a.ajaxSettings),g),l="jqFormIO"+(new Date).getTime(),n=a('<iframe id="'+l+'" name="'+l+'" />'),r=n[0];if(a.browser.msie||a.browser.opera)r.src='javascript:false;document.write("");';n.css({position:"absolute",top:"-1000px",left:"-1000px"});var s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=
1;n.attr("src","about:blank")}},G=g.global;G&&!a.active++&&a.event.trigger("ajaxStart");G&&a.event.trigger("ajaxSend",[s,g]);if(h.beforeSend&&!1===h.beforeSend(s,h))h.global&&jQuery.active--;else if(!s.aborted){var E=0,F=0;if(h=d.clk){var B=h.name;B&&!h.disabled&&(c.extraData=c.extraData||{},c.extraData[B]=h.value,"image"==h.type&&(c.extraData[name+".x"]=d.clk_x,c.extraData[name+".y"]=d.clk_y))}setTimeout(function(){var h=q.attr("target"),A=q.attr("action");q.attr({target:l,method:"POST",action:g.url});
c.skipEncodingOverride||q.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});g.timeout&&setTimeout(function(){F=!0;b()},g.timeout);var s=[];try{if(c.extraData)for(var D in c.extraData)s.push(a('<input type="hidden" name="'+D+'" value="'+c.extraData[D]+'" />').appendTo(d)[0]);n.appendTo("body");r.attachEvent?r.attachEvent("onload",b):r.addEventListener("load",b,!1);d.submit()}finally{q.attr("action",A),h?q.attr("target",h):q.removeAttr("target"),a(s).remove()}},10)}}}if(!this.length)return b("ajaxSubmit: skipping submit process - no element selected"),
this;"function"==typeof c&&(c={success:c});var c=a.extend({url:this.attr("action")||window.location.toString(),type:this.attr("method")||"GET"},c||{}),g={};this.trigger("form-pre-serialize",[this,c,g]);if(g.veto)return b("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(c.beforeSerialize&&!1===c.beforeSerialize(this,c))return b("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h=this.formToArray(c.semantic);if(c.data){c.extraData=c.data;for(var l in c.data)if(c.data[l]instanceof
Array)for(var n in c.data[l])h.push({name:l,value:c.data[l][n]});else h.push({name:l,value:c.data[l]})}if(c.beforeSubmit&&!1===c.beforeSubmit(h,this,c))return b("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[h,this,c,g]);if(g.veto)return b("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;g=a.param(h);"GET"==c.type.toUpperCase()?(c.url+=(0<=c.url.indexOf("?")?"&":"?")+g,c.data=null):c.data=g;var q=this,r=[];c.resetForm&&r.push(function(){q.resetForm()});
c.clearForm&&r.push(function(){q.clearForm()});if(!c.dataType&&c.target){var s=c.success||function(){};r.push(function(b){a(c.target).html(b).each(s,arguments)})}else c.success&&r.push(c.success);c.success=function(a,b){for(var d=0,g=r.length;d<g;d++)r[d].apply(c,[a,b,q])};g=a("input:file",this).fieldValue();h=!1;for(l=0;l<g.length;l++)g[l]&&(h=!0);c.iframe||h?a.browser.safari&&c.closeKeepAlive?a.get(c.closeKeepAlive,d):d():a.ajax(c);this.trigger("form-submit-notify",[this,c]);return this};a.fn.ajaxForm=
function(b){return this.ajaxFormUnbind().bind("submit.form-plugin",function(){a(this).ajaxSubmit(b);return!1}).each(function(){a(":submit,input:image",this).bind("click.form-plugin",function(b){var c=this.form;c.clk=this;if("image"==this.type)if(void 0!=b.offsetX)c.clk_x=b.offsetX,c.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var h=a(this).offset();c.clk_x=b.pageX-h.left;c.clk_y=b.pageY-h.top}else c.clk_x=b.pageX-this.offsetLeft,c.clk_y=b.pageY-this.offsetTop;setTimeout(function(){c.clk=
c.clk_x=c.clk_y=null},10)})})};a.fn.ajaxFormUnbind=function(){this.unbind("submit.form-plugin");return this.each(function(){a(":submit,input:image",this).unbind("click.form-plugin")})};a.fn.formToArray=function(b){var d=[];if(0==this.length)return d;var g=this[0],h=b?g.getElementsByTagName("*"):g.elements;if(!h)return d;for(var l=0,n=h.length;l<n;l++){var q=h[l],r=q.name;if(r)if(b&&g.clk&&"image"==q.type)!q.disabled&&g.clk==q&&d.push({name:r+".x",value:g.clk_x},{name:r+".y",value:g.clk_y});else if((q=
a.fieldValue(q,!0))&&q.constructor==Array)for(var s=0,p=q.length;s<p;s++)d.push({name:r,value:q[s]});else null!==q&&"undefined"!=typeof q&&d.push({name:r,value:q})}if(!b&&g.clk){b=g.getElementsByTagName("input");l=0;for(n=b.length;l<n;l++)h=b[l],(r=h.name)&&(!h.disabled&&"image"==h.type&&g.clk==h)&&d.push({name:r+".x",value:g.clk_x},{name:r+".y",value:g.clk_y})}return d};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};a.fn.fieldSerialize=function(b){var d=[];this.each(function(){var g=
this.name;if(g){var h=a.fieldValue(this,b);if(h&&h.constructor==Array)for(var l=0,n=h.length;l<n;l++)d.push({name:g,value:h[l]});else null!==h&&"undefined"!=typeof h&&d.push({name:this.name,value:h})}});return a.param(d)};a.fn.fieldValue=function(b){for(var d=[],g=0,h=this.length;g<h;g++){var l=a.fieldValue(this[g],b);null===l||("undefined"==typeof l||l.constructor==Array&&!l.length)||(l.constructor==Array?a.merge(d,l):d.push(l))}return d};a.fieldValue=function(b,d){var g=b.name,h=b.type,l=b.tagName.toLowerCase();
"undefined"==typeof d&&(d=!0);if(d&&(!g||b.disabled||"reset"==h||"button"==h||("checkbox"==h||"radio"==h)&&!b.checked||("submit"==h||"image"==h)&&b.form&&b.form.clk!=b||"select"==l&&-1==b.selectedIndex))return null;if("select"==l){var n=b.selectedIndex;if(0>n)return null;for(var g=[],l=b.options,q=(h="select-one"==h)?n+1:l.length,n=h?n:0;n<q;n++){var r=l[n];if(r.selected){r=a.browser.msie&&!r.attributes.value.specified?r.text:r.value;if(h)return r;g.push(r)}}return g}return b.value};a.fn.clearForm=
function(){return this.each(function(){a("input,select,textarea",this).clearFields()})};a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var a=this.type,b=this.tagName.toLowerCase();"text"==a||"password"==a||"textarea"==b?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==b&&(this.selectedIndex=-1)})};a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};a.fn.enable=
function(a){void 0==a&&(a=!0);return this.each(function(){this.disabled=!a})};a.fn.selected=function(b){void 0==b&&(b=!0);return this.each(function(){var d=this.type;"checkbox"==d||"radio"==d?this.checked=b:"option"==this.tagName.toLowerCase()&&(d=a(this).parent("select"),b&&(d[0]&&"select-one"==d[0].type)&&d.find("option").selected(!1),this.selected=b)})}})(jQuery);var DeAjaxHandler="AjaxcodeHandlerAction";"undefined"!=typeof DE_AJAX_HANDLER&&(DeAjaxHandler=DE_AJAX_HANDLER);var contextParam="",formGridDataInfo={deUrl:"deUrl",checkboxSelect:"select",formUrl:"formUrl"};function setContextParameter(a){contextParam=a}function formSelectedAction(){}function tagHandlerFunction(a){document.getElementById("userSelectedTool").value=a}function addSubForm(){document.getElementById("userSelectedTool").value="AddSubFormControl";controlSelectedAction()}
function showBuildFormJSP(){document.getElementById("operation").value="buildForm";var a=document.getElementById("formDefinitionForm");a.selectedParentForm.value=a.parentForm.value;a.submit()}function saveFormDetails(){document.getElementById("operation").value="saveForm";var a=document.getElementById("formDefinitionForm");setWaitCursorforAllObjectHierarchy(a);a.submit()}function saveFormDetailsOnKeyDown(a){(a=a||window.event)&&13==a.keyCode&&saveFormDetails()}
function controlSelectedAction(){clearControlAttributes();var a=document.getElementById("controlsForm");a.action=contextParam+"/SelectControlAction.do";a.submit()}function formCreateAsChanged(){}function showHomePageFromCreateForm(){var a=document.getElementById("formDefinitionForm");a.action=contextParam+"/RedirectAction.do";a.submit()}function showHomePageFromBuildForm(){var a=document.getElementById("controlsForm");a.action=contextParam+"/RedirectAction.do";a.submit()}
function showHomePageFromCreateGroup(){var a=document.getElementById("groupForm");a.action=contextParam+"/RedirectAction.do";a.submit()}
function addControlToFormTree(){var a=document.getElementById("optionListTable"),b=document.getElementById("optiongrid");null!=a&&null!=b&&(optionGrid.setCSVDelimiter("\t"),a=optionGrid.serializeToCSV(),document.getElementById("csvString").value=a);document.getElementById("operation").value="controlAdded";a=document.getElementById("controlsForm");null!=document.getElementById("selectedAttributeIds")&&selectAllListAttributes(document.getElementById("selectedAttributeIds"));a.action=contextParam+"/AddControlsAction.do";
a.target="_self";a.submit()}function addControlToForm(){window.dialogArguments&&(window.opener=window.dialogArguments);if(null!=window.opener){window.opener.document.getElementById("operation").value="controlAdded";var a=window.opener.document.getElementById("controlsForm");null!=a&&(a.action=contextParam+"/AddControlsAction.do",a.submit())}window.close()}function cancelControlOpern(a,b){clearCommonAttributes();clearControlAttributes();changeOperationMode(a,b)}
function changeOperationMode(a,b){null!=document.getElementById("controlOperation")&&(document.getElementById("controlOperation").value="Add");null!=document.getElementById("addControlToFormButton")&&(document.getElementById("addControlToFormButton").value=a);null!=document.getElementById("formTitle")&&(document.getElementById("formTitle").innerHTML=b)}function closeWindow(){window.close()}
function showNextActionConfirmDialog(){var a=contextParam+"/pages/de/confirmNextActionDialog.jsp";-1!=navigator.userAgent.indexOf("Firefox")?window.open(a,window,"height=200,width=350,top=300,left=350,chrome,centerscreen,dependent=YES, dialog=YES,modal=YES,resizable=NO,scrollbars=NO, location=0,status=0,menubar=0,toolbar=0"):window.showModalDialog(a,window,"dialogHeight: 200px; dialogWidth: 350px; dialogTop: 300px; dialogLeft: 350px;  center: Yes; resizable: 0;  minimize: NO; status: 0; toolbar:0;")}
function showCreateFormJSP(){window.dialogArguments&&(window.opener=window.dialogArguments);var a=window.opener.document.getElementById("operationMode");null!=a&&(a.value="EditForm");a=window.opener.document.getElementById("controlsForm");null!=a&&(a.action=contextParam+"/LoadFormDefinitionAction.do",a.submit());window.close()}
function dataFldDataTypeChanged(a){if(null!=a){var b=a.value,c=document.getElementById(b+"DataType");if("Text"!=a.value){var d=document.getElementById("linesTypeSingleLine");null!=d&&(d.checked="true",document.getElementById("rowForNumberOfLines").style.display="none")}if(null!=c)if(null!=document.getElementById("controlOperation")&&"Add"==document.getElementById("controlOperation").value&&clearFields(b),"Text"==b){b=document.getElementsByName("TextDataType");for(c=0;c<b.length;c++)b[c].style.display=
"";document.getElementById("NumberDataType").style.display="none"}else{b=document.getElementsByName("TextDataType");for(c=0;c<b.length;c++)b[c].style.display="none";document.getElementById("NumberDataType").style.display=""}insertRules(a)}}function clearFields(a){"Text"==a?clearTextValues():clearNumberValues()}
function clearTextValues(){""!=document.getElementById("attributeNoOfRows").value&&(document.getElementById("attributeNoOfRows").value="");""!=document.getElementById("attributeSize").value&&(document.getElementById("attributeSize").value="");""!=document.getElementById("attributeDefaultValue").value&&(document.getElementById("attributeDefaultValue").value="");!0==document.forms[0].attributeDisplayAsURL.checked&&(document.forms[0].attributeDisplayAsURL.checked=!1);!0==document.forms[0].attributeIsPassword.checked&&
(document.forms[0].attributeIsPassword.checked=!1)}function clearNumberValues(){""!=document.getElementById("attributeDecimalPlaces").value&&(document.getElementById("attributeDecimalPlaces").value="");""!=document.getElementById("attributeDefaultValue").value&&(document.getElementById("attributeDefaultValue").value="");!0==document.forms[0].attributeIsPassword.checked&&(document.forms[0].attributeIsPassword.checked=!1)}
function insertRules(a){var b=a.value+"Div",a='<table width="100%">',c=document.getElementById("commonsDiv");if(null!=c){a=a+'<tr><td width="100%">'+c.innerHTML+"</tr></td>";b=document.getElementById(b);for(null!=b&&(a=a+'<tr><td width="100%">'+b.innerHTML+"</tr></td>");-1!=a.indexOf("tempValidationRules");)a=a.replace("tempValidationRules","validationRules");for(;-1!=a.indexOf("minTemp");)a=a.replace("minTemp","min");for(;-1!=a.indexOf("maxTemp");)a=a.replace("maxTemp","max");for(;-1!=a.indexOf("temp_");)a=
a.replace("temp_","");document.getElementById("substitutionDivRules").innerHTML=a}}
function initBuildForm(a){contextParam=a;null!=document.getElementById("linesTypeHidden")&&textBoxTypeChange(document.getElementById("linesTypeHidden"));a=document.getElementById("initialDataType");null!=a?dataFldDataTypeChanged(a):insertRules("");a=document.getElementById("hiddenDisplayChoice");null!=a&&changeSourceForValues(a);initializeOptionsDefaultValue();a=document.getElementById("hiddenIsMultiSelect");null!=a&&listTypeChanged(a);a=document.getElementById("initialDateValueType");null!=a&&changeDateType(a);
groupChanged(!1);formChanged(!1);createFormAsChanged()}function changeChoiceListTableDisplay(){var a=document.getElementById("optionListTable");null!=a&&(0<a.rows.length?document.getElementById("optionsListRow").style.display="":document.getElementById("optionsListRow").style.display="none")}
function changeSourceForValues(a){if(null!=a&&canChangeSource(a)){var b=a.value;if(null!=b){var c=document.getElementById(b+"Values");if(null!=c&&(b=document.getElementById("optionValuesSpecificationDiv"),null!=b)){for(c=c.innerHTML;-1!=c.indexOf("tempoptiongrid");)c=c.replace("tempoptiongrid","optiongrid");for(;-1!=c.indexOf("tempcsvFile");)c=c.replace("tempcsvFile","csvFile");b.innerHTML=c;"UserDefined"==a.value&&initOptionGrid()}}}}
function canChangeSource(a){var b=null;return null!=document.getElementById("controlOperation")&&(b=document.getElementById("controlOperation").value,"Edit"==b&&null!=document.getElementById("hiddenDisplayChoice")&&(b=document.getElementById("hiddenDisplayChoice").value,b!=a.value))?(alert("Cannot change source for values"),a=document.getElementById(b),null!=a&&(a.checked=!0),!1):!0}
function initializeOptionsDefaultValue(){var a=document.getElementById("optionListTable"),b=document.getElementById("attributeDefaultValue");null!=b&&null!=a&&(a=document.getElementById(b.value+""),null!=a&&(a.style.fontWeight="bold"))}
function setDefaultValue(){var a=optionGrid.getAllItemIds(",");if(null!=a)for(var b=[],b=a.split(","),a=a=0;a<b.length;a++)optionGrid.setRowTextNormal(b[a]);b=optionGrid.getCheckedRows(0).split(",");optionGrid.setRowTextBold(b[0]);document.getElementById("attributeDefaultValue").value=optionGrid.cells(b[0],1).getValue()}
function showFormPreview(){var a=document.getElementById("entitySaved");null!=a&&(a.value="");a=document.getElementById("controlsForm");a.action=contextParam+"/ShowPreviewAction.do";a.submit()}function addFormAction(){document.getElementById("operationMode").value="AddNewForm"}function textBoxTypeChange(a){"SingleLine"==a.value&&(document.getElementById("rowForNumberOfLines").style.display="none");"MultiLine"==a.value&&(document.getElementById("rowForNumberOfLines").style.display="")}
function backToControlForm(){var a=document.getElementById("dataEntryForm");null!=a&&(setWaitCursorforAllObjectHierarchy(a),a.action=contextParam+"/LoadFormControlsAction.do",a.submit())}
function clearCommonAttributes(){null!=document.getElementById("caption")&&(document.getElementById("caption").value="");null!=document.getElementById("attributeConceptCode")&&(document.getElementById("attributeConceptCode").value="");null!=document.getElementById("description")&&(document.getElementById("description").value="")}
function clearControlAttributes(){var a=document.getElementById("controlsForm");null!=document.getElementById("attributeSize")&&(document.getElementById("attributeSize").value="");null!=document.getElementById("attributeDefaultValue")&&(document.getElementById("attributeDefaultValue").value="");null!=document.getElementById("attributeDigits")&&(document.getElementById("attributeDigits").value="");null!=document.getElementById("attributeDecimalPlaces")&&(document.getElementById("attributeDecimalPlaces").value=
"");null!=document.getElementById("measurementUnitOther")&&(document.getElementById("measurementUnitOther").value="");null!=document.getElementById("format")&&(document.getElementById("format").value="");null!=a.attributeNoOfRows&&(a.attributeNoOfRows.value="");null!=a.attributenoOfCols&&(a.attributenoOfCols.value="");null!=document.getElementById("dataType")&&(document.getElementById("dataType").value="");null!=document.getElementById("attributeIsPassword")&&(document.getElementById("attributeIsPassword").value=
"");clearSelectedAttributesList()}function setWaitCursorforAllObjectHierarchy(a){a.style.cursor="wait"}function resetWaitCursor(){var a=document.getElementById("waitcursorDiv");null!=a&&(a.style.display="none")}function saveEntity(){var a=document.getElementById("entitySaved");null!=a&&(a.value="true");a=document.getElementById("controlsForm");null!=a&&(setWaitCursorforAllObjectHierarchy(a),a.action=contextParam+"/SaveEntityAction.do",a.submit())}
function saveEntityOnKeyDown(a){(a=a||window.event)&&13==a.keyCode&&saveEntity()}function loadPreviewForm(a){contextParam=a;a=document.getElementById("entitySaved");null!=a&&"true"==a.value&&(a=document.getElementById("backToPrevious"),null!=a&&(a.disabled="true"))}
function listTypeChanged(a){if(null!=a){var b=document.getElementById("rowForDisplayHeight");null!=b&&("SingleSelect"==a.value&&(b.style.display="none",document.getElementById("userSelectedTool").value="ComboboxControl"),"MultiSelect"==a.value&&(b.style.display="",document.getElementById("userSelectedTool").value="ListBoxControl"))}}
function changeDateType(a){null!=a&&(dateTypeValue=a.value);document.getElementById("rowForDateDefaultValue").style.display="None"==dateTypeValue||"Today"==dateTypeValue?"none":""}function addDynamicData(a){var b=document.getElementById("dataEntryForm");if(null!=b){if(null!=a||""!=a)document.getElementById("recordIdentifier").value=a,document.getElementById("isEdit").value="true";b.action=contextParam+"/ApplyDataEntryFormAction";setWaitCursorforAllObjectHierarchy(b)}}
function showFormDefinitionPage(){var a=document.getElementById("previewForm");a.action=contextParam+"/LoadFormDefinitionAction.do";a.submit()}function showTooltip(a,b,c){0<b.scrollWidth-b.offsetWidth?b.title=a:null!=c?b.title=c:"IMG"!=b.tagName&&(b.title="")}function hideTooltip(){el=document.getElementById("akvtooltip");null!=el&&(el.style.visibility="hidden")}
function controlSelected(a){document.getElementById("controlOperation").value="Edit";document.getElementById("selectedControlId").value=a;controlType=mygrid.cells(mygrid.getSelectedId(),2).getValue();"Sub Form"==controlType&&null!=document.getElementById("operationMode")&&(document.getElementById("operationMode").value="EditSubForm");a=document.getElementById("controlsForm");a.action=contextParam+"/LoadFormControlsAction.do";a.submit()}
function ruleSelected(a){"range"==a.value&&!1==a.checked&&(document.getElementById("min").value="",document.getElementById("max").value="")}function deleteControl(){deleteControlFromUI();updateControlsSequence()}function deleteControlFromUI(){var a=mygrid.getCheckedRows(0).split(",");for(i=0;i<a.length;i++)mygrid.deleteRow(a[i])}
function updateControlsSequence(){var a=newXMLHTTPReq(),b=getReadyStateHandler(a,ignoreResponseHandler,!1);a.onreadystatechange=b;b=mygrid.getAllItemIds(",");if(null!=b){var c=document.getElementById("controlsSequenceNumbers");null!=c&&(c.value=b);a.open("POST",DeAjaxHandler,!0);a.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a.send(encodeURI("&ajaxOperation=updateControlsSequence&gridControlIds="+b))}}
function resetStartPointArray(a,b){for(counter=0;counter<a.length;counter++)a[counter]>b&&(a[counter]-=1)}function resetRowNum(a){for(i=0;i<a.length-1;i++)document.getElementById(a[i].value+"rowNum").value=i+1}function deleteRow(a,b){document.getElementById(a).deleteRow(b)}
function decreaseSequencenumber(){checkAttribute=document.controlsForm.checkAttribute;for(i=0;i<checkAttribute.length-1;i++)if(checkAttribute[i].checked){var a=document.getElementById(checkAttribute[i].value+"rowNum").value;moveRowsUp("controlList",a,1)}resetRowNum(checkAttribute)}function moveRowsUp(a,b,c){for(var a=document.getElementById(a),d=0;d<c&&1!=b;d++)a.moveRow(b,b-1),b+=1}
function increaseSequencenumber(){checkAttribute=document.controlsForm.checkAttribute;for(i=0;i<checkAttribute.length-1;i++)if(checkAttribute[i].checked){var a=document.getElementById(checkAttribute[i].value+"rowNum").value;a!=checkAttribute.length-1&&moveRowsDown("controlList",a,1)}resetRowNum(checkAttribute)}function moveRowsDown(a,b,c){for(var a=document.getElementById(a),d=0;d<c;d++)a.moveRow(b,parseInt(b)+1),b-=1}
function showDefineGroupPage(a){a=document.getElementById(a+"");null!=a&&(a.action=contextParam+"/LoadGroupDefinitionAction.do",a.submit())}
function changeGroupSource(a){if(null!=a){var b=document.getElementById("groupDetailsDiv"),c=a.value+"Div",a=document.getElementById(c),d=a.innerHTML;a.innerHTML="";var g=document.getElementById("groupForm");g.removeChild(a);if(null!=a&&null!=b){for(var h=d;-1!=h.indexOf("temp");)h=h.replace("temp","");b.innerHTML=h}b=document.getElementById("groupNameText");null!=b&&(b.value="");"ExistingGroupDiv"==c&&(b=document.getElementById("groupName"),groupSelected(b));g.appendChild(a);a.innerHTML=d}}
function initDefineGroupForm(a){contextParam=a;changeGroupSource(document.getElementById("createGroupAsHidden"))}function showDefineFormJSP(){var a=document.getElementById("groupForm"),b=document.getElementById("groupOperation");null!=b&&(b.value="showNextPage");null!=a&&(a.action=contextParam+"/ApplyGroupDefinitionAction.do",a.submit())}function setDataEntryOperation(a){var b=document.getElementById("formsIndexForm");b.action=a;b.submit()}
function setEditOperationMode(a){document.getElementById("operationMode").value="EditForm";var b=document.getElementById("formsIndexForm");b.action=a;b.submit()}function setRecordListTarget(a){var b=document.getElementById("recordListForm");b.action=a;b.submit()}function loadRecordList(a){document.getElementById("operationMode").value="EditForm";var b=document.getElementById("formsIndexForm");b.action=a;b.submit()}
function saveGroup(){var a=document.getElementById("groupForm"),b=document.getElementById("groupOperation");null!=b&&(b.value="savegroup");null!=a&&(setWaitCursorforAllObjectHierarchy(a),a.action=contextParam+"/ApplyGroupDefinitionAction.do",a.submit())}function saveGroupOnKeyDown(a){(a=a||window.event)&&13==a.keyCode&&saveGroup()}
function toggle(a,b,c){prevSelectedId=document.getElementById(a).value;""!=prevSelectedId&&(document.getElementById(prevSelectedId).style.fontWeight="normal");document.getElementById(a).value="";b=document.getElementById(b);null!=b&&void 0!=b&&("block"!=b.style.display?(b.style.display="block",document.getElementById(c).className="folderOpen"):(b.style.display="none",document.getElementById(c).className="folder"));formName=getFormNameFromParent(c);setSelectedObjectName(a,formName)}
function setSelectedObjectName(a,b){var c=document.getElementById(a+"Name");null!=c&&(c.value=b)}function changeSelection(a,b){prevSelectedId=document.getElementById(a).value;document.getElementById(a).value=b;document.getElementById(b).style.fontWeight="bold";""!=prevSelectedId&&(document.getElementById(prevSelectedId).style.fontWeight="normal");var c=document.getElementById(b);null!=c?setSelectedObjectName(a,c.innerText):setSelectedObjectName(a,"")}
function getFormNameFromParent(a){a=document.getElementById(a);if(null!=a&&(a=a.getElementsByTagName("a"),null!=a)){var b=a.length;if(null!=b&&void 0!=b&&0<b)return a[0].innerText}}function getDocumentElementForXML(a){if(window.ActiveXObject){var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a)}else b=(new DOMParser).parseFromString(a,"text/xml");return b}
function groupChanged(a){a&&clearSelectedAttributesList();var a=newXMLHTTPReq(),b=getReadyStateHandler(a,groupChangedResponse,!1);a.onreadystatechange=b;null!=document.getElementById("groupName")&&(b=document.getElementById("groupName").value,a.open("POST",DeAjaxHandler,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(encodeURI("&ajaxOperation=changeGroup&grpName="+b)))}
function groupChangedResponse(a){if(null!=a){var b=document.getElementById("formName");if(null!=b&&(b.options.length=0,a=getDocumentElementForXML(a).getElementsByTagName("forms"),null!=a)){var c=null,d=null;for(i=0;i<a.length;i++){for(var g=a[i],c=d="",h=0;h<g.childNodes.length;h++)"form-id"==g.childNodes[h].nodeName&&(d=g.childNodes[h].firstChild.nodeValue),"form-name"==g.childNodes[h].nodeName&&(c=g.childNodes[h].firstChild.nodeValue);null!=c&&null!=d&&(g=document.createElement("OPTION"),b.options.add(g,
b.options.length+1),window.ActiveXObject?g.text=c:g.textContent=c,g.value=d)}}formChanged()}}function formChanged(a){a&&clearSelectedAttributesList();var a=newXMLHTTPReq(),b=getReadyStateHandler(a,formChangedResponse,!1);a.onreadystatechange=b;null!=document.getElementById("formName")&&(b=document.getElementById("formName").value,a.open("POST",DeAjaxHandler,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(encodeURI("&ajaxOperation=changeForm&frmName="+b)))}
function formChangedResponse(a){if(null!=a){var b=document.getElementById("formAttributeList");if(null!=b&&(b.options.length=0,a=getDocumentElementForXML(a).getElementsByTagName("formAttributes"),null!=a)){var c=null,d=null;for(i=0;i<a.length;i++){for(var g=a[i],c=d="",h=0;h<g.childNodes.length;h++)"form-attribute-id"==g.childNodes[h].nodeName&&(d=g.childNodes[h].firstChild.nodeValue),"form-attribute-name"==g.childNodes[h].nodeName&&(c=g.childNodes[h].firstChild.nodeValue);null!=c&&null!=d&&(g=document.createElement("OPTION"),
b.options.add(g,b.options.length+1),window.ActiveXObject?g.text=c:g.textContent=c,g.value=d)}}}}function clearSelectedAttributesList(){var a=document.getElementById("selectedAttributeIds");if(null!=a)for(i=a.options.length-1;0<=i;i--)a.options[i]=null}function selectFormAttribute(){var a=document.getElementById("formAttributeList"),b=document.getElementById("selectedAttributeIds");transferElementsFromList(a,b)}
function unSelectFormAttribute(){var a=document.getElementById("selectedAttributeIds");if(null!=a)for(i=a.options.length-1;0<=i;i--){var b=a.options[i];null!=b&&b.selected&&(a.options[i]=null)}}function transferElementsFromList(a,b){if(null!=a&&null!=b)for(i=0;i<a.options.length;i++){var c=a.options[i];if(c.selected&&!isDuplicateOption(c.value,b)){var d=new Option(c.value);b.options[b.length]=d;b.options[b.length-1].value=c.value;b.options[b.length-1].innerHTML=c.innerHTML}}}
function isDuplicateOption(a,b){if(null!=b&&null!=a)for(var c=0;c<b.length;c++)if(b.options[c].value==a)return!0;return!1}function selectAllListAttributes(a){if(null!=a)for(var b=0;b<a.length;b++)a.options[b].selected=!0}function createFormAsChanged(){var a=document.getElementById("rowForExistingFormDetails");if(null!=a){var b=document.getElementById("createAsExisting");a.style.display=null!=b&&!0==b.checked?"":"none"}}
function addRow(a){var b=document.getElementById(""+a+"_substitutionDiv").childNodes[0];tableId=a+"_table";var c=document.getElementById(tableId),d=b.rows[0],g=c.rows.length,b=c.insertRow(-1);b.className=0==g%2?"td_color_f0f2f6":"formField_withoutBorder";d=d.cells;for(c=0;c<d.length;c++)g=b.insertCell(c),g.className=d[c].className,g.style.whiteSpace="nowrap",g.innerHTML=d[c].innerHTML,setDefaultValues(tableId,g,a);a=""+(a+"_rowCount");currentRowCounter1=document.getElementById(a).value;document.getElementById(a).value=
parseInt(currentRowCounter1)+1;if(!document.getElementById("rightpanel")){a=document.getElementsByTagName("script");b=/^print/;d=/Ext.form.ComboBox/;for(c=0;c<a.length;c++)""!=a[c].text&&(-1==a[c].text.search(b)&&-1==a[c].text.search(d))&&eval(a[c].text)}document.getElementById("isDirty").value=!0}
function removeCheckedRow(a){var b=document.getElementById(a+"_table"),c=b.rows,d="";if(0<c.length){var g=0,h;h=""+(a+"_rowCount");for(var l=0;l<c.length;l++)for(var n=b.rows[l].getElementsByTagName("input"),q=n.length,r=0;r<q;r++)if(null!=n[r]&&"deleteRow"==n[r].name&&n[r].checked){d=d+l+",";b.deleteRow(l);g+=1;c=b.rows;l=0;break}b=document.getElementById(a+"_table");c=b.rows;rowLength=c.length;for(l=0;l<c.length;l++){var s=c[l],n=s.cells;for(cellIndex=0;cellIndex<n.length;cellIndex++){q=n[cellIndex];
r=q.childNodes;for(childNodeIndex=0;childNodeIndex<r.length;childNodeIndex++){var p=r[childNodeIndex],s=p.name;null!=s&&"deleteRow"==s&&(p.id="checkBox_"+a+"_"+l);if(-1!=q.innerHTML.indexOf("comboControl")){var v=getRowToBeCopied(a).cells[cellIndex].childNodes;for(i=0;i<v.length;i++)if("auto_complete_dropdown"==v[i].id){var t=v[i].childNodes[0].childNodes[0].id;void 0==t&&(t="combo"+v[i].childNodes[1].childNodes[0].childNodes[0].id);void 0!=Ext.getCmp(t)&&eval(Ext.getCmp(t).destroy());var t=replaceAll(t,
"combo",""),A=t+"_"+l,w=replaceAll(v[i-1].innerHTML,t,A),C="",z=getComboControlName(q);null!=z&&(C=document.getElementById(z).value);q.innerHTML=replaceAll(v[1].childNodes[1].innerHTML,t,A);eval(w);""!=C&&(v=Ext.getCmp("combo"+A),v.emptyText=C,v.setRawValue(C),document.getElementById("combo"+A).value=C,v.on("blur",function(a){""==a.getValue()&&a.setValue(a.emptyText)}));break}else if(null!=v[i].id&&-1!=v[i].id.indexOf("_div")&&v[i].hasChildNodes&&null!=v[i].childNodes[0]&&"auto_complete_dropdown"==
v[i].childNodes[0].id){t=v[i].childNodes[0].childNodes[0].childNodes[0].id;void 0==t&&(t="combo"+v[i].childNodes[0].childNodes[1].childNodes[0].childNodes[0].id);void 0!=Ext.getCmp(t)&&eval(Ext.getCmp(t).destroy());t=replaceAll(t,"combo","");A=t+"_"+l;w=replaceAll(document.getElementById(v[i].childNodes[2].value).innerHTML,t,A);C="";z=getComboControlName(q);null!=z&&(C=document.getElementById(z).value);q.innerHTML=replaceAll(v[i].childNodes[0].childNodes[1].innerHTML,t,A);eval(w);""!=C&&(v=Ext.getCmp("combo"+
A),v.emptyText=C,v.setRawValue(C),document.getElementById("combo"+A).value=C,v.on("blur",function(a){""==a.getValue()&&a.setValue(a.emptyText)}));break}}if(null!=s&&-1!=s.indexOf("_")||null!=p.id&&p.hasChildNodes&&null!=p.childNodes[0]&&-1!=p.id.indexOf("_div")&&null!=p.childNodes[0].name&&-1!=p.childNodes[0].name.indexOf("_"))if(null!=p.id&&-1!=p.id.indexOf("_div")&&(p.hasChildNodes&&null!=p.childNodes[0])&&(s=p.childNodes[0],s=p.childNodes[0].name),null!=s&&-1!=s.indexOf("_")){str=getNewName(s,
l);r=null==document.getElementById(s)?p.value:document.getElementById(s).value;q.innerHTML=replaceAll(q.innerHTML,s,str);null!=document.getElementById(str)&&(document.getElementById(str).value=r);break}}}}c=document.getElementById(h).value;document.getElementById(h).value=parseInt(c)-g;document.getElementById(a+"_table").value=b;document.getElementById("isDirty").value=!0}b=newXMLHTTPReq();g=getReadyStateHandler(b,ignoreResponseHandler,!1);b.onreadystatechange=g;b.open("POST",DeAjaxHandler,!0);b.setRequestHeader("Content-Type",
"application/x-www-form-urlencoded");b.send(encodeURI("&ajaxOperation=deleteRowsForContainment&containerId="+a+"&deletedRowIds="+d))}function ignoreResponseHandler(){}function getRowToBeCopied(a){var b=document.getElementById(""+a+"_substitutionDiv").childNodes[0];tableId=a+"_table";document.getElementById(tableId);return b.rows[0]}
function getComboControlName(a){for(var b=null,c=0;c<a.childNodes.length;){child=a.childNodes[c];if(void 0!=child.id&&-1!=child.id.indexOf("comboControl_")){b=child.id;break}else if(void 0!=child.childNodes&&0<child.childNodes.length&&(b=getComboControlName(child),null!=b))break;c++}return b}function getNewName(a,b){var c=a.split("_");c[c.length-1]=b;var d="";for(arrIndex=0;arrIndex<c.length;arrIndex++)d+=c[arrIndex],arrIndex!=c.length-1&&(d+="_");-1!=a.indexOf(")")&&(d+=")");return d}
function setDefaultValues(a,b,c){var d=b.childNodes,a=document.getElementById(a).rows.length,a=parseInt(a)-1,g=0;for(j=0;j<d.length;j++){var h=d[j];childObjectName=h.name;null==childObjectName&&(null!=h.id&&"auto_complete_dropdown"!=h.id&&-1==h.id.indexOf("slcalcodControl"))&&(childObjectName=h.id);if(null!=childObjectName&&-1!=childObjectName.indexOf("_")){initializeDefaultValue(childObjectName,h,b,g,a,!0);break}if("auto_complete_dropdown"==h.id)for(var l=h.childNodes,g=0;g<l.length;g++)if("comboHtml"==
l[g].id){var n=l[g].childNodes[0].childNodes[0].name,q=n+"_"+a;document.getElementById("rightpanel")&&(q=c+"_"+n+"_"+a);var r=replaceAll(l[g-1].innerHTML,n,q);b.innerHTML=replaceAll(l[g].innerHTML,n,q);eval(r);break}"deleteRow"==childObjectName&&(h.id="checkBox_"+c+"_"+a)}return b}
function initializeDefaultValue(a,b,c,d,g,h){-1!=a.indexOf(")")?(a=a.substring(0,a.indexOf(")")),d++,1==d&&(str=a+"_"+g),str+=")"):!0==h&&(-1!=a.indexOf("_div")||-1!=a.indexOf("_button"))?b.hasChildNodes&&(b=b.childNodes[0],a=b.name,null==a&&(null!=b.id&&"auto_complete_dropdown"!=b.id&&-1==b.id.indexOf("slcalcodControl"))&&(a=b.id),null!=a&&-1!=a.indexOf("_")&&initializeDefaultValue(a,b,c,d,g,!1),checkForAutoComplete(b,c,g)):(d++,1==d&&(str=a+"_"+g));!0==h&&(null!=a&&""!=a)&&(c.innerHTML=replaceAll(c.innerHTML,
a,str))}
function checkForAutoComplete(a,b,c){if("auto_complete_dropdown"==a.id){var d=a.childNodes,a=d[2].childNodes[0].childNodes[0].name,c=a+"_"+c,g=replaceAll(d[1].innerHTML,a,c),h=document.createElement("DIV");h.id=a+"_Outer_div";h.name=a+"_Outer_div";var l=document.createElement("DIV");l.id=a+"_div";l.name=a+"_div";l.appendChild(d[2].childNodes[0]);h.appendChild(l);d=document.createElement("INPUT");d.type="hidden";d.id="skipLogicControl";d.name="skipLogicControl";d.value=l.name;l.appendChild(d);d=document.createElement("INPUT");
d.type="hidden";d.id="skipLogicControlScript";d.name="skipLogicControlScript";d.value="comboScript_"+a;l.appendChild(d);b.innerHTML=replaceAll(h.innerHTML,a,c);eval(g)}}function replaceAll(a,b,c){for(var d="",g;-1!=a.indexOf(b);)a=a.replace(b,c),g=a.indexOf(c)+c.length,d+=a.substring(0,g),a=a.substring(g,a.length);return d+a}
function treeNodeSelected(a){var b=newXMLHTTPReq(),c=getReadyStateHandler(b,treeNodeSelectedResponse,!1);b.onreadystatechange=c;b.open("POST",DeAjaxHandler,!0);b.setRequestHeader("Content-Type","application/x-www-form-urlencoded");b.send(encodeURI("&ajaxOperation=selectFormNameFromTree&selectedFormName="+a))}
function definedEntitySelected(a){if(-1==a.indexOf("Group_")){null!=document.getElementById("selectedObjectId")&&(document.getElementById("selectedObjectId").value=a);var b=newXMLHTTPReq(),c=getReadyStateHandler(b,treeNodeSelectedResponse,!1);b.onreadystatechange=c;b.open("POST",DeAjaxHandler,!0);b.setRequestHeader("Content-Type","application/x-www-form-urlencoded");b.send(encodeURI("&ajaxOperation=selectFormNameFromAssociationTree&selectedFormId="+a))}else null!=document.getElementById("selectedObjectId")&&
(document.getElementById("selectedObjectId").value=""),null!=document.getElementById("formName")&&(document.getElementById("formName").value=""),null!=document.getElementById("conceptCode")&&(document.getElementById("conceptCode").value=""),null!=document.getElementById("formDescription")&&(document.getElementById("formDescription").value="")}
function treeNodeSelectedResponse(a){if(null!=a){var b=document.getElementById("formName"),c=document.getElementById("conceptCode"),d=document.getElementById("formDescription"),g=document.getElementById("operationMode"),h=document.getElementById("operation"),l=document.getElementById("isAbstract"),n=document.getElementById("parentForm"),q=getDocumentElementForXML(a),a=q.getElementsByTagName("form-name"),r=q.getElementsByTagName("form-description"),s=q.getElementsByTagName("form-conceptcode"),p=q.getElementsByTagName("operationMode"),
v=q.getElementsByTagName("isAbstract"),q=q.getElementsByTagName("parentEntity");null!=b&&null!=a&&null!=a[0]&&(b.value=getElementText(a[0]));null!=c&&null!=s&&null!=s[0]&&(c.value=getElementText(s[0]));null!=d&&null!=r&&null!=r[0]&&(d.value=getElementText(r[0]));null!=g&&null!=p&&null!=p[0]&&(g.value=getElementText(p[0]));null!=h&&null!=p&&null!=p[0]&&(h.value=getElementText(p[0]));null!=l&&null!=v&&null!=v[0]&&(l.checked="true"==getElementText(v[0])?!0:!1);null!=n&&null!=q&&(n.value=getElementText(q[0]))}}
function getElementText(a){var b="";return b=window.ActiveXObject?a.text:null!=a.firstChild?a.firstChild.nodeValue:""}function insertDataForContainer(a){alert("page to insert date for contianerId"+a)}
function groupSelected(a){if(null!=a&&(a=a.value,null!=a&&void 0!=a)){var b=newXMLHTTPReq(),c=getReadyStateHandler(b,groupSelectedResponse,!1);b.onreadystatechange=c;b.open("POST",DeAjaxHandler,!0);b.setRequestHeader("Content-Type","application/x-www-form-urlencoded");b.send(encodeURI("&ajaxOperation=selectGroup&selectedGroupName="+a))}}
function evaluateFormulaForAttribute(a){if(null!=a){var b=newXMLHTTPReq();b.onreadystatechange=function(){4==b.readyState&&200==b.status&&setCalculatedValue(a,b.responseText)};b.open("POST","ApplyDataEntryFormAction",!0);b.setRequestHeader("Content-Type","application/x-www-form-urlencoded");b.send(encodeURI("&dataEntryOperation=evaluateFormula&selectedControlId="+a))}}function setCalculatedValue(a,b){alert("setCalculatedValue");document.getElementById(a).value=b}
function groupSelectedResponse(a){if(null!=a){var b=document.getElementById("groupDescription"),a=getDocumentElementForXML(a).getElementsByTagName("group-description");b.value=null!=b&&null!=a?getElementText(a[0]):""}}
function showChildContainerInsertDataPage(a,b){getValues();document.getElementById("childContainerId").value=a;document.getElementById("dataEntryOperation").value="insertChildData";document.getElementById("childRowId").value=b.parentNode.parentNode.rowIndex;var c=document.getElementById("dataEntryForm"),d=document.getElementById("showFormPreview").value,g=document.getElementById("mode").value;if("true"==d)c.action=contextParam+"/ApplyFormPreviewAction.do";else if("view"==g||"edit"==g)c.action=contextParam+
"/ApplyDataEntryFormAction?scrollTop="+document.getElementById("dataEntryFormDiv").scrollTop,document.getElementById("scrollTop").value=document.getElementById("dataEntryFormDiv").scrollTop;setWaitCursorforAllObjectHierarchy(c);c.submit()}function showEditRecordPage(a){var b=document.getElementById("editRecordsForm");b.action=a;b.submit()}
function showParentContainerInsertDataPage(a){getValues();document.getElementById("isDraft").value=a;a=document.getElementById("dataEntryForm");setWaitCursorforAllObjectHierarchy(a)}function setFormLocking(a){getValues();document.getElementById("isFormLocked").value=a;a=document.getElementById("dataEntryForm");setWaitCursorforAllObjectHierarchy(a)}
function getValues(){var a=document.forms[0];for(f=0;f<document.forms[0].elements.length;++f){var b=a.elements[f];!0==b.readOnly&&(b.disabled=!0);if(b.id.startsWith("protocolCoordId_Control_")){b=document.getElementById(b.id);for(i=b.options.length-1;0<=i;i--)b.options[i].selected=!0}}}var isValid=!0;
function calculateAttributes(){document.getElementById("dataEntryOperation").value="calculateAttributes";var a="",a=null!=$("#sm-form")?$("#sm-form").serialize():$("dataEntryForm").serialize();jQuery.ajax({type:"POST",url:UpdateServerStateGenerateHtml,dataType:"html",data:a,success:function(a){var c=document.getElementById("skipLogicIframe");if(null!=c&&(c=getIframeDocument(c),null!=c)){c.body.innerHTML=a;a=c.getElementsByName("calculatedControl");if(null!=a)for(var d=a.length,g=0;g<d;g++){var h=
a[g];if(null!=h){var l=h.value,h=document.getElementById(l),l=c.getElementById(l);null!=l&&null!=h&&(h.innerHTML=l.innerHTML)}}null!=c.getElementById("error_div")&&isValid&&(c=c.getElementById("error_div").innerHTML,printErrors(c))}}})}
function calculateDefaultAttributesValueLocal(){var a=document.getElementById("skipLogicIframe");if(null!=a&&(a=getIframeDocument(a),null!=a)){var b=a.getElementsByName("calculatedControl");if(null!=b)for(var c=b.length,d=0;d<c;d++){var g=b[d];if(null!=g){var h=g.value,g=document.getElementById(h),h=a.getElementById(h);null!=h&&null!=g&&(g.innerHTML=h.innerHTML)}}}}
function calculateDefaultAttributesValue(){document.getElementById("dataEntryOperation").value="calculateAttributes";var a=$("dataEntryForm").serialize();jQuery.ajax({type:"POST",url:UpdateServerStateGenerateHtml,dataType:"html",data:a,success:function(a){var c=document.getElementById("skipLogicIframe");if(null!=c&&(c=getIframeDocument(c),null!=c&&(c.body.innerHTML=a,a=c.getElementsByName("calculatedControl"),null!=a)))for(var d=a.length,g=0;g<d;g++){var h=a[g];if(null!=h){var l=h.value,h=document.getElementById(l),
l=c.getElementById(l);null!=l&&null!=h&&(h.innerHTML=l.innerHTML)}}}})}
function setInsertDataOperation(a){getValues();var b=document.getElementById("skipLogicIframe");if(null!=b&&(b=getIframeDocument(b),null!=b)){var c=b.getElementsByName("skipLogicHideControls");if(null!=c)for(var d=c.length,g=0;g<d;g++)if(b=c[g],null!=b&&(b=document.getElementById(b.value),null!=b&&"none"==b.style.display&&-1!=b.id.indexOf("_row_div")))if(b=b.id.split("_row_div")[0],null!=document.getElementById(b)&&"undefined"!=document.getElementById(b))document.getElementById(b).value="",b="combo"+
b,null!=document.getElementById(b)&&"undefined"!=document.getElementById(b)&&(document.getElementById(b).value="");else{var h=document.getElementsByName(b);if(null!=h&&"undefined"!=h&&0<h.length)for(b=0;b<h.length;b++){var l=h[b];"undefined"!=l.checked&&(l.checked=!1)}}}document.getElementById("isDraft").value=a;if("true"==a||"Save"==parent.document.getElementById("nSubmitButton").value){document.getElementById("dataEntryOperation").value="";var n=document.getElementById("dataEntryForm");setWaitCursorforAllObjectHierarchy(n);
return!0}if("Save As Final"==parent.document.getElementById("nSubmitButton").value){var q=$("dataEntryForm").serialize();jQuery("input:checkbox",n).each(function(){this.checked||-1==q.indexOf(this.name)&&(q+="&"+this.name+"=")});var r="";jQuery("input:radio",n).each(function(){if(r!=this.name){r=this.name;var a=this.name+"=";-1==q.indexOf(a)&&(q+="&"+a)}});a="";n=document.getElementsByTagName("select");for(b=0;b<n.length;b++)a!=n[b].name&&(a=n[b].name,c=n[b].name+"=",-1==q.indexOf(c)&&(q+="&"+c));
a=q.split("&");c=!0;for(b=0;b<a.length;b++){var n=a[b].split("=")[0],d=a[b].split("=")[1],s="combo"+n;n.startsWith("Control_")&&-1==q.indexOf(s)&&(""==d||""==d||" "==d||" "==d||"undefined"==d||"dd-MM-yyyy"==d||"dd/MM/yyyy"==d||"dd-MM-yyyy HH:mm"==d||"dd/MM/yyyy HH:mm"==d||"MM-dd-yyyy"==d||"MM/dd/yyyy"==d||"MM-dd-yyyy HH:mm"==d||"MM/dd/yyyy HH:mm"==d||"MM-yyyy"==d||"MM/yyyy"==d||"yyyy"==d)?isVisible(document.getElementById(n))&&(c=!1):n.startsWith("Control_")&&-1==q.indexOf(s)?(d=document.getElementById(n),
null!=d?d.parentNode.style.border="":(d=document.getElementsByName(n),d[0].parentNode.style.border="")):n.startsWith("comboControl_")&&(d=document.getElementById(n),null!=d&&(d.parentNode.parentNode.style.border=""))}if(!1==c){for(b=0;b<a.length;b++)if(n=a[b].split("=")[0],d=a[b].split("=")[1],c="combo"+n,n.startsWith("Control_")&&-1==q.indexOf(c)&&(""==d||""==d||" "==d||" "==d||"undefined"==d||"dd-MM-yyyy"==d||"dd/MM/yyyy"==d||"dd-MM-yyyy HH:mm"==d||"dd/MM/yyyy HH:mm"==d||"MM-dd-yyyy"==d||"MM/dd/yyyy"==
d||"MM-dd-yyyy HH:mm"==d||"MM/dd/yyyy HH:mm"==d||"MM-yyyy"==d||"MM/yyyy"==d||"yyyy"==d)&&-1==q.indexOf(s))c=document.getElementById(n),null==c?(c=document.getElementsByName(n),c[0].parentNode.style.border="1px solid red"):isVisible(c)&&(c.parentNode.style.border="1px solid red",c=!1);else if(n.startsWith("comboControl_")&&("--Select--"==d||""==d))c=document.getElementById(n),c.parentNode.parentNode.style.border="1px solid red",c=!1;return confirm("There are incomplete fields on this form. Are you sure you want to save a final draft?")?
(document.getElementById("dataEntryOperation").value="",n=document.getElementById("dataEntryForm"),setWaitCursorforAllObjectHierarchy(n),!0):!1}document.getElementById("dataEntryOperation").value="";n=document.getElementById("dataEntryForm");setWaitCursorforAllObjectHierarchy(n);return!0}}function isVisible(a){try{for(;a&&!(a.nodeName&&"body"==a.nodeName.toLowerCase());){if("none"==a.style.display||"hidden"==a.style.visibility)return!1;a=a.parentNode}return!0}catch(b){return!1}}
function changeValueForCheckBox(a){null!=a&&(a.value=!0==a.checked?!0:!1)}function changeValueForMultiSelectCheckBox(a){null!=a&&(a.value=!0==a.checked?a.id:!1)}function changeValueForAllCheckBoxes(a){a=document.getElementsByName(a.name);if(null!=a&&"undefined"!=a){for(var b=0,c=0;c<a.length;c++){var d=a[c];null!=d&&!0==d.checked&&(b+=1)}b==a.length-1?selectAllCheckBoxes(!1,a):selectAllCheckBoxes(!0,a)}}
function selectAllCheckBoxes(a,b){for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(!0==a?(d.value=d.id,d.checked="yes"):(d.value=!1,d.checked=null))}}function cancelInsertData(){var a=document.getElementById("dataEntryForm");setWaitCursorforAllObjectHierarchy(a);a.action=contextParam+"/CancelFormData";a.submit()}
function deleteRecordEntry(){if(confirm("Do you really want to delete all data?")){document.getElementById("operation").value="disableRecord";var a=contextParam+"/DeleteRecordEntryAction?",b=document.getElementById("dataEntryForm");b.action=a;b.submit();return!0}return!1}function setDeleteDataOperation(){document.getElementById("mode").value="delete";var a=document.getElementById("dataEntryForm");setWaitCursorforAllObjectHierarchy(a);a.submit()}function dropFn(){updateControlsSequence()}
function moveControlsUp(){var a=mygrid.getCheckedRows(0);if(null!=a){a=a.split(",");for(i=0;i<a.length;i++)mygrid.moveRowUp(a[i])}updateControlsSequence()}function moveControlsDown(){var a=mygrid.getCheckedRows(0);if(null!=a){a=a.split(",");for(i=a.length-1;0<=i;i--)mygrid.moveRowDown(a[i])}updateControlsSequence()}
function listEltMoveUp(a){for(i=0;i<a.options.length;i++)if(!0==a.options[i].selected&&0!=i){var b,c;b=new Option(getElementText(a.options[i-1]),a.options[i-1].value);c=new Option(getElementText(a.options[i]),a.options[i].value);a.options[i-1]=c;a.options[i-1].selected=!0;a.options[i]=b}}
function listEltMoveDown(a){for(i=a.options.length-1;0<=i;i--)if(!0==a.options[i].selected&&i!=a.options.length-1){var b;b=new Option(getElementText(a.options[i+1]),a.options[i+1].value);a.options[i+1]=void 0;a.options[i+1].selected=!0;a.options[i]=b}}function setDateTimeControl(a,b){shouldUseTime=a;showDateTimeControl(a,"","attributeDefaultValue",b);showDateTimeControl(a,"Min","min",b);showDateTimeControl(a,"Max","max",b)}
function showDateTimeControl(a,b,c,d){"false"==a?"MonthAndYear"==d?document.getElementById("slcalcod"+c).innerHTML=document.getElementById("MonthAndYear"+b+"Div").innerHTML:"YearOnly"==d?document.getElementById("slcalcod"+c).innerHTML=document.getElementById("YearOnly"+b+"Div").innerHTML:document.getElementById("slcalcod"+c).innerHTML=document.getElementById("DateOnly"+b+"Div").innerHTML:document.getElementById("slcalcod"+c).innerHTML=document.getElementById("dateTime"+b+"Div").innerHTML}
function loadOptionGrid(){var a=document.getElementById("csvStr").value;optionGrid.loadCSVString(a)}function addOptionRow(){var a=optionGrid.getRowsNum(),b="",b=0==a?"-1":optionGrid.getRowId(a-1),a=parseInt(b)+1+"";optionGrid.addRow(a,",,,");optionGrid.setSizes()}function deleteSelectedOptions(){var a=optionGrid.getCheckedRows(0).split(",");for(i=0;i<a.length;i++)optionGrid.deleteRow(a[i])}
function appendRecordId(a){var b=a.href;document.getElementById("recordIdentifier");-1!=b.search(/dynamicExtensions/)&&(b=b.replace(/dynamicExtensions/,contextParam));a.href=b}function deleteRecord(a,b,c){var d=document.getElementById("recordListForm");d.action=contextParam+"/DeleteRecordAction.do?containerIdentifier="+a+"&recordIdentifier="+b+"&mode="+c;d.submit()}function LTrim(a){return a.replace(/\s*((\S+\s*)*)/,"$1")}function RTrim(a){return a.replace(/((\s*\S+)*)\s*/,"$1")}
function trim(a){return LTrim(RTrim(a))}function textCounter(a,b){for(var c=a.value.length,d=0,g=0;g<c;)"\n"==a.value.charAt(g)&&d++,g++;c-d>b&&alert("Input value can be "+b+" characters maximum in length.")}function resetTimeoutCounter(){null!=window.parent&&null!=window.parent.lastRefreshTime&&(window.parent.lastRefreshTime=(new Date).getTime())}var timeInterval=100,interval,objID="";function showStatus(a){window.status=a}
function showToolTip(a){objID=a;interval=self.setInterval("setTip()",timeInterval)}function showGivenTip(a,b){objID=a;setGivenTip(b)}function hideTip(a){a=document.getElementById(a);"Microsoft Internet Explorer"==navigator.appName?showStatus(" "):a.title="";interval=window.clearInterval(interval)}
function setTip(){var a=document.getElementById(objID);if(null!=a)if("text"==a.type){var b="",b=a.value;a.title=""+b}else b=-1==a.selectedIndex?"":a.options[a.selectedIndex].text,"Microsoft Internet Explorer"==navigator.appName?showStatus(b):a.title=b}function setGivenTip(a){var b=document.getElementById(objID);b.title=""+a;"Microsoft Internet Explorer"==navigator.appName?showStatus(""+a):b.title=""+a}
function clearDate(a,b){a=document.getElementById(a);if("MM-DD-YYYY"==b&&"MM-DD-YYYY"==a.value||"MM-DD-YYYY HH:MM"==b&&"MM-DD-YYYY HH:MM"==a.value||"MM-YYYY"==b&&"MM-YYYY"==a.value||"YYYY"==b&&"YYYY"==a.value)a.value="",a.style.color="black"}function getIframeDocument(a){var b=null;a.contentDocument?b=a.contentDocument:a.contentWindow?b=a.contentWindow.document:a.document&&(b=a.document);return b}
function getSkipLogicControl(a,b,c){for(f=0;f<document.forms[0].elements.length;++f){var d=document.forms[0].elements[f];if(d.id.startsWith("protocolCoordId_Control_")){d=document.getElementById(d.id);for(i=d.options.length-1;0<=i;i--)d.options[i].selected=!0}}null!=document.getElementById("isDirty")&&(document.getElementById("isDirty").value=!0);document.getElementById("dataEntryOperation").value="skipLogicAttributes";var d="",d=null!=$("#sm-form")?$("#sm-form").serialize():$("dataEntryForm").serialize(),
g=document.getElementById(a),h="";null!=g&&null!=g.value&&(h=g.value);jQuery.ajax({type:"POST",url:UpdateServerStateGenerateHtml,dataType:"html",data:d+"&containerId="+c+"&controlId="+b+"&controlValue="+h+"&controlName="+a,success:function(a){var b=document.getElementById("skipLogicIframe");if(null!=b&&(b=getIframeDocument(b),null!=b)){b.body.innerHTML=a;var c=b.getElementsByName("skipLogicControl");if(null!=c){for(var a=c.length,d=0;d<a;d++){var g=c[d];if(null!=g){var h=g.value,g=document.getElementById(h),
h=b.getElementById(h);if(null!=h&&null!=g){g.innerHTML=h.innerHTML;g=h.getElementsByTagName("script");for(h=0;h<g.length;h++)eval(g[h].innerHTML)}}}executeComboScriptsForSkipLogic()}c=b.getElementsByName("skipLogicHideControls");if(null!=c){a=c.length;for(d=0;d<a;d++)if(g=c[d],null!=g&&(h=g.value,g=document.getElementById(h),h=b.getElementById(h),null!=g&&null!=h)){g.style.display=h.style.display;try{var v=g.nextSibling;v.cellIndex&&""==v.innerHTML.toString().trim()&&(v=v.nextSibling,v.style.display=
g.style.display)}catch(t){}}}void 0!=$("#controlsCount")&&(v=b.getElementById("controlsCount").value,b=b.getElementById("emptyControlsCount").value,$("#controlsCount").val(v),$("#emptyControlsCount").val(b),edu.wustl.de.surveyForm.updateProgress())}}})}function executeComboScriptsForSkipLogic(){var a=document.getElementsByName("skipLogicControlScript");if(null!=a)for(var b=a.length,c=0;c<b;c++)if(null!=a[c].value){var d=document.getElementById(a[c].value);null!=d&&eval(d.innerHTML)}}
function insertBreadCrumbForSubForm(a,b){if("clinportal"==b){var c=newXMLHTTPReq(),d=getReadyStateHandler(c,insertBreadCrumbForSubFormResponse,!1);c.onreadystatechange=d;c.open("POST",DeAjaxHandler,!0);c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.send(encodeURI("&ajaxOperation=breadCrumbOperation&breadCrumbOperation=prepareBreadCrumbLink&containerId="+a))}}
function insertBreadCrumbForSubFormResponse(a){window.parent.document.getElementById("breadCrumbDiv").innerHTML=a;window.parent.document.getElementById("breadCrumbDiv").style.height="5%";window.parent.document.getElementById("breadCrumbDiv").style.fontSize="12px"}function isDataChanged(){null!=document.getElementById("isDirty")&&(document.getElementById("isDirty").value=!0)}var errorElements=[];
function updateServerState(a,b,c){null!=document.getElementById("isDirty")&&(document.getElementById("isDirty").value=!0);var d="",g=newXMLHTTPReq(),h=document.getElementById(a);if(null==h){var l=document.getElementsByName(a);if(1<l.length)for(var n=0;n<l.length;n++){var q=l.item(n);if(q.checked&&"checkbox"==q.type)h=q,d=d+"~"+q.value;else if(q.checked){h=q;break}}else h=l[0]}if("select-one"!=h.type){var r=h.value,s=h.parentNode,p=s.innerHTML.split("&nbsp;&nbsp;")[0];if("select-multiple"==h.type){l=
r;for(n=0;n<h.options.length;n++)h.options[n].selected&&h.options[n].value!=r&&(l=l+"~"+h.options[n].value);r=l.substring(0,l.length)}"checkbox"==h.type&&""!=d&&(r=d.substring(1,d.length));g.open("POST",DeAjaxHandler,!0);g.setRequestHeader("Content-Type","application/x-www-form-urlencoded");g.onreadystatechange=function(){if(4==g.readyState&&200==g.status){var b=g.responseText;if(""!=b&&0<b.length){b.replace(",","<br/>");b=b.replace(",","");s.innerHTML=p;var c=document.getElementById(a);c.value=r;
null!=$("#"+a)?($("#"+a).removeClass("font_bl_nor"),$("#"+a).addClass("font_bl_nor_error")):($(a).removeClassName("font_bl_nor"),$(a).addClassName("font_bl_nor_error"));c.title=b;isValid=!1;c.focus();document.getElementById("error_div").innerHTML='<table width="100%" height="30" cellspacing="4" cellpadding="4" border="0" class="td_color_FFFFCC"><tbody><tr><th align="left" class="font_bl_nor"><img src="./images/de/ic_error.gif" alt="Error" align="absmiddle" height="25" hspace="3" width="28">There are some errors on the form. Please correct your data to enable form saving. Mouse over red highlighted fields to see corrections needed.</th></tr></tbody></table>';
document.getElementById("error_div").style.display="block";-1==errorElements.indexOf(a)&&(errorElements[errorElements.length]=a);document.getElementById("nSubmitButton").disabled="disabled"}else{isValid=!0;c=document.getElementById(a);null==c&&(c=document.getElementsByName(a)[0]);if("radio"==c.type)c.value=r;else if("select-multiple"==c.type||"checkbox"==c.type&&1<r.split("~").length)for(var b=r.split("~"),d=0;d<b.length;d++)for(var h=0;h<c.options.length;h++){if(b[d]==c.options[h].value){c.options[h].selected=
!0;break}}else c.value=r;null!=$("#"+a)?($("#"+a).removeClass("font_bl_nor_error"),$("#"+a).addClass("font_bl_nor")):($(a).removeClassName("font_bl_nor_error"),$(a).addClassName("font_bl_nor"));c.title="";-1!=errorElements.indexOf(a)&&errorElements.splice(errorElements.indexOf(a),1)}}};g.send(encodeURI("&ajaxOperation=updateServerState&containerId="+c+"&controlId="+b+"&controlValue="+r+"&controlName="+a))}}
var chkTable,noOfRecordsCopied,cardinality,batch=10,slice,start,end,startTime=new Date,endTime,rowIndex=0,rowCount=0,conatinerId,numCombosInPastedData;function intVariables(){chkTable="";noOfRecordsCopied=0;cardinality="";batch=1E3;slice=start=end=0;startTime=new Date;endTime="";numCombosInPastedData=conatinerId=rowCount=rowIndex=0}
function pasteDataPart(a,b,c){var d=newXMLHTTPReq(),g=getReadyStateHandler(d,paster,!1);d.onreadystatechange=g;d.open("POST",DeAjaxHandler,!0);d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send(encodeURI("&ajaxOperation=pasteData&containerId="+conatinerId+"&cardinality="+cardinality+"&index="+b+"&clipboradData="+a+"&categoryEntityName="+c))}
function pasteData(a,b,c){intVariables();if(null!=window.clipboardData&&"undefined"!=window.clipboardData)chkTable=window.clipboardData.getData("Text");else if(window.Components){try{this.netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(d){alert("Clipboard access not permitted, sorry. You will have to set signed.applet.codebase_principal_support to true.\nVisit 'about:config' the address bar.\nSearch for 'signed.applets.codebase_principal_support' and set its value to true")}var g=
Components.classes["@mozilla.org/widget/clipboard;1"].getService(Components.interfaces.nsIClipboard);if(!g)return!1;netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");var h=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!h)return!1;h.addDataFlavor("text/unicode");g.getData(h,g.kGlobalClipboard);var g={},l={};h.getTransferData("text/unicode",g,l);g&&(g=g.value.QueryInterface(Components.interfaces.nsISupportsString));
g&&(pastetext=g.data.substring(0,l.value/2));chkTable=g.data}else alert("Your browser doesn't support clipboard access");null!=chkTable&&(noOfRecordsCopied=chkTable.split("\n").length-1,cardinality=b,conatinerId=a,start=rowIndex*batch,end=noOfRecordsCopied,slice=chkTable.split("\n").slice(start,end),"many"==cardinality?rowCount=document.getElementById(conatinerId+"_table").rows.length-1:slice=chkTable.split("\n").slice(start,start+1),pasteDataPart(slice,rowCount+start+1,c))}
function paster(a){var b=a.split("~ErrorList"),a=b[0],c=a.match(/skipLogicControlScript/g);null!=c&&"undefined"!=c&&(numCombosInPastedData=c.length/2);b=b[1].split("~RowsCopied");c=b[0];noOfRecordsCopied=b[1];printErrors(c);c=document.getElementById(conatinerId+"_table").innerHTML;b=document.getElementById(conatinerId+"_table");if(!window.Components&&document.all){c.replace(/<SCRIPT defer>/ig,"<SCRIPT>");var c=document.getElementById("wrapper_div_"+conatinerId),d;d=""+conatinerId+"_substitutionDiv";
document.getElementById(d);var g=b.rows.length;c.innerHTML="<table id='"+conatinerId+"_tbl'>"+a+"</table>";a=document.getElementById("wrapper_div_"+conatinerId).childNodes[0];for(j=0;j<a.rows.length;j++){d=b.insertRow(-1);d.className=0==g%2?"td_color_f0f2f6":"formField_withoutBorder";g=a.rows[j].cells;for(i=0;i<g.length;i++){var h=d.insertCell(i);h.className=g[i].className;h.innerHTML=g[i].innerHTML}g=b.rows.length}c.innerHTML=""}else 0<parseInt(noOfRecordsCopied)&&(c=document.createElement("tbody"),
b.appendChild(c),c.innerHTML=a);a=1*document.getElementById(conatinerId+"_rowCount").value;document.getElementById(conatinerId+"_rowCount").value=parseInt(a)+parseInt(noOfRecordsCopied);executeCombos()}
function printErrors(a){for(var b='<table width="100%" height="30"  border="0" cellpadding="4" cellspacing="4" class="td_color_FFFFCC">',a=a.split(","),c=0;c<a.length;c++)0<a[c].length&&(b+='<tr><th align="center" class="font_bl_nor"><img src="images/de/ic_error.gif" alt="Error" width="28" height="25" hspace="3" align="absmiddle">'+a[c]+"<br />");b+="</table>";document.getElementById("error_div")&&(document.getElementById("error_div").innerHTML=b,document.getElementById("error_div").style.display=
"")}function executeComboScripts(){for(var a=document.getElementsByName("auto_complete_dropdown"),b=rowCount+1;b<a.length;b++)eval(a[b].childNodes[1].innerHTML)}
function executeCombos(){var a=document.getElementsByName("skipLogicControlScript");if(null!=a){var b=document.getElementById(conatinerId+"_table").rows.length-1-rowCount,c=numCombosInPastedData/b,d=a.length;if(0!=d){b*=c;for(c=0;c<b;c++){if(null!=a[d-1].value){var g=document.getElementById(a[d-1].value);null!=g&&eval(g.innerHTML)}d-=1}}}}
function removeElement(a){var a=document.getElementById(a),b=a.parentElement;if(null==a.parentElement||"undefined"==a.parentElement)b=a.parentNode;b.removeChild(a)}function updateOffsets(){start=rowIndex*batch;end=start+batch;end>noOfRecordsCopied&&(end=noOfRecordsCopied);rowIndex++}function updateFileControl(a){a=ctrlID=null==a.id?a:a.id;document.getElementById(ctrlID+"_button").innerHTML="<input type='file' id='"+a+"' name='"+a+"' onchange='isDataChanged();' />";setJQueryParameters(a)}
function getTpl(){return'<tpl for="."><div title="{excerpt}" class="x-combo-list-item">{excerpt}</div></tpl>'}
function setJQueryParameters(a){new AjaxUpload(a,{action:"UploadFile",name:"upload1",responseType:"json",onSubmit:function(){document.getElementById("btnDESubmit");var b=document.getElementById(a+"_button"),c=b.innerHTML;b.innerHTML=c+"&nbsp;&nbsp;<img src='./images/de/waiting.gif'/>"},onComplete:function(b,c){var d="1",g="",h="",l=document.getElementById(a+"_button");null!=c.uploadedFile?(d=c.uploadedFile[0].uploadedFileId,g=c.uploadedFile[0].contentType,h="<input type='text' disabled name='"+a+
"'_1 id='"+a+"_1' value='"+b+"'/>&nbsp;&nbsp;",h=h+"<img src='./images/uIEnhancementImages/error-green.gif' />&nbsp;&nbsp;<img src='./images/de/deleteIcon.jpg' style='cursor:pointer' onClick='updateFileControl(\""+a+"\");' />",h=h+"<input type='hidden' name='"+a+"' id='"+a+"' value='"+d+"'/>",h=h+"<input type='hidden' name='"+a+"_hidden' id='"+a+"_hidden' value='"+b+"'/>",h=h+"<input type='hidden' name='"+a+"_contentType' id='"+a+"_contentType' value='"+g+"'/>",l.innerHTML=h):(h="<input type='file' name='"+
a+"' id='"+a+"'/>&nbsp;&nbsp;",h+="<span class='font_red'>Error occured .Please try again.</span>",l.innerHTML=h,updateFileControl(a))}})}function setFocusOnLoad(a){if(0==a){if(0!=document.forms.length)for(a=0;a<document.forms.length;a++)if(0!=document.forms[a].elements.length){for(var b=0;b<document.forms[a].elements.length;b++)if("hidden"!=document.forms[a].elements[b].type){document.forms[a].elements[b].focus();break}break}}else document.getElementById("dataEntryFormDiv").scrollTop=a}
function selectRadioButton(a,b){var c=document.getElementsByName(a),c=document.getElementsByName(a);if(0<c.length)for(var d=0;d<c.length;d++)c[d].value==b&&(c[d].checked=!0)}function onFormLoad(a,b){return eval(a+"('"+b+"')")}
function printForm(){for(var a="",b=formDataGrid.getCheckedRows(formDataGrid.getColIndexById(formGridDataInfo.checkboxSelect)).split(","),c=formDataGrid.getColIndexById(formGridDataInfo.deUrl),d=0;d<b.length;d++)try{a=a+formDataGrid.cells(b[d],c).getValue()+":"}catch(g){alert("Please select at least one record for printing.")}document.getElementById(formGridDataInfo.formUrl).value=a;""!=a&&(document.formGrid.action="pages/de/grid/printPreview.jsp",document.formGrid.submit())}
function showCalendar(a,b,c,d){var g=document.getElementById(a).value;cal=new dhtmlxCalendarObject(a,!0,{isMonthEditable:!0,isYearEditable:!0});cal.setDateFormat(b);cal.setSkin("dhx_skyblue");0<g.length&&cal.setDate(g);cal.attachEvent("onClick",function(){updateServerState(a,c,d)})};var INARRAY=1,CAPARRAY=2,STICKY=3,BACKGROUND=4,NOCLOSE=5,CAPTION=6,LEFT=7,RIGHT=8,CENTER=9,OFFSETX=10,OFFSETY=11,FGCOLOR=12,BGCOLOR=13,TEXTCOLOR=14,CAPCOLOR=15,CLOSECOLOR=16,WIDTH=17,BORDER=18,STATUS=19,AUTOSTATUS=20,AUTOSTATUSCAP=21,HEIGHT=22,CLOSETEXT=23,SNAPX=24,SNAPY=25,FIXX=26,FIXY=27,FGBACKGROUND=28,BGBACKGROUND=29,PADX=30,PADY=31,FULLHTML=34,ABOVE=35,BELOW=36,CAPICON=37,TEXTFONT=38,CAPTIONFONT=39,CLOSEFONT=40,TEXTSIZE=41,CAPTIONSIZE=42,CLOSESIZE=43,FRAME=44,TIMEOUT=45,FUNCTION=46,DELAY=47,
HAUTO=48,VAUTO=49,CLOSECLICK=50,CSSOFF=51,CSSSTYLE=52,CSSCLASS=53,FGCLASS=54,BGCLASS=55,TEXTFONTCLASS=56,CAPTIONFONTCLASS=57,CLOSEFONTCLASS=58,PADUNIT=59,HEIGHTUNIT=60,WIDTHUNIT=61,TEXTSIZEUNIT=62,TEXTDECORATION=63,TEXTSTYLE=64,TEXTWEIGHT=65,CAPTIONSIZEUNIT=66,CAPTIONDECORATION=67,CAPTIONSTYLE=68,CAPTIONWEIGHT=69,CLOSESIZEUNIT=70,CLOSEDECORATION=71,CLOSESTYLE=72,CLOSEWEIGHT=73;if("undefined"==typeof ol_fgcolor)var ol_fgcolor="#CCCCFF";if("undefined"==typeof ol_bgcolor)var ol_bgcolor="#333399";
if("undefined"==typeof ol_textcolor)var ol_textcolor="#000000";if("undefined"==typeof ol_capcolor)var ol_capcolor="#FFFFFF";if("undefined"==typeof ol_closecolor)var ol_closecolor="#9999FF";if("undefined"==typeof ol_textfont)var ol_textfont="Verdana,Arial,Helvetica";if("undefined"==typeof ol_captionfont)var ol_captionfont="Verdana,Arial,Helvetica";if("undefined"==typeof ol_closefont)var ol_closefont="Verdana,Arial,Helvetica";if("undefined"==typeof ol_textsize)var ol_textsize="1";
if("undefined"==typeof ol_captionsize)var ol_captionsize="1";if("undefined"==typeof ol_closesize)var ol_closesize="1";if("undefined"==typeof ol_width)var ol_width="200";if("undefined"==typeof ol_border)var ol_border="1";if("undefined"==typeof ol_offsetx)var ol_offsetx=10;if("undefined"==typeof ol_offsety)var ol_offsety=10;if("undefined"==typeof ol_text)var ol_text="Default Text";if("undefined"==typeof ol_cap)var ol_cap="";if("undefined"==typeof ol_sticky)var ol_sticky=0;
if("undefined"==typeof ol_background)var ol_background="";if("undefined"==typeof ol_close)var ol_close="Close";if("undefined"==typeof ol_hpos)var ol_hpos=8;if("undefined"==typeof ol_status)var ol_status="";if("undefined"==typeof ol_autostatus)var ol_autostatus=0;if("undefined"==typeof ol_height)var ol_height=-1;if("undefined"==typeof ol_snapx)var ol_snapx=0;if("undefined"==typeof ol_snapy)var ol_snapy=0;if("undefined"==typeof ol_fixx)var ol_fixx=-1;if("undefined"==typeof ol_fixy)var ol_fixy=-1;
if("undefined"==typeof ol_fgbackground)var ol_fgbackground="";if("undefined"==typeof ol_bgbackground)var ol_bgbackground="";if("undefined"==typeof ol_padxl)var ol_padxl=1;if("undefined"==typeof ol_padxr)var ol_padxr=1;if("undefined"==typeof ol_padyt)var ol_padyt=1;if("undefined"==typeof ol_padyb)var ol_padyb=1;if("undefined"==typeof ol_fullhtml)var ol_fullhtml=0;if("undefined"==typeof ol_vpos)var ol_vpos=36;if("undefined"==typeof ol_aboveheight)var ol_aboveheight=0;
if("undefined"==typeof ol_caption)var ol_capicon="";if("undefined"==typeof ol_frame)var ol_frame=self;if("undefined"==typeof ol_timeout)var ol_timeout=0;if("undefined"==typeof ol_function)var ol_function=Function();if("undefined"==typeof ol_delay)var ol_delay=0;if("undefined"==typeof ol_hauto)var ol_hauto=0;if("undefined"==typeof ol_vauto)var ol_vauto=0;if("undefined"==typeof ol_closeclick)var ol_closeclick=0;if("undefined"==typeof ol_css)var ol_css=51;
if("undefined"==typeof ol_fgclass)var ol_fgclass="";if("undefined"==typeof ol_bgclass)var ol_bgclass="";if("undefined"==typeof ol_textfontclass)var ol_textfontclass="";if("undefined"==typeof ol_captionfontclass)var ol_captionfontclass="";if("undefined"==typeof ol_closefontclass)var ol_closefontclass="";if("undefined"==typeof ol_padunit)var ol_padunit="px";if("undefined"==typeof ol_heightunit)var ol_heightunit="px";if("undefined"==typeof ol_widthunit)var ol_widthunit="px";
if("undefined"==typeof ol_textsizeunit)var ol_textsizeunit="px";if("undefined"==typeof ol_textdecoration)var ol_textdecoration="none";if("undefined"==typeof ol_textstyle)var ol_textstyle="normal";if("undefined"==typeof ol_textweight)var ol_textweight="normal";if("undefined"==typeof ol_captionsizeunit)var ol_captionsizeunit="px";if("undefined"==typeof ol_captiondecoration)var ol_captiondecoration="none";if("undefined"==typeof ol_captionstyle)var ol_captionstyle="normal";
if("undefined"==typeof ol_captionweight)var ol_captionweight="bold";if("undefined"==typeof ol_closesizeunit)var ol_closesizeunit="px";if("undefined"==typeof ol_closedecoration)var ol_closedecoration="none";if("undefined"==typeof ol_closestyle)var ol_closestyle="normal";if("undefined"==typeof ol_closeweight)var ol_closeweight="normal";if("undefined"==typeof ol_texts)var ol_texts=["Text 0","Text 1"];if("undefined"==typeof ol_caps)var ol_caps=["Caption 0","Caption 1"];
var otext="",ocap="",osticky=0,obackground="",oclose="Close",ohpos=8,ooffsetx=2,ooffsety=2,ofgcolor="",obgcolor="",otextcolor="",ocapcolor="",oclosecolor="",owidth=100,oborder=1,ostatus="",oautostatus=0,oheight=-1,osnapx=0,osnapy=0,ofixx=-1,ofixy=-1,ofgbackground="",obgbackground="",opadxl=0,opadxr=0,opadyt=0,opadyb=0,ofullhtml=0,ovpos=36,oaboveheight=0,ocapicon="",otextfont="Verdana,Arial,Helvetica",ocaptionfont="Verdana,Arial,Helvetica",oclosefont="Verdana,Arial,Helvetica",otextsize="1",ocaptionsize=
"1",oclosesize="1",oframe=self,otimeout=0,otimerid=0,oallowmove=0,ofunction=Function(),odelay=0,odelayid=0,ohauto=0,ovauto=0,ocloseclick=0,ocss=51,ofgclass="",obgclass="",otextfontclass="",ocaptionfontclass="",oclosefontclass="",opadunit="px",oheightunit="px",owidthunit="px",otextsizeunit="px",otextdecoration="",otextstyle="",otextweight="",ocaptionsizeunit="px",ocaptiondecoration="",ocaptionstyle="",ocaptionweight="",oclosesizeunit="px",oclosedecoration="",oclosestyle="",ocloseweight="",ox=0,oy=
0,oallow=0,oshowingsticky=0,oremovecounter=0,over=null,ns4=document.layers?!0:!1,ns6=document.getElementById?!0:!1,ie4=document.all?!0:!1,ie5=!1;if(ie4){if(0<navigator.userAgent.indexOf("MSIE 5")||0<navigator.userAgent.indexOf("MSIE 6"))ie5=!0;ns6&&(ns6=!1)}ns4||ie4||ns6?(document.onmousemove=mouseMove,ns4&&document.captureEvents(Event.MOUSEMOVE)):(nd=overlib=no_overlib,ver3fix=!0);function no_overlib(){return ver3fix}
function overlib(){otext=ol_text;ocap=ol_cap;osticky=ol_sticky;obackground=ol_background;oclose=ol_close;ohpos=ol_hpos;ooffsetx=ol_offsetx;ooffsety=ol_offsety;ofgcolor=ol_fgcolor;obgcolor=ol_bgcolor;otextcolor=ol_textcolor;ocapcolor=ol_capcolor;oclosecolor=ol_closecolor;owidth=ol_width;oborder=ol_border;ostatus=ol_status;oautostatus=ol_autostatus;oheight=ol_height;osnapx=ol_snapx;osnapy=ol_snapy;ofixx=ol_fixx;ofixy=ol_fixy;ofgbackground=ol_fgbackground;obgbackground=ol_bgbackground;opadxl=ol_padxl;
opadxr=ol_padxr;opadyt=ol_padyt;opadyb=ol_padyb;ofullhtml=ol_fullhtml;ovpos=ol_vpos;oaboveheight=ol_aboveheight;ocapicon=ol_capicon;otextfont=ol_textfont;ocaptionfont=ol_captionfont;oclosefont=ol_closefont;otextsize=ol_textsize;ocaptionsize=ol_captionsize;oclosesize=ol_closesize;otimeout=ol_timeout;ofunction=ol_function;odelay=ol_delay;ohauto=ol_hauto;ovauto=ol_vauto;ocloseclick=ol_closeclick;ocss=ol_css;ofgclass=ol_fgclass;obgclass=ol_bgclass;otextfontclass=ol_textfontclass;ocaptionfontclass=ol_captionfontclass;
oclosefontclass=ol_closefontclass;opadunit=ol_padunit;oheightunit=ol_heightunit;owidthunit=ol_widthunit;otextsizeunit=ol_textsizeunit;otextdecoration=ol_textdecoration;otextstyle=ol_textstyle;otextweight=ol_textweight;ocaptionsizeunit=ol_captionsizeunit;ocaptiondecoration=ol_captiondecoration;ocaptionstyle=ol_captionstyle;ocaptionweight=ol_captionweight;oclosesizeunit=ol_closesizeunit;oclosedecoration=ol_closedecoration;oclosestyle=ol_closestyle;ocloseweight=ol_closeweight;if(ns4||ie4||ns6)oframe=
ol_frame,ns4&&(over=oframe.document.overDiv),ie4&&(over=oframe.overDiv.style),ns6&&(over=oframe.document.getElementById("overDiv"));var a=-1,b=arguments;for(i=0;i<b.length;i++)0>a?(otext=1==b[i]?ol_texts[b[++i]]:b[i],a=0):1==b[i]?otext=ol_texts[b[++i]]:2==b[i]?ocap=ol_caps[b[++i]]:3==b[i]?osticky=1:4==b[i]?obackground=b[++i]:b[i]==NOCLOSE?oclose="":6==b[i]?ocap=b[++i]:9==b[i]||7==b[i]||8==b[i]?ohpos=b[i]:10==b[i]?ooffsetx=b[++i]:11==b[i]?ooffsety=b[++i]:12==b[i]?ofgcolor=b[++i]:13==b[i]?obgcolor=
b[++i]:14==b[i]?otextcolor=b[++i]:15==b[i]?ocapcolor=b[++i]:16==b[i]?oclosecolor=b[++i]:17==b[i]?owidth=b[++i]:18==b[i]?oborder=b[++i]:19==b[i]?ostatus=b[++i]:20==b[i]?oautostatus=1:21==b[i]?oautostatus=2:22==b[i]?(oheight=b[++i],oaboveheight=b[i]):23==b[i]?oclose=b[++i]:24==b[i]?osnapx=b[++i]:25==b[i]?osnapy=b[++i]:26==b[i]?ofixx=b[++i]:27==b[i]?ofixy=b[++i]:28==b[i]?ofgbackground=b[++i]:29==b[i]?obgbackground=b[++i]:30==b[i]?(opadxl=b[++i],opadxr=b[++i]):31==b[i]?(opadyt=b[++i],opadyb=b[++i]):34==
b[i]?ofullhtml=1:36==b[i]||35==b[i]?ovpos=b[i]:37==b[i]?ocapicon=b[++i]:38==b[i]?otextfont=b[++i]:39==b[i]?ocaptionfont=b[++i]:40==b[i]?oclosefont=b[++i]:41==b[i]?otextsize=b[++i]:42==b[i]?ocaptionsize=b[++i]:43==b[i]?oclosesize=b[++i]:44==b[i]?opt_FRAME(b[++i]):45==b[i]?otimeout=b[++i]:46==b[i]?opt_FUNCTION(b[++i]):47==b[i]?odelay=b[++i]:48==b[i]?ohauto=0==ohauto?1:0:49==b[i]?ovauto=0==ovauto?1:0:50==b[i]?ocloseclick=0==ocloseclick?1:0:51==b[i]?ocss=b[i]:52==b[i]?ocss=b[i]:53==b[i]?ocss=b[i]:54==
b[i]?ofgclass=b[++i]:55==b[i]?obgclass=b[++i]:56==b[i]?otextfontclass=b[++i]:57==b[i]?ocaptionfontclass=b[++i]:58==b[i]?oclosefontclass=b[++i]:59==b[i]?opadunit=b[++i]:60==b[i]?oheightunit=b[++i]:61==b[i]?owidthunit=b[++i]:62==b[i]?otextsizeunit=b[++i]:63==b[i]?otextdecoration=b[++i]:64==b[i]?otextstyle=b[++i]:65==b[i]?otextweight=b[++i]:66==b[i]?ocaptionsizeunit=b[++i]:67==b[i]?ocaptiondecoration=b[++i]:68==b[i]?ocaptionstyle=b[++i]:69==b[i]?ocaptionweight=b[++i]:70==b[i]?oclosesizeunit=b[++i]:71==
b[i]?oclosedecoration=b[++i]:72==b[i]?oclosestyle=b[++i]:73==b[i]&&(ocloseweight=b[++i]);if(0==odelay)return overlib350();odelayid=setTimeout("overlib350()",odelay);return osticky?!1:!0}function nd(){1<=oremovecounter&&(oshowingsticky=0);if(ns4||ie4||ns6)0==oshowingsticky?(oallowmove=0,null!=over&&hideObject(over)):oremovecounter++;return!0}
function overlib350(){var a;""!=obackground||ofullhtml?a=ol_content_background(otext,obackground,ofullhtml):(""!=ofgbackground&&ocss==CSSOFF&&(ofgbackground='BACKGROUND="'+ofgbackground+'"'),""!=obgbackground&&ocss==CSSOFF&&(obgbackground='BACKGROUND="'+obgbackground+'"'),""!=ofgcolor&&ocss==CSSOFF&&(ofgcolor='BGCOLOR="'+ofgcolor+'"'),""!=obgcolor&&ocss==CSSOFF&&(obgcolor='BGCOLOR="'+obgcolor+'"'),oheight=0<oheight&&51==ocss?"HEIGHT="+oheight:"",a=""==ocap?ol_content_simple(otext):osticky?ol_content_caption(otext,
ocap,oclose):ol_content_caption(otext,ocap,""));osticky&&(oshowingsticky=1,oremovecounter=0);layerWrite(a);0<oautostatus&&(ostatus=otext,1<oautostatus&&(ostatus=ocap));oallowmove=0;0<otimeout&&(0<otimerid&&clearTimeout(otimerid),otimerid=setTimeout("cClick()",otimeout));disp(ostatus);return osticky?(oallowmove=0,!1):!0}
function ol_content_simple(a){ocss==CSSCLASS&&(txt="<TABLE WIDTH="+owidth+" BORDER=0 CELLPADDING="+oborder+' CELLSPACING=0 class="'+obgclass+'"><TR><TD><TABLE WIDTH=100% BORDER=0 CELLPADDING=2 CELLSPACING=0 class="'+ofgclass+'"><TR><TD VALIGN=TOP><FONT class="'+otextfontclass+'">'+a+"</FONT></TD></TR></TABLE></TD></TR></TABLE>");ocss==CSSSTYLE&&(txt="<TABLE WIDTH="+owidth+" BORDER=0 CELLPADDING="+oborder+' CELLSPACING=0 style="background-color: '+obgcolor+";height: "+oheight+oheightunit+';"><TR><TD><TABLE WIDTH=100% BORDER=0 CELLPADDING=2 CELLSPACING=0 style="color: '+
ofgcolor+";background-color: "+ofgcolor+";height: "+oheight+oheightunit+';"><TR><TD VALIGN=TOP><FONT style="font-family: '+otextfont+";color: "+otextcolor+";font-size: "+otextsize+otextsizeunit+";text-decoration: "+otextdecoration+";font-weight: "+otextweight+";font-style:"+otextstyle+'">'+a+"</FONT></TD></TR></TABLE></TD></TR></TABLE>");ocss==CSSOFF&&(txt="<TABLE WIDTH="+owidth+" BORDER=0 CELLPADDING="+oborder+" CELLSPACING=0 "+obgcolor+" "+oheight+"><TR><TD><TABLE WIDTH=100% BORDER=0 CELLPADDING=2 CELLSPACING=0 "+
ofgcolor+" "+ofgbackground+" "+oheight+'><TR><TD VALIGN=TOP><FONT FACE="'+otextfont+'" COLOR="'+otextcolor+'" SIZE="'+otextsize+'">'+a+"</FONT></TD></TR></TABLE></TD></TR></TABLE>");set_background("");return txt}
function ol_content_caption(a,b,c){closing="";closeevent="onMouseOver";1==ocloseclick&&(closeevent="onClick");""!=ocapicon&&(ocapicon='<IMG SRC="'+ocapicon+'"> ');""!=c&&(ocss==CSSCLASS&&(closing='<TD ALIGN=RIGHT><A HREF="/" '+closeevent+'="return cClick();" class="'+oclosefontclass+'">'+c+"</A></TD>"),ocss==CSSSTYLE&&(closing='<TD ALIGN=RIGHT><A HREF="/" '+closeevent+'="return cClick();" style="color: '+oclosecolor+";font-family: "+oclosefont+";font-size: "+oclosesize+oclosesizeunit+";text-decoration: "+
oclosedecoration+";font-weight: "+ocloseweight+";font-style:"+oclosestyle+';">'+c+"</A></TD>"),ocss==CSSOFF&&(closing='<TD ALIGN=RIGHT><A HREF="/" '+closeevent+'="return cClick();"><FONT COLOR="'+oclosecolor+'" FACE="'+oclosefont+'" SIZE="'+oclosesize+'">'+c+"</FONT></A></TD>"));ocss==CSSCLASS&&(txt="<TABLE WIDTH="+owidth+" BORDER=0 CELLPADDING="+oborder+' CELLSPACING=0 class="'+obgclass+'"><TR><TD><TABLE WIDTH=100% BORDER=0 CELLPADDING=0 CELLSPACING=0><TR><TD><FONT class="'+ocaptionfontclass+'">'+
ocapicon+b+"</FONT></TD>"+closing+'</TR></TABLE><TABLE WIDTH=100% BORDER=0 CELLPADDING=2 CELLSPACING=0 class="'+ofgclass+'"><TR><TD VALIGN=TOP><FONT class="'+otextfontclass+'">'+a+"</FONT></TD></TR></TABLE></TD></TR></TABLE>");ocss==CSSSTYLE&&(txt="<TABLE WIDTH="+owidth+" BORDER=0 CELLPADDING="+oborder+' CELLSPACING=0 style="background-color: '+obgcolor+";background-image: url("+obgbackground+");height: "+oheight+oheightunit+';"><TR><TD><TABLE WIDTH=100% BORDER=0 CELLPADDING=0 CELLSPACING=0><TR><TD><FONT style="font-family: '+
ocaptionfont+";color: "+ocapcolor+";font-size: "+ocaptionsize+ocaptionsizeunit+";font-weight: "+ocaptionweight+";font-style: "+ocaptionstyle+';">'+ocapicon+b+"</FONT></TD>"+closing+'</TR></TABLE><TABLE WIDTH=100% BORDER=0 CELLPADDING=2 CELLSPACING=0 style="color: '+ofgcolor+";background-color: "+ofgcolor+";height: "+oheight+oheightunit+';"><TR><TD VALIGN=TOP><FONT style="font-family: '+otextfont+";color: "+otextcolor+";font-size: "+otextsize+otextsizeunit+";text-decoration: "+otextdecoration+";font-weight: "+
otextweight+";font-style:"+otextstyle+'">'+a+"</FONT></TD></TR></TABLE></TD></TR></TABLE>");ocss==CSSOFF&&(txt="<TABLE WIDTH="+owidth+" BORDER=0 CELLPADDING="+oborder+" CELLSPACING=0 "+obgcolor+" "+obgbackground+" "+oheight+'><TR><TD><TABLE WIDTH=100% BORDER=0 CELLPADDING=0 CELLSPACING=0><TR><TD><B><FONT COLOR="'+ocapcolor+'" FACE="'+ocaptionfont+'" SIZE="'+ocaptionsize+'">'+ocapicon+b+"</FONT></B></TD>"+closing+"</TR></TABLE><TABLE WIDTH=100% BORDER=0 CELLPADDING=2 CELLSPACING=0 "+ofgcolor+" "+ofgbackground+
" "+oheight+'><TR><TD VALIGN=TOP><FONT COLOR="'+otextcolor+'" FACE="'+otextfont+'" SIZE="'+otextsize+'">'+a+"</FONT></TD></TR></TABLE></TD></TR></TABLE>");set_background("");return txt}
function ol_content_background(a,b,c){c?txt=a:(ocss==CSSCLASS&&(txt="<TABLE WIDTH="+owidth+owidthunit+" BORDER=0 CELLPADDING=0 CELLSPACING=0 HEIGHT="+oheight+oheightunit+"><TR><TD COLSPAN=3 HEIGHT="+opadyt+opadunit+"></TD></TR><TR><TD WIDTH="+opadxl+opadunit+"></TD><TD VALIGN=TOP WIDTH="+(owidth-opadxl-opadxr)+opadunit+'><FONT class="'+otextfontclass+'">'+a+"</FONT></TD><TD WIDTH="+opadxr+opadunit+"></TD></TR><TR><TD COLSPAN=3 HEIGHT="+opadyb+opadunit+"></TD></TR></TABLE>"),ocss==CSSSTYLE&&(txt="<TABLE WIDTH="+
owidth+owidthunit+" BORDER=0 CELLPADDING=0 CELLSPACING=0 HEIGHT="+oheight+oheightunit+"><TR><TD COLSPAN=3 HEIGHT="+opadyt+opadunit+"></TD></TR><TR><TD WIDTH="+opadxl+opadunit+"></TD><TD VALIGN=TOP WIDTH="+(owidth-opadxl-opadxr)+opadunit+'><FONT style="font-family: '+otextfont+";color: "+otextcolor+";font-size: "+otextsize+otextsizeunit+';">'+a+"</FONT></TD><TD WIDTH="+opadxr+opadunit+"></TD></TR><TR><TD COLSPAN=3 HEIGHT="+opadyb+opadunit+"></TD></TR></TABLE>"),ocss==CSSOFF&&(txt="<TABLE WIDTH="+owidth+
" BORDER=0 CELLPADDING=0 CELLSPACING=0 HEIGHT="+oheight+"><TR><TD COLSPAN=3 HEIGHT="+opadyt+"></TD></TR><TR><TD WIDTH="+opadxl+"></TD><TD VALIGN=TOP WIDTH="+(owidth-opadxl-opadxr)+'><FONT FACE="'+otextfont+'" COLOR="'+otextcolor+'" SIZE="'+otextsize+'">'+a+"</FONT></TD><TD WIDTH="+opadxr+"></TD></TR><TR><TD COLSPAN=3 HEIGHT="+opadyb+"></TD></TR></TABLE>"));set_background(b);return txt}
function set_background(a){""==a?(ie4&&(over.backgroundImage="none"),ns6&&(over.style.backgroundImage="none")):ns4?over.background.src=a:ie4?over.backgroundImage="url("+a+")":ns6&&(over.style.backgroundImage="url("+a+")")}function disp(a){if((ns4||ie4||ns6)&&0==oallowmove)placeLayer(),showObject(over),oallowmove=1;""!=a&&(self.status=a)}
function placeLayer(){var a,b;if(-1<ofixx)a=ofixx;else if(winoffset=ie4?oframe.document.body.scrollLeft:oframe.pageXOffset,ie4&&(iwidth=oframe.document.body.clientWidth),ns4&&(iwidth=oframe.innerWidth),ns6&&(iwidth=oframe.outerWidth),1==ohauto&&(ohpos=ox-winoffset>eval(iwidth)/2?7:8),9==ohpos&&(a=ox+ooffsetx-owidth/2),8==ohpos&&(a=ox+ooffsetx,eval(a)+eval(owidth)>winoffset+iwidth&&(a=iwidth+winoffset-owidth,0>a&&(a=0))),7==ohpos&&(a=ox-ooffsetx-owidth,a<winoffset&&(a=winoffset)),1<osnapx){var c=a%
osnapx;a=7==ohpos?a-(osnapx+c):a+(osnapx-c);a<winoffset&&(a=winoffset)}-1<ofixy?b=ofixy:(scrolloffset=ie4?oframe.document.body.scrollTop:oframe.pageYOffset,1==ovauto&&(ie4&&(iheight=oframe.document.body.clientHeight),ns4&&(iheight=oframe.innerHeight),ns6&&(iheight=oframe.outerHeight),iheight=eval(iheight)/2,ovpos=oy-scrolloffset>iheight?35:36),35==ovpos?(0==oaboveheight&&(b=ie4?oframe.document.all.overDiv:over,oaboveheight=ns4?b.clip.height:b.offsetHeight),b=oy-(oaboveheight+ooffsety),b<scrolloffset&&
(b=scrolloffset)):b=oy+ooffsety,1<osnapy&&(c=b%osnapy,b=0<oaboveheight&&35==ovpos?b-(osnapy+c):b+(osnapy-c),b<scrolloffset&&(b=scrolloffset)));repositionTo(over,a,b)}function mouseMove(a){if(ns4||ns6)ox=a.pageX,oy=a.pageY;ie4&&(ox=event.x,oy=event.y);ie5&&(ox=event.x+oframe.document.body.scrollLeft,oy=event.y+oframe.document.body.scrollTop);1==oallowmove&&placeLayer()}function cClick(){hideObject(over);oshowingsticky=0;return!1}
function compatibleframe(a){if(ns4){if("undefined"==typeof a.document.overDiv)return!1}else if(ie4){if("undefined"==typeof a.document.all.overDiv)return!1}else if(ns6&&null==a.document.getElementById("overDiv"))return!1;return!0}
function layerWrite(a){a+="\n";if(ns4){var b=oframe.document.overDiv.document;b.write(a);b.close()}else if(ie4)oframe.document.all.overDiv.innerHTML=a;else if(ns6){range=oframe.document.createRange();range.setStartBefore(over);for(domfrag=range.createContextualFragment(a);over.hasChildNodes();)over.removeChild(over.lastChild);over.appendChild(domfrag)}}function showObject(a){ns4?a.visibility="show":ie4?a.visibility="visible":ns6&&(a.style.visibility="visible")}
function hideObject(a){ns4?a.visibility="hide":ie4?a.visibility="hidden":ns6&&(a.style.visibility="hidden");0<otimerid&&clearTimeout(otimerid);0<odelayid&&clearTimeout(odelayid);odelayid=otimerid=0;self.status=""}function repositionTo(a,b,c){ns4||ie4?(a.left=b,a.top=c):ns6&&(a.style.left=b+"px",a.style.top=c+"px")}
function opt_FRAME(a){oframe=compatibleframe(a)?a:ol_frame;if(ns4||ie4||ns6)ns4&&(over=oframe.document.overDiv),ie4&&(over=oframe.overDiv.style),ns6&&(over=oframe.document.getElementById("overDiv"));return 0}function opt_FUNCTION(a){otext=a();return 0};var weekend=[0,6],weekendColor="#e0e0e0",fontface="Verdana",fontsize=8,gNow=new Date,ggWinContent,ggPosX=-1,ggPosY=-1;Calendar.Months="January February March April May June July August September October November December".split(" ");Calendar.DOMonth=[31,28,31,30,31,30,31,31,30,31,30,31];Calendar.lDOMonth=[31,29,31,30,31,30,31,31,30,31,30,31];
function Calendar(a,b,c,d){null==b&&null==c||(null==b?(this.gMonth=this.gMonthName=null,this.gYearly=!0):(this.gMonthName=Calendar.get_month(b),this.gMonth=new Number(b),this.gYearly=!1),this.gYear=c,this.gFormat=d,this.gBGColor="white",this.gHeaderColor=this.gTextColor=this.gFGColor="black",this.gReturnItem=a)}Calendar.get_month=Calendar_get_month;Calendar.get_daysofmonth=Calendar_get_daysofmonth;Calendar.calc_month_year=Calendar_calc_month_year;
function Calendar_get_month(a){return Calendar.Months[a]}function Calendar_get_daysofmonth(a,b){return 0==b%4?0==b%100&&0!=b%400?Calendar.DOMonth[a]:Calendar.lDOMonth[a]:Calendar.DOMonth[a]}function Calendar_calc_month_year(a,b,c){var d=[];-1==c?0==a?(d[0]=11,d[1]=parseInt(b)-1):(d[0]=parseInt(a)-1,d[1]=parseInt(b)):1==c&&(11==a?(d[0]=0,d[1]=parseInt(b)+1):(d[0]=parseInt(a)+1,d[1]=parseInt(b)));return d}
function Calendar_calc_month_year(a,b,c){var d=[];-1==c?0==a?(d[0]=11,d[1]=parseInt(b)-1):(d[0]=parseInt(a)-1,d[1]=parseInt(b)):1==c&&(11==a?(d[0]=0,d[1]=parseInt(b)+1):(d[0]=parseInt(a)+1,d[1]=parseInt(b)));return d}new Calendar;Calendar.prototype.getMonthlyCalendarCode=function(){var a,b="",c="";a=""+('<div align=center><TABLE BORDER=1 BGCOLOR="'+this.gBGColor+"\" style='font-size:"+fontsize+"pt;'>");b=this.cal_header();c=this.cal_data();return a=a+(b+c)+"</TABLE></div>"};
Calendar.prototype.show=function(){var a="";ggWinContent+="<FONT FACE='"+fontface+"' ><B>";ggWinContent+=this.gMonthName+" "+this.gYear;ggWinContent+="</B><BR>";var b=Calendar.calc_month_year(this.gMonth,this.gYear,-1),a=b[0],b=b[1],c=Calendar.calc_month_year(this.gMonth,this.gYear,1),d=c[0],c=c[1];ggWinContent+="<TABLE WIDTH='100%' BORDER=1 CELLSPACING=0 CELLPADDING=0 BGCOLOR='#e0e0e0' style='font-size:"+fontsize+"pt;'><TR><TD ALIGN=center>";ggWinContent+='[<A HREF="javascript:void(0);" onMouseOver="window.status=\'Go back one year\'; return true;" onMouseOut="window.status=\'\'; return true;" onClick="Build(\''+
this.gReturnItem+"', '"+this.gMonth+"', '"+(parseInt(this.gYear)-1)+"', '"+this.gFormat+"');\">Year<</A>]</TD><TD ALIGN=center>";ggWinContent+='[<A HREF="javascript:void(0);" onMouseOver="window.status=\'Go back one month\'; return true;" onMouseOut="window.status=\'\'; return true;" onClick="Build(\''+this.gReturnItem+"', '"+a+"', '"+b+"', '"+this.gFormat+"');\">Mon<</A>]</TD><TD ALIGN=center>";ggWinContent+="       </TD><TD ALIGN=center>";ggWinContent+='[<A HREF="javascript:void(0);" onMouseOver="window.status=\'Go forward one month\'; return true;" onMouseOut="window.status=\'\'; return true;" onClick="Build(\''+
this.gReturnItem+"', '"+d+"', '"+c+"', '"+this.gFormat+"');\">Mon></A>]</TD><TD ALIGN=center>";ggWinContent+='[<A HREF="javascript:void(0);" onMouseOver="window.status=\'Go forward one year\'; return true;" onMouseOut="window.status=\'\'; return true;" onClick="Build(\''+this.gReturnItem+"', '"+this.gMonth+"', '"+(parseInt(this.gYear)+1)+"', '"+this.gFormat+"');\">Year></A>]</TD></TR></TABLE><BR>";a=this.getMonthlyCalendarCode();ggWinContent+=a};
Calendar.prototype.showY=function(){var a="",b;ggWinContent+="<FONT FACE='"+fontface+"' ><B>";ggWinContent+="Year : "+this.gYear;ggWinContent+="</B><BR>";a=parseInt(this.gYear)-1;b=parseInt(this.gYear)+1;ggWinContent+="<TABLE WIDTH='100%' BORDER=1 CELLSPACING=0 CELLPADDING=0 BGCOLOR='#e0e0e0' style='font-size:"+fontsize+"pt;'><TR><TD ALIGN=center>";ggWinContent+='[<A HREF="javascript:void(0);" onMouseOver="window.status=\'Go back one year\'; return true;" onMouseOut="window.status=\'\'; return true;" onClick="Build(\''+
this.gReturnItem+"', null, '"+a+"', '"+this.gFormat+"');\"><<Year</A>]</TD><TD ALIGN=center>";ggWinContent+="       </TD><TD ALIGN=center>";ggWinContent+='[<A HREF="javascript:void(0);" onMouseOver="window.status=\'Go forward one year\'; return true;" onMouseOut="window.status=\'\'; return true;" onClick="Build(\''+this.gReturnItem+"', null, '"+b+"', '"+this.gFormat+"');\">Year>></A>]</TD></TR></TABLE><BR>";ggWinContent+="<TABLE WIDTH='100%' BORDER=0 CELLSPACING=0 CELLPADDING=5 style='font-size:"+
fontsize+"pt;'><TR>";for(b=0;12>b;b++)if(ggWinContent+="<TD ALIGN='center' VALIGN='top'>",this.gMonth=b,this.gMonthName=Calendar.get_month(this.gMonth),a=this.getMonthlyCalendarCode(),ggWinContent+=this.gMonthName+"/"+this.gYear+"<BR>",ggWinContent+=a,ggWinContent+="</TD>",3==b||7==b)ggWinContent+="</TR><TR>";ggWinContent+="</TR></TABLE></font><BR>"};
Calendar.prototype.cal_header=function(){var a;a="<TR><TD WIDTH='14%'><FONT FACE='"+fontface+"' COLOR='"+this.gHeaderColor+"'><B>Sun</B></FONT></TD>";a=a+"<TD WIDTH='14%'><FONT FACE='"+fontface+"' COLOR='"+this.gHeaderColor+"'><B>Mon</B></FONT></TD>";a=a+"<TD WIDTH='14%'><FONT FACE='"+fontface+"' COLOR='"+this.gHeaderColor+"'><B>Tue</B></FONT></TD>";a=a+"<TD WIDTH='14%'><FONT FACE='"+fontface+"' COLOR='"+this.gHeaderColor+"'><B>Wed</B></FONT></TD>";a=a+"<TD WIDTH='14%'><FONT FACE='"+fontface+"' COLOR='"+
this.gHeaderColor+"'><B>Thu</B></FONT></TD>";a=a+"<TD WIDTH='14%'><FONT FACE='"+fontface+"' COLOR='"+this.gHeaderColor+"'><B>Fri</B></FONT></TD>";a=a+"<TD WIDTH='16%'><FONT FACE='"+fontface+"' COLOR='"+this.gHeaderColor+"'><B>Sat</B></FONT></TD>";return a+="</TR>"};
Calendar.prototype.cal_data=function(){var a=new Date;a.setDate(1);a.setMonth(this.gMonth);a.setFullYear(this.gYear);var a=a.getDay(),b=1,c=Calendar.get_daysofmonth(this.gMonth,this.gYear),d=0,g;g="<TR>";for(i=0;i<a;i++)g=g+"<TD WIDTH='14%'"+this.write_weekend_string(i)+"><FONT FACE='"+fontface+"'> </FONT></TD>";for(j=a;7>j;j++)g=g+"<TD WIDTH='14%'"+this.write_weekend_string(j)+"><FONT FACE='"+fontface+"'><A HREF='javascript:void(0);' onMouseOver=\"window.status='set date to "+this.format_data(b)+
'\'; return true;" onMouseOut="window.status=\' \'; return true;" onClick="document.'+this.gReturnItem+".value='"+this.format_data(b)+"';ggPosX=-1;ggPosY=-1;nd();nd();\">"+this.format_day(b)+"</A></FONT></TD>",b+=1;g+="</TR>";for(k=2;7>k;k++){g+="<TR>";for(j=0;7>j;j++)if(g=g+"<TD WIDTH='14%'"+this.write_weekend_string(j)+"><FONT FACE='"+fontface+"'><A HREF='javascript:void(0);' onMouseOver=\"window.status='set date to "+this.format_data(b)+'\'; return true;" onMouseOut="window.status=\' \'; return true;" onClick="document.'+
this.gReturnItem+".value='"+this.format_data(b)+"';window.scroll(0,ggPosY);ggPosX=-1;ggPosY=-1;nd();nd();\">"+this.format_day(b)+"</A></FONT></TD>",b+=1,b>c){d=1;break}6==j&&(g+="</TR>");if(1==d)break}for(m=1;m<7-j;m++)g=this.gYearly?g+"<TD WIDTH='14%'"+this.write_weekend_string(j+m)+"><FONT FACE='"+fontface+"' COLOR='gray'> </FONT></TD>":g+"<TD WIDTH='14%'"+this.write_weekend_string(j+m)+"><FONT FACE='"+fontface+"' COLOR='gray'>"+m+"</FONT></TD>";return g};
Calendar.prototype.format_day=function(a){var b=gNow.getDate(),c=gNow.getMonth(),d=gNow.getFullYear();return a==b&&this.gMonth==c&&this.gYear==d?'<FONT COLOR="RED"><B>'+a+"</B></FONT>":a};Calendar.prototype.write_weekend_string=function(a){var b;for(b=0;b<weekend.length;b++)if(a==weekend[b])return' BGCOLOR="'+weekendColor+'"';return""};
Calendar.prototype.format_data=function(a){var b;b=1+this.gMonth;b=2>b.toString().length?"0"+b:b;var c=Calendar.get_month(this.gMonth).substr(0,3).toUpperCase(),d=Calendar.get_month(this.gMonth).toUpperCase(),g=new String(this.gYear),h=new String(this.gYear.substr(2,2)),a=2>a.toString().length?"0"+a:a;switch(this.gFormat){case "MM/DD/YYYY":b=b+"/"+a+"/"+g;break;case "MM/DD/YY":b=b+"/"+a+"/"+h;break;case "MM-DD-YYYY":b=b+"-"+a+"-"+g;break;case "YYYY-MM-DD":b=g+"-"+b+"-"+a;break;case "MM-DD-YY":b=b+
"-"+a+"-"+h;break;case "DD/MON/YYYY":b=a+"/"+c+"/"+g;break;case "DD/MON/YY":b=a+"/"+c+"/"+h;break;case "DD-MON-YYYY":b=a+"-"+c+"-"+g;break;case "DD-MON-YY":b=a+"-"+c+"-"+h;break;case "DD/MONTH/YYYY":b=a+"/"+d+"/"+g;break;case "DD/MONTH/YY":b=a+"/"+d+"/"+h;break;case "DD-MONTH-YYYY":b=a+"-"+d+"-"+g;break;case "DD-MONTH-YY":b=a+"-"+d+"-"+h;break;case "DD/MM/YYYY":b=a+"/"+b+"/"+g;break;case "DD/MM/YY":b=a+"/"+b+"/"+h;break;case "DD-MM-YYYY":b=a+"-"+b+"-"+g;break;case "DD-MM-YY":b=a+"-"+b+"-"+h;break;
default:b=b+"/"+a+"/"+g}return b};
function Build(a,b,c,d){gCal=new Calendar(a,b,c,d);gCal.gBGColor="white";gCal.gLinkColor="black";gCal.gTextColor="black";gCal.gHeaderColor="darkgreen";ggWinContent="";gCal.gYearly?(-1==ggPosX&&(ggPosX=10),-1==ggPosY&&(ggPosY=10),8==fontsize&&(fontsize=6),gCal.showY()):gCal.show();-1==ggPosX&&-1==ggPosY?(overlib(ggWinContent,AUTOSTATUSCAP,STICKY,CLOSECLICK,CSSSTYLE,TEXTSIZEUNIT,"pt",TEXTSIZE,8,CAPTIONSIZEUNIT,"pt",CAPTIONSIZE,8,CLOSESIZEUNIT,"pt",CLOSESIZE,8,CAPTION,"Select a date",OFFSETX,20,OFFSETY,
-40),ns4||ie4?(ggPosX=parseInt(over.left),ggPosY=parseInt(over.top)):ns6&&(ggPosX=parseInt(over.style.left),ggPosY=parseInt(over.style.top))):overlib(ggWinContent,AUTOSTATUSCAP,STICKY,CLOSECLICK,CSSSTYLE,TEXTSIZEUNIT,"pt",TEXTSIZE,8,CAPTIONSIZEUNIT,"pt",CAPTIONSIZE,8,CLOSESIZEUNIT,"pt",CLOSESIZE,8,CAPTION,"Select a date",FIXX,ggPosX,FIXY,ggPosY);window.scroll(ggPosX,ggPosY)}
function show_calendar(a,b,c,d){p_item=a;p_month=null==b?new String(gNow.getMonth()):b;p_year=""==c||null==c?new String(gNow.getFullYear().toString()):c;p_format=null==d?"YYYY-MM-DD":d;Build(p_item,p_month,p_year,p_format)}function show_yearly_calendar(a,b,c){p_item=a;p_year=""==b||null==b?new String(gNow.getFullYear().toString()):b;p_format=null==c?"YYYY-MM-DD":c;Build(p_item,null,p_year,p_format)};function newXMLHTTPReq(){var a=!1;try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=!1,a=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){try{a=!1,a=new XMLHttpRequest}catch(d){a=!1}}}return a}function getReadyStateHandler(a,b){return function(){4==a.readyState&&200==a.status&&(null!=a.responseText&&void 0!=a.responseText?b(a.responseText):b(a.responseXml))}}
function moveOptions(a,b,c){addFromList(a,b,c);var a=document.getElementById(a),b=document.getElementById(b),d=[],g=[],h=0,l;for(l=a.length-1;0<=l;l--)a.options[l].selected&&(d[h]=a.options[l].text,g[h]=a.options[l].value,h++,deleteOption(a,l));if("edit"!=c)for(l=h-1;0<=l;l--)addOption(b,d[l],g[l]);b.click();a.click()}
function addFromList(a,b,c){var d=document.getElementById(a).value,g=null;null!=document.getElementById("CB_"+a)&&(g=document.getElementById("CB_"+a).value);for(var b=document.getElementById(b),h=b.length,l=!1,n=0;n<h;n++)if(b.options[n].value==g){l=!0;break}l||("edit"!=c&&null!=d&&("--Select--"==d||"-- Select --"==d)?alert("--Select-- is not a valid value. Please choose another."):null!=d&&""!=d&&null!=g&&""!=g&&"protocolCoordinatorIds"!=a&&addOption(b,d,g))}
function deleteOption(a,b){0<a.length&&(a.options[b]=null)}function addOption(a,b,c){for(var d=new Option(b,c),g=a.length,h="false",l=0;l<g;l++)if(a.options[l].value==c){h="true";break}"false"==h&&(a.options[g]=d,a.options[g].title=b,a.options[g].selected="selected")}function selectCoordinators(a){var b=document.getElementById("protocolCoordinatorIds");if(null!=b)for(i=b.options.length-1;0<=i;i--)b.options[i].selected=!0;checkForDuplicates(a)}
function selectPresentCoordinators(){var a=document.getElementById("protocolCoordinatorIds");if(null!=a)for(i=a.options.length-1;0<=i;i--)a.options[i].selected=!0};timeInterval=100;objID="";function showStatus(a){window.status=a}function showTip(a){objID=a;interval=self.setInterval("setTip()",timeInterval)}function showGivenTip(a,b){objID=a;setGivenTip(b)}function hideTip(a){a=document.getElementById(a);"Microsoft Internet Explorer"==navigator.appName?showStatus(" "):a.title="";interval=window.clearInterval(interval)}
function setTip(){var a=document.getElementById(objID);if(null!=a)if("text"==a.type){var b="",b=a.value;a.title=""+b}else b=-1==a.selectedIndex?"":a.options[a.selectedIndex].text,"Microsoft Internet Explorer"==navigator.appName?showStatus(b):a.title=b}function setGivenTip(a){var b=document.getElementById(objID);b.title=""+a;"Microsoft Internet Explorer"==navigator.appName?showStatus(""+a):b.title=""+a}
function trim(a){if("string"!=typeof a)return a;for(var b=a.substring(0,1);" "==b;)a=a.substring(1,a.length),b=a.substring(0,1);for(b=a.substring(a.length-1,a.length);" "==b;)a=a.substring(0,a.length-1),b=a.substring(a.length-1,a.length);for(;-1!=a.indexOf("  ");)a=a.substring(0,a.indexOf("  "))+a.substring(a.indexOf("  ")+1,a.length);return a}function trimByAutoTag(a){a.value=trim(a.value)}
function trimByAutoTagAndSetIdInForm(a){a.value=trim(a.value);var b=window["idsInListOf"+a.id],c=window["valuesInListOf"+a.id].indexOf(a.value),d=document.getElementById(a.id.substr(7,a.id.length));d.value="type"==d.id?a.value:b[c]};window.undefined=window.undefined;Ext={version:"3.2.1",versionDetail:{major:3,minor:2,patch:1},apply:function(a,b,c){c&&Ext.apply(a,c);if(a&&b&&"object"==typeof b)for(var d in b)a[d]=b[d];return a}};
(function(){var a=0,b=Object.prototype.toString,c=navigator.userAgent.toLowerCase(),d=function(a){return a.test(c)},g=document,h="CSS1Compat"==g.compatMode,l=d(/opera/),n=d(/\bchrome\b/),q=d(/webkit/),r=!n&&d(/safari/),s=r&&d(/applewebkit\/4/),p=r&&d(/version\/3/),v=r&&d(/version\/4/),t=!l&&d(/msie/),A=t&&d(/msie 7/),w=t&&d(/msie 8/),C=t&&!A&&!w,z=!q&&d(/gecko/),D=z&&d(/rv:1\.8/),G=z&&d(/rv:1\.9/),E=t&&!h,F=d(/windows|win32/),B=d(/macintosh|mac os x/),R=d(/adobeair/),d=d(/linux/),O=/^https/i.test(window.location.protocol);
if(C)try{g.execCommand("BackgroundImageCache",!1,!0)}catch(J){}Ext.apply(Ext,{SSL_SECURE_URL:O&&t?'javascript:""':"about:blank",isStrict:h,isSecure:O,isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!1,enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,applyIf:function(a,b){if(a)for(var c in b)Ext.isDefined(a[c])||(a[c]=b[c]);return a},id:function(b,c){b=Ext.getDom(b,!0)||{};b.id||(b.id=(c||"ext-gen")+ ++a);return b.id},extend:function(){var a=function(a){for(var b in a)this[b]=a[b]},
b=Object.prototype.constructor;return function(c,d,g){"object"==typeof d&&(g=d,d=c,c=g.constructor!=b?g.constructor:function(){d.apply(this,arguments)});var h=function(){},l=d.prototype;h.prototype=l;h=c.prototype=new h;h.constructor=c;c.superclass=l;l.constructor==b&&(l.constructor=d);c.override=function(a){Ext.override(c,a)};h.superclass=h.supr=function(){return l};h.override=a;Ext.override(c,g);c.extend=function(a){return Ext.extend(c,a)};return c}}(),override:function(a,b){if(b){var c=a.prototype;
Ext.apply(c,b);Ext.isIE&&b.hasOwnProperty("toString")&&(c.toString=b.toString)}},namespace:function(){var a,b;Ext.each(arguments,function(c){b=c.split(".");a=window[b[0]]=window[b[0]]||{};Ext.each(b.slice(1),function(b){a=a[b]=a[b]||{}})});return a},urlEncode:function(a,b){var c,d=[],g=encodeURIComponent;Ext.iterate(a,function(a,b){c=Ext.isEmpty(b);Ext.each(c?a:b,function(b){d.push("&",g(a),"=",!Ext.isEmpty(b)&&(b!=a||!c)?Ext.isDate(b)?Ext.encode(b).replace(/"/g,""):g(b):"")})});b||(d.shift(),b="");
return b+d.join("")},urlDecode:function(a,b){if(Ext.isEmpty(a))return{};var c={},d=a.split("&"),g=decodeURIComponent,h,l;Ext.each(d,function(a){a=a.split("=");h=g(a[0]);l=g(a[1]);c[h]=b||!c[h]?l:[].concat(c[h]).concat(l)});return c},urlAppend:function(a,b){return!Ext.isEmpty(b)?a+(-1===a.indexOf("?")?"?":"&")+b:a},toArray:t?function(a,b,c,d){for(var d=[],g=0,h=a.length;g<h;g++)d.push(a[g]);return d.slice(b||0,c||d.length)}:function(a,b,c){return Array.prototype.slice.call(a,b||0,c||a.length)},isIterable:function(a){return Ext.isArray(a)||
a.callee||/NodeList|HTMLCollection/.test(b.call(a))?!0:("undefined"!=typeof a.nextNode||a.item)&&Ext.isNumber(a.length)},each:function(a,b,c){if(!Ext.isEmpty(a,!0)){if(!Ext.isIterable(a)||Ext.isPrimitive(a))a=[a];for(var d=0,g=a.length;d<g;d++)if(!1===b.call(c||a[d],a[d],d,a))return d}},iterate:function(a,b,c){if(!Ext.isEmpty(a))if(Ext.isIterable(a))Ext.each(a,b,c);else if("object"==typeof a)for(var d in a)if(a.hasOwnProperty(d)&&!1===b.call(c||a,d,a[d],a))break},getDom:function(a,b){if(!a||!g)return null;
if(a.dom)return a.dom;if("string"==typeof a){var c=g.getElementById(a);return c&&(t&&b)&&a!=c.getAttribute("id")?null:c}return a},getBody:function(){return Ext.get(g.body||g.documentElement)},removeNode:t&&!w?function(){var a;return function(b){b&&"BODY"!=b.tagName&&(Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(b,!0):Ext.EventManager.removeAll(b),a=a||g.createElement("div"),a.appendChild(b),a.innerHTML="",delete Ext.elCache[b.id])}}():function(a){a&&(a.parentNode&&"BODY"!=a.tagName)&&
(Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(a,!0):Ext.EventManager.removeAll(a),a.parentNode.removeChild(a),delete Ext.elCache[a.id])},isEmpty:function(a,b){return null===a||void 0===a||Ext.isArray(a)&&!a.length||(!b?""===a:!1)},isArray:function(a){return"[object Array]"===b.apply(a)},isDate:function(a){return"[object Date]"===b.apply(a)},isObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isPrimitive:function(a){return Ext.isString(a)||Ext.isNumber(a)||
Ext.isBoolean(a)},isFunction:function(a){return"[object Function]"===b.apply(a)},isNumber:function(a){return"number"===typeof a&&isFinite(a)},isString:function(a){return"string"===typeof a},isBoolean:function(a){return"boolean"===typeof a},isElement:function(a){return a?!!a.tagName:!1},isDefined:function(a){return"undefined"!==typeof a},isOpera:l,isWebKit:q,isChrome:n,isSafari:r,isSafari3:p,isSafari4:v,isSafari2:s,isIE:t,isIE6:C,isIE7:A,isIE8:w,isGecko:z,isGecko2:D,isGecko3:G,isBorderBox:E,isLinux:d,
isWindows:F,isMac:B,isAir:R});Ext.ns=Ext.namespace})();Ext.ns("Ext.util","Ext.lib","Ext.data");Ext.elCache={};
Ext.apply(Function.prototype,{createInterceptor:function(a,b){var c=this;return!Ext.isFunction(a)?this:function(){var d=arguments;a.target=this;a.method=c;return!1!==a.apply(b||this||window,d)?c.apply(this||window,d):null}},createCallback:function(){var a=arguments,b=this;return function(){return b.apply(window,a)}},createDelegate:function(a,b,c){var d=this;return function(){var g=b||arguments;if(!0===c)g=Array.prototype.slice.call(arguments,0),g=g.concat(b);else if(Ext.isNumber(c)){var g=Array.prototype.slice.call(arguments,
0),h=[c,0].concat(b);Array.prototype.splice.apply(g,h)}return d.apply(a||window,g)}},defer:function(a,b,c,d){b=this.createDelegate(b,c,d);if(0<a)return setTimeout(b,a);b();return 0}});Ext.applyIf(String,{format:function(a){var b=Ext.toArray(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,d){return b[d]})}});
Ext.applyIf(Array.prototype,{indexOf:function(a,b){for(var c=this.length,b=b||0,b=b+(0>b?c:0);b<c;++b)if(this[b]===a)return b;return-1},remove:function(a){a=this.indexOf(a);-1!=a&&this.splice(a,1);return this}});Ext.ns("Ext.grid","Ext.list","Ext.dd","Ext.tree","Ext.form","Ext.menu","Ext.state","Ext.layout","Ext.app","Ext.ux","Ext.chart","Ext.direct");
Ext.apply(Ext,function(){var a=Ext,b=null;return{emptyFn:function(){},BLANK_IMAGE_URL:"images/de/default/s.gif",extendX:function(a,b){return Ext.extend(a,b(a.prototype))},getDoc:function(){return Ext.get(document)},num:function(a,b){a=Number(Ext.isEmpty(a)||Ext.isArray(a)||"boolean"==typeof a||"string"==typeof a&&0==a.trim().length?NaN:a);return isNaN(a)?b:a},value:function(a,b,g){return Ext.isEmpty(a,g)?b:a},escapeRe:function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},sequence:function(a,
b,g,h){a[b]=a[b].createSequence(g,h)},addBehaviors:function(a){if(Ext.isReady){var b={},g,h,l;for(h in a)if((g=h.split("@"))[1])l=g[0],b[l]||(b[l]=Ext.select(l)),b[l].on(g[1],a[h]);b=null}else Ext.onReady(function(){Ext.addBehaviors(a)})},getScrollBarWidth:function(a){if(!Ext.isReady)return 0;if(!0===a||null===b){var a=Ext.getBody().createChild('<div class="x-hide-offsets" style="width:100px;height:50px;overflow:hidden;"><div style="height:200px;"></div></div>'),d=a.child("div",!0),g=d.offsetWidth;
a.setStyle("overflow",Ext.isWebKit||Ext.isGecko?"auto":"scroll");d=d.offsetWidth;a.remove();b=g-d+2}return b},combine:function(){for(var a=arguments,b=a.length,g=[],h=0;h<b;h++){var l=a[h];Ext.isArray(l)?g=g.concat(l):void 0!==l.length&&!l.substr?g=g.concat(Array.prototype.slice.call(l,0)):g.push(l)}return g},copyTo:function(a,b,g){"string"==typeof g&&(g=g.split(/[,;\s]/));Ext.each(g,function(g){b.hasOwnProperty(g)&&(a[g]=b[g])},this);return a},destroy:function(){Ext.each(arguments,function(a){a&&
(Ext.isArray(a)?this.destroy.apply(this,a):"function"==typeof a.destroy?a.destroy():a.dom&&a.remove())},this)},destroyMembers:function(a,b,g,h){for(var l=1,n=arguments,q=n.length;l<q;l++)Ext.destroy(a[n[l]]),delete a[n[l]]},clean:function(a){var b=[];Ext.each(a,function(a){a&&b.push(a)});return b},unique:function(a){var b=[],g={};Ext.each(a,function(a){g[a]||b.push(a);g[a]=!0});return b},flatten:function(a){function b(a){Ext.each(a,function(a){Ext.isArray(a)?b(a):g.push(a)});return g}var g=[];return b(a)},
min:function(a,b){var g=a[0],b=b||function(a,b){return a<b?-1:1};Ext.each(a,function(a){g=-1==b(g,a)?g:a});return g},max:function(a,b){var g=a[0],b=b||function(a,b){return a>b?1:-1};Ext.each(a,function(a){g=1==b(g,a)?g:a});return g},mean:function(a){return 0<a.length?Ext.sum(a)/a.length:void 0},sum:function(a){var b=0;Ext.each(a,function(a){b+=a});return b},partition:function(a,b){var g=[[],[]];Ext.each(a,function(a,c,n){g[b&&b(a,c,n)||!b&&a?0:1].push(a)});return g},invoke:function(a,b){var g=[],
h=Array.prototype.slice.call(arguments,2);Ext.each(a,function(a){a&&"function"==typeof a[b]?g.push(a[b].apply(a,h)):g.push(void 0)});return g},pluck:function(a,b){var g=[];Ext.each(a,function(a){g.push(a[b])});return g},zip:function(){for(var a=Ext.partition(arguments,function(a){return"function"!=typeof a}),b=a[0],a=a[1][0],g=Ext.max(Ext.pluck(b,"length")),h=[],l=0;l<g;l++)if(h[l]=[],a)h[l]=a.apply(a,Ext.pluck(b,l));else for(var n=0,q=b.length;n<q;n++)h[l].push(b[n][l]);return h},getCmp:function(a){return Ext.ComponentMgr.get(a)},
useShims:a.isIE6||a.isMac&&a.isGecko2,type:function(a){if(void 0===a||null===a)return!1;if(a.htmlElement)return"element";var b=typeof a;if("object"==b&&a.nodeName)switch(a.nodeType){case 1:return"element";case 3:return/\S/.test(a.nodeValue)?"textnode":"whitespace"}if("object"==b||"function"==b){switch(a.constructor){case Array:return"array";case RegExp:return"regexp";case Date:return"date"}if("number"==typeof a.length&&"function"==typeof a.item)return"nodelist"}return b},intercept:function(a,b,g,
h){a[b]=a[b].createInterceptor(g,h)},callback:function(a,b,g,h){"function"==typeof a&&(h?a.defer(h,b,g||[]):a.apply(b,g||[]))}}}());Ext.apply(Function.prototype,{createSequence:function(a,b){var c=this;return"function"!=typeof a?this:function(){var d=c.apply(this||window,arguments);a.apply(b||this||window,arguments);return d}}});Ext.applyIf(String,{escape:function(a){return a.replace(/('|\\)/g,"\\$1")},leftPad:function(a,b,c){a=String(a);for(c||(c=" ");a.length<b;)a=c+a;return a}});
String.prototype.toggle=function(a,b){return this==a?b:a};String.prototype.trim=function(){var a=/^\s+|\s+$/g;return function(){return this.replace(a,"")}}();Date.prototype.getElapsed=function(a){return Math.abs((a||new Date).getTime()-this.getTime())};Ext.applyIf(Number.prototype,{constrain:function(a,b){return Math.min(Math.max(this,a),b)}});
Ext.util.TaskRunner=function(a){var a=a||10,b=[],c=[],d=0,g=!1,h=function(a){c.push(a);a.onStop&&a.onStop.apply(a.scope||a)},l=function(){var a=c.length,l=(new Date).getTime();if(0<a){for(var r=0;r<a;r++)b.remove(c[r]);c=[];if(1>b.length){g=!1;clearInterval(d);d=0;return}}for(var r=0,s,p=b.length;r<p;++r){a=b[r];s=l-a.taskRunTime;if(a.interval<=s&&(s=a.run.apply(a.scope||a,a.args||[++a.taskRunCount]),a.taskRunTime=l,!1===s||a.taskRunCount===a.repeat)){h(a);break}a.duration&&a.duration<=l-a.taskStartTime&&
h(a)}};this.start=function(c){b.push(c);c.taskStartTime=(new Date).getTime();c.taskRunTime=0;c.taskRunCount=0;g||(g=!0,d=setInterval(l,a));return c};this.stop=function(a){h(a);return a};this.stopAll=function(){g=!1;clearInterval(d);for(var a=d=0,h=b.length;a<h;a++)if(b[a].onStop)b[a].onStop();b=[];c=[]}};Ext.TaskMgr=new Ext.util.TaskRunner;
(function(){function a(a){b||(b=new Ext.Element.Flyweight);b.dom=a;return b}var b,c=document,d="CSS1Compat"==c.compatMode,g=Math.max,h=Math.round,l=parseInt;Ext.lib.Dom={isAncestor:function(a,b){var c=!1,a=Ext.getDom(a),b=Ext.getDom(b);if(a&&b){if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(b)&16);for(;b=b.parentNode;)c=b==a||c}return c},getViewWidth:function(a){return a?this.getDocumentWidth():this.getViewportWidth()},getViewHeight:function(a){return a?
this.getDocumentHeight():this.getViewportHeight()},getDocumentHeight:function(){return g(!d?c.body.scrollHeight:c.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return g(!d?c.body.scrollWidth:c.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?Ext.isStrict?c.documentElement.clientHeight:c.body.clientHeight:self.innerHeight},getViewportWidth:function(){return!Ext.isStrict&&!Ext.isOpera?c.body.clientWidth:Ext.isIE?
c.documentElement.clientWidth:self.innerWidth},getY:function(a){return this.getXY(a)[1]},getX:function(a){return this.getXY(a)[0]},getXY:function(b){var d,g,n,p,r=0,q=0,A,s=c.body||c.documentElement;d=[0,0];b=Ext.getDom(b);if(b!=s)if(b.getBoundingClientRect)b=b.getBoundingClientRect(),r=a(document).getScroll(),d=[h(b.left+r.left),h(b.top+r.top)];else{d=b;for(A=a(b).isStyle("position","absolute");d;)g=a(d),r+=d.offsetLeft,q+=d.offsetTop,A=A||g.isStyle("position","absolute"),Ext.isGecko&&(q+=n=l(g.getStyle("borderTopWidth"),
10)||0,r+=p=l(g.getStyle("borderLeftWidth"),10)||0,d!=b&&!g.isStyle("overflow","visible")&&(r+=p,q+=n)),d=d.offsetParent;Ext.isSafari&&A&&(r-=s.offsetLeft,q-=s.offsetTop);Ext.isGecko&&!A&&(d=a(s),r+=l(d.getStyle("borderLeftWidth"),10)||0,q+=l(d.getStyle("borderTopWidth"),10)||0);for(d=b.parentNode;d&&d!=s;){if(!Ext.isOpera||"TR"!=d.tagName&&!a(d).isStyle("display","inline"))r-=d.scrollLeft,q-=d.scrollTop;d=d.parentNode}d=[r,q]}return d},setXY:function(a,b){(a=Ext.fly(a,"_setXY")).position();var c=
a.translatePoints(b),d=a.dom.style,g;for(g in c)isNaN(c[g])||(d[g]=c[g]+"px")},setX:function(a,b){this.setXY(a,[b,!1])},setY:function(a,b){this.setXY(a,[!1,b])}};Ext.lib.Dom.getRegion=function(a){return Ext.lib.Region.getRegion(a)};var n=Ext.lib,q=function(a){var b;a:{b=a.currentTarget;a=J.getRelatedTarget(a);if(b&&b.firstChild)for(;a;){if(a===b){b=!0;break a}(a=a.parentNode)&&1!=a.nodeType&&(a=null)}b=!1}return!b},r=function(){var a=!1,b=[],c,d,g,h=!v||0<A;if(!z){z=!0;for(a=0;a<w.length;++a)if((d=
w[a])&&(c=G.getElementById(d.id)))!d.checkReady||v||c.nextSibling||G&&G.body?(c=(g=d.override)?!0===g?d.obj:g:c,d.fn.call(c,d.obj),w.remove(d),--a):b.push(d);A=0===b.length?0:A-1;h?s():(clearInterval(C),C=null);a=!(z=!1)}return a},s=function(){C||(C=setInterval(function(){r()},E))},p=function(a,b){var a=a.browserEvent||a,c=a["page"+b];if(!c&&0!==c&&(c=a["client"+b]||0,Ext.isIE))var d=G.documentElement,g=G.body,c=c+(d&&(d[B]||d[F])?[d[F],d[B]]:g?[g[F],g[B]]:[0,0])["X"==b?0:1];return c},v=!1,t={},A=
0,w=[],C,z=!1,D=window,G=document,E=20,F="scrollLeft",B="scrollTop",R;R=D.addEventListener?function(a,b,c,d){"mouseenter"==b?(c=c.createInterceptor(q),a.addEventListener("mouseover",c,d)):"mouseleave"==b?(c=c.createInterceptor(q),a.addEventListener("mouseout",c,d)):a.addEventListener(b,c,d);return c}:D.attachEvent?function(a,b,c){a.attachEvent("on"+b,c);return c}:function(){};var O;O=D.removeEventListener?function(a,b,c,d){"mouseenter"==b?b="mouseover":"mouseleave"==b&&(b="mouseout");a.removeEventListener(b,
c,d)}:D.detachEvent?function(a,b,c){a.detachEvent("on"+b,c)}:function(){};var J={extAdapter:!0,onAvailable:function(a,b,c,d){w.push({id:a,fn:b,obj:c,override:d,checkReady:!1});A=200;s()},addListener:function(a,b,c){return(a=Ext.getDom(a))&&c?"unload"==b?(void 0===t[a.id]&&(t[a.id]=[]),t[a.id].push([b,c]),c):R(a,b,c,!1):!1},removeListener:function(a,b,c){var a=Ext.getDom(a),d,g,h,l;if(a&&c)if("unload"==b){if(void 0!==(l=t[a.id])){d=0;for(g=l.length;d<g;d++)(h=l[d])&&(h[0]==b&&h[1]==c)&&t[a.id].splice(d,
1)}}else O(a,b,c,!1)},getTarget:function(a){a=a.browserEvent||a;return this.resolveTextNode(a.target||a.srcElement)},resolveTextNode:Ext.isGecko?function(a){if(a){var b=HTMLElement.prototype.toString.call(a);if(!("[xpconnect wrapped native prototype]"==b||"[object XULElement]"==b))return 3==a.nodeType?a.parentNode:a}}:function(a){return a&&3==a.nodeType?a.parentNode:a},getRelatedTarget:function(a){a=a.browserEvent||a;return this.resolveTextNode(a.relatedTarget||("mouseout"==a.type?a.toElement:"mouseover"==
a.type?a.fromElement:null))},getPageX:function(a){return p(a,"X")},getPageY:function(a){return p(a,"Y")},getXY:function(a){return[this.getPageX(a),this.getPageY(a)]},stopEvent:function(a){this.stopPropagation(a);this.preventDefault(a)},stopPropagation:function(a){a=a.browserEvent||a;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},preventDefault:function(a){a=a.browserEvent||a;a.preventDefault?a.preventDefault():a.returnValue=!1},getEvent:function(a){a=a||D.event;if(!a)for(var b=this.getEvent.caller;b&&
!((a=b.arguments[0])&&Event==a.constructor);)b=b.caller;return a},getCharCode:function(a){a=a.browserEvent||a;return a.charCode||a.keyCode||0},getListeners:function(a,b){Ext.EventManager.getListeners(a,b)},purgeElement:function(a,b,c){Ext.EventManager.purgeElement(a,b,c)},_load:function(a){v=!0;Ext.isIE&&!0!==a&&O(D,"load",arguments.callee)},_unload:function(a){var b=Ext.lib.Event,c,d,g,h,l,n;for(h in t){g=t[h];c=0;for(l=g.length;c<l;c++)if(d=g[c])try{n=d[3]?!0===d[3]?d[2]:d[3]:D,d[1].call(n,b.getEvent(a),
d[2])}catch(p){}}Ext.EventManager._unload();O(D,"unload",b._unload)}};J.on=J.addListener;J.un=J.removeListener;G&&G.body?J._load(!0):R(D,"load",J._load);R(D,"unload",J._unload);r();n.Event=J;var K=function(a,b){(L.headers=L.headers||{})[a]=b},I=function(a,b){var c={},d,g=a.conn,h,l,n=1223==g.status;try{d=a.conn.getAllResponseHeaders(),Ext.each(d.replace(/\r\n/g,"\n").split("\n"),function(a){h=a.indexOf(":");0<=h&&(l=a.substr(0,h).toLowerCase()," "==a.charAt(h+1)&&++h,c[l]=a.substr(h+1))})}catch(p){}return{tId:a.tId,
status:n?204:g.status,statusText:n?"No Content":g.statusText,getResponseHeader:function(a){return c[a.toLowerCase()]},getAllResponseHeaders:function(){return d},responseText:g.responseText,responseXML:g.responseXML,argument:b}},da=function(a,b,c,d){if(b){var g;try{g=void 0!==a.conn.status&&0!=a.conn.status?a.conn.status:13030}catch(h){g=13030}if(200<=g&&300>g||Ext.isIE&&1223==g)c=I(a,b.argument),b.success&&(b.scope?b.success.apply(b.scope,[c]):b.success(c));else switch(g){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=
{tId:a.tId,status:c&&c?-1:0,statusText:c&&c?"transaction aborted":"communication failure",isAbort:c?c:!1,isTimeout:d,argument:b.argument};b.failure&&(b.scope?b.failure.apply(b.scope,[c]):b.failure(c));break;default:c=I(a,b.argument),b.failure&&(b.scope?b.failure.apply(b.scope,[c]):b.failure(c))}}a.tId&&(L.conn[a.tId]=null);a.conn=null},S=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],L={request:function(a,b,c,d,g){if(g){var h=g.xmlData,l=g.jsonData;Ext.applyIf(this,g);if(h||l){d=this.headers;
if(!d||!d["Content-Type"])K("Content-Type",h?"text/xml":"application/json");d=h||(!Ext.isPrimitive(l)?Ext.encode(l):l)}}g=a||g.method||"POST";a=d;var n;try{var p;var r=L.transactionId,q;try{q=new XMLHttpRequest}catch(A){for(d=0;d<S.length;++d)try{q=new ActiveXObject(S[d]);break}catch(s){}}finally{p={conn:q,tId:r}}(n=p)&&L.transactionId++}catch(v){}finally{}var w=n||null;if(w){w.conn.open(g,b,!0);L.useDefaultXhrHeader&&K("X-Requested-With",L.defaultXhrHeader);a&&(L.useDefaultHeader&&(!L.headers||!L.headers["Content-Type"]))&&
K("Content-Type",L.defaultPostHeader);if(L.defaultHeaders||L.headers){b=function(a,b){for(t in b)b.hasOwnProperty(t)&&a.setRequestHeader(t,b[t])};n=w.conn;var t;L.defaultHeaders&&b(n,L.defaultHeaders);L.headers&&(b(n,L.headers),delete L.headers)}var z=c,z=z||{},C=w.conn,D=w.tId,E=L.poll,B=z.timeout||null;B&&(L.conn[D]=C,L.timeout[D]=setTimeout(function(){L.abort(w,z,!0)},B));E[D]=setInterval(function(){C&&4==C.readyState&&(clearInterval(E[D]),E[D]=null,B&&(clearTimeout(L.timeout[D]),L.timeout[D]=
null),da(w,z))},L.pollInterval);w.conn.send(a||null)}return w},serializeForm:function(a){var a=a.elements||(document.forms[a]||Ext.getDom(a)).elements,b=!1,c=encodeURIComponent,d,g="",h;Ext.each(a,function(a){d=a.name;h=a.type;if(!a.disabled&&d)if(/select-(one|multiple)/i.test(h))Ext.each(a.options,function(a){a.selected&&(g+=String.format("{0}={1}&",c(d),c((a.hasAttribute?a.hasAttribute("value"):null!==a.getAttribute("value"))?a.value:a.text)))});else if(!/file|undefined|reset|button/i.test(h)&&
(!/radio|checkbox/i.test(h)||a.checked)&&!("submit"==h&&b))g+=c(d)+"="+c(a.value)+"&",b=/submit/i.test(h)});return g.substr(0,g.length-1)},useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",poll:{},timeout:{},conn:{},pollInterval:50,transactionId:0,abort:function(a,b,c){var d=a.tId,g=!1;this.isCallInProgress(a)&&(a.conn.abort(),clearInterval(this.poll[d]),this.poll[d]=null,clearTimeout(L.timeout[d]),this.timeout[d]=
null,da(a,b,g=!0,c));return g},isCallInProgress:function(a){return a.conn&&!{"0":!0,4:!0}[a.conn.readyState]}};Ext.lib.Ajax=L;Ext.lib.Region=function(a,b,c,d){this.top=a;this[1]=a;this.right=b;this.bottom=c;this.left=d;this[0]=d};Ext.lib.Region.prototype={contains:function(a){return a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom},getArea:function(){return(this.bottom-this.top)*(this.right-this.left)},intersect:function(a){var b=Math.max(this.top,a.top),c=Math.min(this.right,
a.right),d=Math.min(this.bottom,a.bottom),a=Math.max(this.left,a.left);if(d>=b&&c>=a)return new Ext.lib.Region(b,c,d,a)},union:function(a){var b=Math.min(this.top,a.top),c=Math.max(this.right,a.right),d=Math.max(this.bottom,a.bottom),a=Math.min(this.left,a.left);return new Ext.lib.Region(b,c,d,a)},constrainTo:function(a){this.top=this.top.constrain(a.top,a.bottom);this.bottom=this.bottom.constrain(a.top,a.bottom);this.left=this.left.constrain(a.left,a.right);this.right=this.right.constrain(a.left,
a.right);return this},adjust:function(a,b,c,d){this.top+=a;this.left+=b;this.right+=d;this.bottom+=c;return this}};Ext.lib.Region.getRegion=function(a){var b=Ext.lib.Dom.getXY(a);return new Ext.lib.Region(b[1],b[0]+a.offsetWidth,b[1]+a.offsetHeight,b[0])};Ext.lib.Point=function(a,b){Ext.isArray(a)&&(b=a[1],a=a[0]);this.x=this.right=this.left=this[0]=a;this.y=this.top=this.bottom=this[1]=b};Ext.lib.Point.prototype=new Ext.lib.Region;var T=Ext.lib,W=/width|height|opacity|padding/i,Z=/^((width|height)|(top|left))$/,
U=/width|height|top$|bottom$|left$|right$/i,ha=/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i,Q=function(a){return"undefined"!==typeof a};T.Anim={motion:function(a,b,c,d,g,h){return this.run(a,b,c,d,g,h,Ext.lib.Motion)},run:function(a,b,c,d,g,h,l){l=l||Ext.lib.AnimBase;"string"==typeof d&&(d=Ext.lib.Easing[d]);a=new l(a,b,c,d);a.animateX(function(){Ext.isFunction(g)&&g.call(h)});return a}};T.AnimBase=function(a,b,c,d){a&&this.init(a,b,c,d)};T.AnimBase.prototype={doMethod:function(a,b,c){return this.method(this.curFrame,
b,c-b,this.totalFrames)},setAttr:function(a,b,c){W.test(a)&&0>b&&(b=0);Ext.fly(this.el,"_anim").setStyle(a,b+c)},getAttr:function(a){var b=Ext.fly(this.el),c=b.getStyle(a),a=Z.exec(a)||[];return"auto"!==c&&!ha.test(c)?parseFloat(c):a[2]||"absolute"==b.getStyle("position")&&a[3]?b.dom["offset"+a[0].charAt(0).toUpperCase()+a[0].substr(1)]:0},getDefaultUnit:function(a){return U.test(a)?"px":""},animateX:function(a,b){var c=this,d=function(){c.onComplete.removeListener(d);Ext.isFunction(a)&&a.call(b||
c,c)};c.onComplete.addListener(d,c);c.animate()},setRunAttr:function(a){var b=this.attributes[a],c=b.to,d=b.by,g=b.from,b=b.unit,h=this.runAttrs[a]={},l;if(!Q(c)&&!Q(d))return!1;g=Q(g)?g:this.getAttr(a);if(Q(c))l=c;else if(Q(d))if(Ext.isArray(g)){l=[];for(var c=0,n=g.length;c<n;c++)l[c]=g[c]+d[c]}else l=g+d;Ext.apply(h,{start:g,end:l,unit:Q(b)?b:this.getDefaultUnit(a)})},init:function(a,b,c,d){var g=0,h=T.AnimMgr;Ext.apply(this,{isAnimated:!1,startTime:null,el:Ext.getDom(a),attributes:b||{},duration:c||
1,method:d||T.Easing.easeNone,useSec:!0,curFrame:0,totalFrames:h.fps,runAttrs:{},animate:function(){var a=this.duration;if(this.isAnimated)return!1;this.curFrame=0;this.totalFrames=this.useSec?Math.ceil(h.fps*a):a;h.registerElement(this)},stop:function(a){a&&(this.curFrame=this.totalFrames,this._onTween.fire());h.stop(this)}});this.onStart=new Ext.util.Event(this);this.onTween=new Ext.util.Event(this);this.onComplete=new Ext.util.Event(this);(this._onStart=new Ext.util.Event(this)).addListener(function(){var a;
this.onStart.fire();this.runAttrs={};for(a in this.attributes)this.setRunAttr(a);this.isAnimated=!0;this.startTime=new Date;g=0});(this._onTween=new Ext.util.Event(this)).addListener(function(){this.onTween.fire({duration:new Date-this.startTime,curFrame:this.curFrame});var a=this.runAttrs,b;for(b in a)this.setAttr(b,this.doMethod(b,a[b].start,a[b].end),a[b].unit);++g});(this._onComplete=new Ext.util.Event(this)).addListener(function(){var a=(new Date-this.startTime)/1E3,a={duration:a,frames:g,fps:g/
a};this.isAnimated=!1;g=0;this.onComplete.fire(a)})}};Ext.lib.AnimMgr=new function(){var a=this,b=null,c=[],d=0;Ext.apply(a,{fps:1E3,delay:1,registerElement:function(b){c.push(b);++d;b._onStart.fire();a.start()},unRegister:function(b,g){b._onComplete.fire();var h;if(!(h=g))a:{var l;h=0;for(l=c.length;h<l;h++)if(c[h]===b)break a;h=-1}g=h;-1!=g&&c.splice(g,1);0>=--d&&a.stop()},start:function(){null===b&&(b=setInterval(a.run,a.delay))},stop:function(g){if(g)a.unRegister(g);else{clearInterval(b);for(var g=
0,h=c.length;g<h;++g)c[0].isAnimated&&a.unRegister(c[0],0);c=[];b=null;d=0}},run:function(){var b,d,g,h;d=0;for(g=c.length;d<g;d++)if((h=c[d])&&h.isAnimated)if(b=h.totalFrames,h.curFrame<b||null===b){++h.curFrame;if(h.useSec){b=h;var l=b.totalFrames,n=b.curFrame,p=b.duration,r=1E3*n*p/l,q=new Date-b.startTime,A=0,A=q<1E3*p?Math.round((q/r-1)*n):l-(n+1);0<A&&isFinite(A)&&(b.curFrame+A>=l&&(A=l-(n+1)),b.curFrame+=A)}h._onTween.fire()}else a.stop(h)}})};T.Bezier=new function(){this.getPosition=function(a,
b){var c=a.length,d=[],g=1-b,h,l;for(h=0;h<c;++h)d[h]=[a[h][0],a[h][1]];for(l=1;l<c;++l)for(h=0;h<c-l;++h)d[h][0]=g*d[h][0]+b*d[parseInt(h+1,10)][0],d[h][1]=g*d[h][1]+b*d[parseInt(h+1,10)][1];return[d[0][0],d[0][1]]}};T.Easing={easeNone:function(a,b,c,d){return c*a/d+b},easeIn:function(a,b,c,d){return c*(a/=d)*a+b},easeOut:function(a,b,c,d){return-c*(a/=d)*(a-2)+b}};T.Motion=function(a,b,c,d){a&&T.Motion.superclass.constructor.call(this,a,b,c,d)};Ext.extend(T.Motion,Ext.lib.AnimBase);var H=T.Motion.superclass,
ca=/^points$/i;Ext.apply(T.Motion.prototype,{setAttr:function(a,b,c){var d=H.setAttr;ca.test(a)?(c=c||"px",d.call(this,"left",b[0],c),d.call(this,"top",b[1],c)):d.call(this,a,b,c)},getAttr:function(a){var b=H.getAttr;return ca.test(a)?[b.call(this,"left"),b.call(this,"top")]:b.call(this,a)},doMethod:function(a,b,c){return ca.test(a)?T.Bezier.getPosition(this.runAttrs[a],this.method(this.curFrame,0,100,this.totalFrames)/100):H.doMethod.call(this,a,b,c)},setRunAttr:function(a){if(ca.test(a)){var b=
this.el,c=this.attributes.points,d=c.control||[],g=c.from,h=c.to,c=c.by,l=T.Dom,n;0<d.length&&!Ext.isArray(d[0])&&(d=[d]);Ext.fly(b,"_anim").position();l.setXY(b,Q(g)?g:l.getXY(b));b=this.getAttr("points");if(Q(h)){n=Y.call(this,h,b);h=0;for(g=d.length;h<g;++h)d[h]=Y.call(this,d[h],b)}else if(Q(c)){n=[b[0]+c[0],b[1]+c[1]];h=0;for(g=d.length;h<g;++h)d[h]=[b[0]+d[h][0],b[1]+d[h][1]]}a=this.runAttrs[a]=[b];0<d.length&&(a=a.concat(d));a[a.length]=n}else H.setRunAttr.call(this,a)}});var Y=function(a,b){var c=
T.Dom.getXY(this.el);return[a[0]-c[0]+b[0],a[1]-c[1]+b[1]]},N=Math.abs,P=Math.PI,X=Math.asin,V=Math.pow,M=Math.sin,ba=Ext.lib;Ext.apply(ba.Easing,{easeBoth:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},easeInStrong:function(a,b,c,d){return c*(a/=d)*a*a*a+b},easeOutStrong:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeBothStrong:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},elasticIn:function(a,b,c,d,g,h){if(0==a||1==(a/=d))return 0==a?b:b+
c;h=h||0.3*d;g>=N(c)?c=h/(2*P)*X(c/g):(g=c,c=h/4);return-(g*V(2,10*(a-=1))*M((a*d-c)*2*P/h))+b},elasticOut:function(a,b,c,d,g,h){if(0==a||1==(a/=d))return 0==a?b:b+c;var h=h||0.3*d,l;g>=N(c)?l=h/(2*P)*X(c/g):(g=c,l=h/4);return g*V(2,-10*a)*M((a*d-l)*2*P/h)+c+b},elasticBoth:function(a,b,c,d,g,h){if(0==a||2==(a/=d/2))return 0==a?b:b+c;var h=h||d*0.3*1.5,l;g>=N(c)?l=h/(2*P)*X(c/g):(g=c,l=h/4);return 1>a?-0.5*g*V(2,10*(a-=1))*M((a*d-l)*2*P/h)+b:0.5*g*V(2,-10*(a-=1))*M((a*d-l)*2*P/h)+c+b},backIn:function(a,
b,c,d,g){g=g||1.70158;return c*(a/=d)*a*((g+1)*a-g)+b},backOut:function(a,b,c,d,g){g||(g=1.70158);return c*((a=a/d-1)*a*((g+1)*a+g)+1)+b},backBoth:function(a,b,c,d,g){g=g||1.70158;return 1>(a/=d/2)?c/2*a*a*(((g*=1.525)+1)*a-g)+b:c/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+b},bounceIn:function(a,b,c,d){return c-ba.Easing.bounceOut(d-a,0,c,d)+b},bounceOut:function(a,b,c,d){return(a/=d)<1/2.75?c*7.5625*a*a+b:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:c*(7.5625*
(a-=2.625/2.75)*a+0.984375)+b},bounceBoth:function(a,b,c,d){return a<d/2?0.5*ba.Easing.bounceIn(2*a,0,c,d)+b:0.5*ba.Easing.bounceOut(2*a-d,0,c,d)+0.5*c+b}});var fa=function(a){var b=parseInt,c,d=null,g;if(3==a.length)return a;Ext.each([na,ma,oa],function(h,l){c=0==l%2?16:10;if((g=h.exec(a))&&4==g.length)return d=[b(g[1],c),b(g[2],c),b(g[3],c)],!1});return d},aa=Ext.lib;aa.Anim.color=function(a,b,c,d,g,h){return aa.Anim.run(a,b,c,d,g,h,aa.ColorAnim)};aa.ColorAnim=function(a,b,c,d){aa.ColorAnim.superclass.constructor.call(this,
a,b,c,d)};Ext.extend(aa.ColorAnim,aa.AnimBase);var ga=aa.ColorAnim.superclass,ia=/color$/i,la=/^transparent|rgba\(0, 0, 0, 0\)$/,ma=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,na=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,oa=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;Ext.apply(aa.ColorAnim.prototype,{getAttr:function(a){var b=this.el,c;if(ia.test(a))for(;b&&la.test(c=Ext.fly(b).getStyle(a));)b=b.parentNode,c="fff";else c=ga.getAttr.call(this,a);return c},doMethod:function(a,b,c){var d,
g=Math.floor,h,l,n;if(ia.test(a)){d=[];c=c||[];h=0;for(l=b.length;h<l;h++)n=b[h],d[h]=ga.doMethod.call(this,a,n,c[h]);d="rgb("+g(d[0])+","+g(d[1])+","+g(d[2])+")"}else d=ga.doMethod.call(this,a,b,c);return d},setRunAttr:function(a){var b=this.attributes[a],c=b.to,d=b.by;ga.setRunAttr.call(this,a);b=this.runAttrs[a];if(ia.test(a)){var a=fa(b.start),g=fa(b.end);if("undefined"===typeof c&&"undefined"!==typeof d){g=fa(d);c=0;for(d=a.length;c<d;c++)g[c]=a[c]+g[c]}b.start=a;b.end=g}}});var ea=Ext.lib;ea.Anim.scroll=
function(a,b,c,d,g,h){return ea.Anim.run(a,b,c,d,g,h,ea.Scroll)};ea.Scroll=function(a,b,c,d){a&&ea.Scroll.superclass.constructor.call(this,a,b,c,d)};Ext.extend(ea.Scroll,ea.ColorAnim);var ja=ea.Scroll.superclass;Ext.apply(ea.Scroll.prototype,{doMethod:function(a,b,c){var d=this.curFrame,g=this.totalFrames;return"scroll"==a?[this.method(d,b[0],c[0]-b[0],g),this.method(d,b[1],c[1]-b[1],g)]:ja.doMethod.call(this,a,b,c)},getAttr:function(a){return"scroll"==a?[this.el.scrollLeft,this.el.scrollTop]:ja.getAttr.call(this,
a)},setAttr:function(a,b,c){"scroll"==a?(this.el.scrollLeft=b[0],this.el.scrollTop=b[1]):ja.setAttr.call(this,a,b,c)}});if(Ext.isIE){var ka=function(){var a=Function.prototype;delete a.createSequence;delete a.defer;delete a.createDelegate;delete a.createCallback;delete a.createInterceptor;window.detachEvent("onunload",ka)};window.attachEvent("onunload",ka)}})();Ext.DomHelper=function(){function a(a,c,d,g){a=s.insertHtml(g,Ext.getDom(a),b(c));return d?Ext.get(a,!0):a}function b(a){var c="",d,h,n,r;if("string"==typeof a)c=a;else if(Ext.isArray(a))for(d=0;d<a.length;d++)a[d]&&(c+=b(a[d]));else{c+="<"+(a.tag=a.tag||"div");for(d in a)if(h=a[d],!l.test(d))if("object"==typeof h){c+=" "+d+'="';for(n in h)c+=n+":"+h[n]+";";c+='"'}else c+=" "+({cls:"class",htmlFor:"for"}[d]||d)+'="'+h+'"';g.test(a.tag)?c+="/>":(c+=">",(r=a.children||a.cn)?c+=b(r):a.html&&(c+=a.html),
c+="</"+a.tag+">")}return c}function c(a,b,c,g){d.innerHTML=[b,c,g].join("");c=-1;for(b=d;++c<a;)b=b.firstChild;if(b.nextSibling){for(c=document.createDocumentFragment();b;)a=b.nextSibling,c.appendChild(b),b=a;b=c}return b}var d=null,g=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,h=/^table|tbody|tr|td$/i,l=/tag|children|cn|html$/i,n=/td|tr|tbody/i,q=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,r=/end/i,s;return s={markup:function(a){return b(a)},applyStyles:function(a,
b){if(b){var c,a=Ext.fly(a);"function"==typeof b&&(b=b.call());if("string"==typeof b)for(;c=q.exec(b);)a.setStyle(c[1],c[2]);else"object"==typeof b&&a.setStyle(b)}},insertHtml:function(a,b,g){var l={},q,s,a=a.toLowerCase();l.beforebegin=["BeforeBegin","previousSibling"];l.afterend=["AfterEnd","nextSibling"];if(b.insertAdjacentHTML){if(s=h.test(b.tagName)){var z=b.tagName.toLowerCase(),D=a;q=b;d=d||document.createElement("div");if("td"==z&&("afterbegin"==D||"beforeend"==D)||!n.test(z)&&("beforebegin"==
D||"afterend"==D))q=void 0;else{s="beforebegin"==D?q:"afterend"==D?q.nextSibling:"afterbegin"==D?q.firstChild:null;if("beforebegin"==D||"afterend"==D)q=q.parentNode;z="td"==z||"tr"==z&&("beforeend"==D||"afterbegin"==D)?c(4,"<table><tbody><tr>",g,"</tr></tbody></table>"):"tbody"==z&&("beforeend"==D||"afterbegin"==D)||"tr"==z&&("beforebegin"==D||"afterend"==D)?c(3,"<table><tbody>",g,"</tbody></table>"):c(2,"<table>",g,"</table>");q.insertBefore(z,s);q=z}s=q}if(s)return q;l.afterbegin=["AfterBegin",
"firstChild"];l.beforeend=["BeforeEnd","lastChild"];if(l=l[a])return b.insertAdjacentHTML(l[0],g),b[l[1]]}else{s=b.ownerDocument.createRange();q="setStart"+(r.test(a)?"After":"Before");if(l[a])return s[q](b),g=s.createContextualFragment(g),b.parentNode.insertBefore(g,"beforebegin"==a?b:b.nextSibling),b[("beforebegin"==a?"previous":"next")+"Sibling"];l=("afterbegin"==a?"first":"last")+"Child";b.firstChild?(s[q](b[l]),g=s.createContextualFragment(g),"afterbegin"==a?b.insertBefore(g,b.firstChild):b.appendChild(g)):
b.innerHTML=g;return b[l]}throw'Illegal insertion point -> "'+a+'"';},insertBefore:function(b,c,d){return a(b,c,d,"beforebegin")},insertAfter:function(b,c,d){return a(b,c,d,"afterend","nextSibling")},insertFirst:function(b,c,d){return a(b,c,d,"afterbegin","firstChild")},append:function(b,c,d){return a(b,c,d,"beforeend","",!0)},overwrite:function(a,c,d){a=Ext.getDom(a);a.innerHTML=b(c);return d?Ext.get(a.firstChild):a.firstChild},createHtml:b}}();
Ext.apply(Ext.DomHelper,function(){function a(a,d,l,n,q,r){a=Ext.getDom(a);c.useDom?(d=b(d,null),r?a.appendChild(d):("firstChild"==q?a:a.parentNode).insertBefore(d,a[q]||a)):d=Ext.DomHelper.insertHtml(n,a,Ext.DomHelper.createHtml(d));return l?Ext.get(d,!0):d}function b(a,c){var l;l=document;var n,q,r;if(Ext.isArray(a)){l=l.createDocumentFragment();q=0;for(n=a.length;q<n;q++)b(a[q],l)}else if("string"==typeof a)l=l.createTextNode(a);else{l=l.createElement(a.tag||"div");n=!!l.setAttribute;for(q in a)d.test(q)||
(r=a[q],"cls"==q?l.className=r:n?l.setAttribute(q,r):l[q]=r);Ext.DomHelper.applyStyles(l,a.style);(q=a.children||a.cn)?b(q,l):a.html&&(l.innerHTML=a.html)}c&&c.appendChild(l);return l}var c,d=/tag|children|cn|html$/i;return c={createTemplate:function(a){a=Ext.DomHelper.createHtml(a);return new Ext.Template(a)},useDom:!1,insertBefore:function(b,c,d){return a(b,c,d,"beforebegin")},insertAfter:function(b,c,d){return a(b,c,d,"afterend","nextSibling")},insertFirst:function(b,c,d){return a(b,c,d,"afterbegin",
"firstChild")},append:function(b,c,d){return a(b,c,d,"beforeend","",!0)},createDom:b}}());Ext.Template=function(a){var b=arguments,c=[],d;if(Ext.isArray(a))a=a.join("");else if(1<b.length){for(var g=0,h=b.length;g<h;g++)d=b[g],"object"==typeof d?Ext.apply(this,d):c.push(d);a=c.join("")}this.html=a;this.compiled&&this.compile()};
Ext.Template.prototype={re:/\{([\w-]+)\}/g,applyTemplate:function(a){return this.compiled?this.compiled(a):this.html.replace(this.re,function(b,c){return void 0!==a[c]?a[c]:""})},set:function(a,b){this.html=a;this.compiled=null;return b?this.compile():this},compile:function(){var a=Ext.isGecko?"+":",";eval("this.compiled = function(values){ return "+(Ext.isGecko?"'":"['")+this.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,function(b,c){c="values['"+c+"']";
return"'"+a+"("+c+" == undefined ? '' : "+c+")"+a+"'"})+(Ext.isGecko?"';};":"'].join('');};"));return this},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){b=Ext.getDom(b);a=Ext.DomHelper.insertHtml(a,b,this.applyTemplate(c));return d?Ext.get(a,!0):
a},overwrite:function(a,b,c){a=Ext.getDom(a);a.innerHTML=this.applyTemplate(b);return c?Ext.get(a.firstChild,!0):a.firstChild}};Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(a,b){a=Ext.getDom(a);return new Ext.Template(a.value||a.innerHTML,b||"")};
Ext.apply(Ext.Template.prototype,{disableFormats:!1,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,argsRe:/^\s*['"](.*)["']\s*$/,compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,applyTemplate:function(a){var b=this,c=!0!==b.disableFormats,d=Ext.util.Format;return b.compiled?b.compiled(a):b.html.replace(b.re,function(g,h,l,n){if(l&&c){if("this."==l.substr(0,5))return b.call(l.substr(5),a[h],a);if(n){for(var g=b.argsRe,n=n.split(","),q=0,r=n.length;q<r;q++)n[q]=n[q].replace(g,"$1");n=[a[h]].concat(n)}else n=
[a[h]];return d[l].apply(d,n)}return void 0!==a[h]?a[h]:""})},compile:function(){function a(a,d,l,n){l&&b?(n=n?","+n:"","this."!=l.substr(0,5)?l="fm."+l+"(":(l='this.call("'+l.substr(5)+'", ',n=", values")):(n="",l="(values['"+d+"'] == undefined ? '' : ");return"'"+c+l+"values['"+d+"']"+n+")"+c+"'"}var b=!0!==this.disableFormats,c=Ext.isGecko?"+":",",d;Ext.isGecko?d="this.compiled = function(values){ return '"+this.html.replace(this.compileARe,"\\\\").replace(this.compileBRe,"\\n").replace(this.compileCRe,
"\\'").replace(this.re,a)+"';};":(d=["this.compiled = function(values){ return ['"],d.push(this.html.replace(this.compileARe,"\\\\").replace(this.compileBRe,"\\n").replace(this.compileCRe,"\\'").replace(this.re,a)),d.push("'].join('');};"),d=d.join(""));eval(d);return this},call:function(a,b,c){return this[a](b,c)}});Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;
Ext.DomQuery=function(){function a(a){for(;(a=a.nextSibling)&&1!=a.nodeType;);return a}function b(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a}function c(a){if(!a)return[];var b=a.length,c,d,g=a,h=-1;if(!b||"undefined"!=typeof a.nodeType||1==b)return a;if(v&&"undefined"!=typeof a[0].selectSingleNode){g=++t;a[0].setAttribute("_nodup",g);h=[a[0]];b=1;for(d=a.length;b<d;b++)c=a[b],!c.getAttribute("_nodup")!=g&&(c.setAttribute("_nodup",g),h[h.length]=c);b=0;for(d=a.length;b<d;b++)a[b].removeAttribute("_nodup");
return h}b=++t;a[0]._nodup=b;for(d=1;c=a[d];d++)if(c._nodup!=b)c._nodup=b;else{g=[];for(c=0;c<d;c++)g[++h]=a[c];for(c=d+1;d=a[c];c++)d._nodup!=b&&(d._nodup=b,g[++h]=d);break}return g}var d={},g={},h={},l=/^\s+|\s+$/g,n=/\{(\d+)\}/g,q=/^(\s?[\/>+~]\s?|\s|$)/,r=/^(#)?([\w-\*]+)/,s=/(\d*)n\+?(\d*)/,p=/\D/,v=window.ActiveXObject?!0:!1,t=30803;eval("var batch = 30803;");return{getStyle:function(a,b){return Ext.fly(a).getStyle(b)},compile:function(a,b){var b=b||"select",c=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],
d,g=Ext.DomQuery.matchers,h=g.length,p;if((p=a.match(q))&&p[1])c[c.length]='mode="'+p[1].replace(l,"")+'";',a=a.replace(p[1],"");for(;"/"==a.substr(0,1);)a=a.substr(1);for(;a&&d!=a;){d=a;p=a.match(r);"select"==b?p?(c[c.length]="#"==p[1]?'n = quickId(n, mode, root, "'+p[2]+'");':'n = getNodes(n, mode, "'+p[2]+'");',a=a.replace(p[0],"")):"@"!=a.substr(0,1)&&(c[c.length]='n = getNodes(n, mode, "*");'):p&&(c[c.length]="#"==p[1]?'n = byId(n, "'+p[2]+'");':'n = byTag(n, "'+p[2]+'");',a=a.replace(p[0],""));
for(;!(p=a.match(q));){p=!1;for(var s=0;s<h;s++){var v=g[s],t=a.match(v.re);if(t){c[c.length]=v.select.replace(n,function(a,b){return t[b]});a=a.replace(t[0],"");p=!0;break}}if(!p)throw'Error parsing selector, parsing failed at "'+a+'"';}p[1]&&(c[c.length]='mode="'+p[1].replace(l,"")+'";',a=a.replace(p[1],""))}c[c.length]="return nodup(n);\n}";eval(c.join(""));return f},jsSelect:function(a,b){b=b||document;"string"==typeof b&&(b=document.getElementById(b));for(var g=a.split(","),h=[],n=0,p=g.length;n<
p;n++){var r=g[n].replace(l,"");if(!d[r]&&(d[r]=Ext.DomQuery.compile(r),!d[r]))throw r+" is not a valid selector";(r=d[r](b))&&r!=document&&(h=h.concat(r))}return 1<g.length?c(h):h},isXml:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},select:document.querySelectorAll?function(a,b,c){b=b||document;if(!Ext.DomQuery.isXml(b))try{var d=b.querySelectorAll(a);return Ext.toArray(d)}catch(g){}return Ext.DomQuery.jsSelect.call(this,a,b,c)}:function(a,b,c){return Ext.DomQuery.jsSelect.call(this,
a,b,c)},selectNode:function(a,b){return Ext.DomQuery.select(a,b)[0]},selectValue:function(a,b,c){a=a.replace(l,"");h[a]||(h[a]=Ext.DomQuery.compile(a,"select"));a=h[a](b);a=a[0]?a[0]:a;"function"==typeof a.normalize&&a.normalize();a=a&&a.firstChild?a.firstChild.nodeValue:null;return null===a||void 0===a||""===a?c:a},selectNumber:function(a,b,c){a=Ext.DomQuery.selectValue(a,b,c||0);return parseFloat(a)},is:function(a,b){"string"==typeof a&&(a=document.getElementById(a));var c=Ext.isArray(a),d=Ext.DomQuery.filter(c?
a:[a],b);return c?d.length==a.length:0<d.length},filter:function(a,b,c){b=b.replace(l,"");g[b]||(g[b]=Ext.DomQuery.compile(b,"simple"));b=g[b](a);if(c){var d=b.length,c=++t,h=[];if(d){if(v&&"undefined"!=typeof b[0].selectSingleNode){for(var c=++t,h=[],n=0,d=b.length;n<d;n++)b[n].setAttribute("_qdiff",c);n=0;for(d=a.length;n<d;n++)a[n].getAttribute("_qdiff")!=c&&(h[h.length]=a[n]);n=0;for(d=b.length;n<d;n++)b[n].removeAttribute("_qdiff")}else{for(n=0;n<d;n++)b[n]._qdiff=c;n=0;for(b=a.length;n<b;n++)a[n]._qdiff!=
c&&(h[h.length]=a[n])}a=h}}else a=b;return a},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,b){return a==b},"!=":function(a,
b){return a!=b},"^=":function(a,b){return a&&a.substr(0,b.length)==b},"$=":function(a,b){return a&&a.substr(a.length-b.length)==b},"*=":function(a,b){return a&&-1!==a.indexOf(b)},"%=":function(a,b){return 0==a%b},"|=":function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+"-")},"~=":function(a,b){return a&&-1!=(" "+a+" ").indexOf(" "+b+" ")}},pseudos:{"first-child":function(a){for(var b=[],c=-1,d,g=0,h;h=d=a[g];g++){for(;(d=d.previousSibling)&&1!=d.nodeType;);d||(b[++c]=h)}return b},"last-child":function(a){for(var b=
[],c=-1,d,g=0,h;h=d=a[g];g++){for(;(d=d.nextSibling)&&1!=d.nodeType;);d||(b[++c]=h)}return b},"nth-child":function(a,b){for(var c=[],d=-1,g=s.exec("even"==b&&"2n"||"odd"==b&&"2n+1"||!p.test(b)&&"n+"+b||b),h=(g[1]||1)-0,g=g[2]-0,l=0,n;n=a[l];l++){var r=n.parentNode;if(batch!=r._batch){for(var q=0,v=r.firstChild;v;v=v.nextSibling)1==v.nodeType&&(v.nodeIndex=++q);r._batch=batch}if(1==h){if(0==g||n.nodeIndex==g)c[++d]=n}else 0==(n.nodeIndex+g)%h&&(c[++d]=n)}return c},"only-child":function(c){for(var d=
[],g=-1,h=0,l;l=c[h];h++)!b(l)&&!a(l)&&(d[++g]=l);return d},empty:function(a){for(var b=[],c=-1,d=0,g;g=a[d];d++){for(var h=g.childNodes,l=0,n,p=!0;n=h[l];)if(++l,1==n.nodeType||3==n.nodeType){p=!1;break}p&&(b[++c]=g)}return b},contains:function(a,b){for(var c=[],d=-1,g=0,h;h=a[g];g++)if(-1!=(h.textContent||h.innerText||"").indexOf(b))c[++d]=h;return c},nodeValue:function(a,b){for(var c=[],d=-1,g=0,h;h=a[g];g++)h.firstChild&&h.firstChild.nodeValue==b&&(c[++d]=h);return c},checked:function(a){for(var b=
[],c=-1,d=0,g;g=a[d];d++)!0==g.checked&&(b[++c]=g);return b},not:function(a,b){return Ext.DomQuery.filter(a,b,!0)},any:function(a,b){for(var c=b.split("|"),d=[],g=-1,h,l=0,n;n=a[l];l++)for(var p=0;h=c[p];p++)if(Ext.DomQuery.is(n,h)){d[++g]=n;break}return d},odd:function(a){return this["nth-child"](a,"odd")},even:function(a){return this["nth-child"](a,"even")},nth:function(a,b){return a[b-1]||[]},first:function(a){return a[0]||[]},last:function(a){return a[a.length-1]||[]},has:function(a,b){for(var c=
Ext.DomQuery.select,d=[],g=-1,h=0,l;l=a[h];h++)0<c(b,l).length&&(d[++g]=l);return d},next:function(b,c){for(var d=Ext.DomQuery.is,g=[],h=-1,l=0,n;n=b[l];l++){var p=a(n);p&&d(p,c)&&(g[++h]=n)}return g},prev:function(a,c){for(var d=Ext.DomQuery.is,g=[],h=-1,l=0,n;n=a[l];l++){var p=b(n);p&&d(p,c)&&(g[++h]=n)}return g}}}}();Ext.query=Ext.DomQuery.select;
Ext.util.DelayedTask=function(a,b,c){var d=this,g,h=function(){clearInterval(g);g=null;a.apply(b,c||[])};d.delay=function(l,n,q,r){d.cancel();a=n||a;b=q||b;c=r||c;g=setInterval(h,l)};d.cancel=function(){g&&(clearInterval(g),g=null)}};
(function(){var a=Ext.util,b=Ext.each;a.Observable=function(){var a=this.events;this.listeners&&(this.on(this.listeners),delete this.listeners);this.events=a||{}};a.Observable.prototype={filterOptRe:/^(?:scope|delay|buffer|single)$/,fireEvent:function(){var a=Array.prototype.slice.call(arguments,0),b=a[0].toLowerCase(),c=!0,l=this.events[b],n;if(!0===this.eventsSuspended)(n=this.eventQueue)&&n.push(a);else if("object"==typeof l)if(l.bubble){if(!1===l.fire.apply(l,a.slice(1)))return!1;if((l=this.getBubbleTarget&&
this.getBubbleTarget())&&l.enableBubble)return c=l.events[b],(!c||"object"!=typeof c||!c.bubble)&&l.enableBubble(b),l.fireEvent.apply(l,a)}else a.shift(),c=l.fire.apply(l,a);return c},addListener:function(b,c,h,l){var n;if("object"==typeof b)for(n in l=b,l)b=l[n],this.filterOptRe.test(n)||this.addListener(n,b.fn||b,b.scope||l.scope,b.fn?b:l);else b=b.toLowerCase(),n=this.events[b]||!0,"boolean"==typeof n&&(this.events[b]=n=new a.Event(this,b)),n.addListener(c,h,"object"==typeof l?l:{})},removeListener:function(a,
b,c){a=this.events[a.toLowerCase()];"object"==typeof a&&a.removeListener(b,c)},purgeListeners:function(){var a=this.events,b,c;for(c in a)b=a[c],"object"==typeof b&&b.clearListeners()},addEvents:function(a){this.events=this.events||{};if("string"==typeof a)for(var b=arguments,c=b.length;c--;)this.events[b[c]]=this.events[b[c]]||!0;else Ext.applyIf(this.events,a)},hasListener:function(a){a=this.events[a.toLowerCase()];return"object"==typeof a&&0<a.listeners.length},suspendEvents:function(a){this.eventsSuspended=
!0;a&&!this.eventQueue&&(this.eventQueue=[])},resumeEvents:function(){var a=this,c=a.eventQueue||[];a.eventsSuspended=!1;delete a.eventQueue;b(c,function(b){a.fireEvent.apply(a,b)})}};var c=a.Observable.prototype;c.on=c.addListener;c.un=c.removeListener;a.Observable.releaseCapture=function(a){a.fireEvent=c.fireEvent};a.Event=function(a,b){this.name=b;this.obj=a;this.listeners=[]};a.Event.prototype={addListener:function(a,b,c){b=b||this.obj;this.isListening(a,b)||(a=this.createListener(a,b,c),this.firing&&
(this.listeners=this.listeners.slice(0)),this.listeners.push(a))},createListener:function(b,c,h){var h=h||{},c=c||this.obj,l={fn:b,scope:c,options:h},n=b;if(h.target)var q=n,r=h,s=c,n=function(){r.target==arguments[0]&&q.apply(s,Array.prototype.slice.call(arguments,0))};if(h.delay)var p=n,v=h,t=c,n=function(){var b=new a.DelayedTask;l.tasks||(l.tasks=[]);l.tasks.push(b);b.delay(v.delay||10,p,t,Array.prototype.slice.call(arguments,0))};if(h.single)var A=n,w=this,C=c,n=function(){w.removeListener(b,
C);return A.apply(C,arguments)};if(h.buffer){var z=n,D=h,G=c;l.task=new a.DelayedTask;n=function(){l.task.delay(D.buffer,z,G,Array.prototype.slice.call(arguments,0))}}l.fireFn=n;return l},findListener:function(a,b){for(var c=this.listeners,l=c.length,n,b=b||this.obj;l--;)if((n=c[l])&&n.fn==a&&n.scope==b)return l;return-1},isListening:function(a,b){return-1!=this.findListener(a,b)},removeListener:function(a,b){var c,l,n;l=!1;if(-1!=(c=this.findListener(a,b))){this.firing&&(this.listeners=this.listeners.slice(0));
l=this.listeners[c];l.task&&(l.task.cancel(),delete l.task);if(n=l.tasks&&l.tasks.length){for(;n--;)l.tasks[n].cancel();delete l.tasks}this.listeners.splice(c,1);l=!0}return l},clearListeners:function(){for(var a=this.listeners,b=a.length;b--;)this.removeListener(a[b].fn,a[b].scope)},fire:function(){var a=this.listeners,b=a.length,c=0,l;if(0<b){this.firing=!0;for(var n=Array.prototype.slice.call(arguments,0);c<b;c++)if((l=a[c])&&!1===l.fireFn.apply(l.scope||this.obj||window,n))return this.firing=
!1}this.firing=!1;return!0}}})();
Ext.apply(Ext.util.Observable.prototype,function(){function a(a){var c=(this.methodEvents=this.methodEvents||{})[a],d,g,h,l=this;if(!c){this.methodEvents[a]=c={};c.originalFn=this[a];c.methodName=a;c.before=[];c.after=[];var n=function(a,b,c){if(void 0!==(g=a.apply(b||l,c)))"object"==typeof g?(d=void 0!==g.returnValue?g.returnValue:g,h=!!g.cancel):!1===g?h=!0:d=g};this[a]=function(){var a=Array.prototype.slice.call(arguments,0),b;d=g=void 0;h=!1;for(var s=0,p=c.before.length;s<p;s++)if(b=c.before[s],
n(b.fn,b.scope,a),h)return d;if(void 0!==(g=c.originalFn.apply(l,a)))d=g;s=0;for(p=c.after.length;s<p&&!(b=c.after[s],n(b.fn,b.scope,a),h);s++);return d}}return c}return{beforeMethod:function(b,c,d){a.call(this,b).before.push({fn:c,scope:d})},afterMethod:function(b,c,d){a.call(this,b).after.push({fn:c,scope:d})},removeMethodListener:function(a,c,d){for(var a=this.getMethodEvent(a),g=0,h=a.before.length;g<h;g++)if(a.before[g].fn==c&&a.before[g].scope==d){a.before.splice(g,1);return}g=0;for(h=a.after.length;g<
h;g++)if(a.after[g].fn==c&&a.after[g].scope==d){a.after.splice(g,1);break}},relayEvents:function(a,c){function d(a){return function(){return g.fireEvent.apply(g,[a].concat(Array.prototype.slice.call(arguments,0)))}}for(var g=this,h=0,l=c.length;h<l;h++){var n=c[h];g.events[n]=g.events[n]||!0;a.on(n,d(n),g)}},enableBubble:function(a){if(!Ext.isEmpty(a))for(var a=Ext.isArray(a)?a:Array.prototype.slice.call(arguments,0),c=0,d=a.length;c<d;c++){var g=a[c],g=g.toLowerCase(),h=this.events[g]||!0;"boolean"==
typeof h&&(h=new Ext.util.Event(this,g),this.events[g]=h);h.bubble=!0}}}}());Ext.util.Observable.capture=function(a,b,c){a.fireEvent=a.fireEvent.createInterceptor(b,c)};Ext.util.Observable.observeClass=function(a,b){if(a){a.fireEvent||(Ext.apply(a,new Ext.util.Observable),Ext.util.Observable.capture(a.prototype,a.fireEvent,a));if("object"==typeof b)a.on(b);return a}};
Ext.EventManager=function(){function a(a){var b=!1,c=0,d=z.length,g=b=!1,h;if(a){if(a.getElementById||a.navigator){for(;c<d;++c)if(h=z[c],h.el===a){b=h.id;break}b||(b=Ext.id(a),z.push({id:b,el:a}),g=!0)}else b=Ext.id(a);Ext.elCache[b]||(Ext.Element.addToCache(new Ext.Element(a),b),g&&(Ext.elCache[b].skipGC=!0))}return b}function b(){if(window!=top)return!1;try{v.documentElement.doScroll("left")}catch(a){return!1}h();return!0}function c(a){if(Ext.isIE&&b())return!0;if(v.readyState==w)return h(),!0;
r||(q=setTimeout(arguments.callee,2));return!1}function d(a){D||(D=Ext.query("style, link[rel=stylesheet]"));if(D.length==v.styleSheets.length)return h(),!0;r||(q=setTimeout(arguments.callee,2));return!1}function g(a){v.removeEventListener(A,arguments.callee,!1);d()}function h(a){r||(r=!0,q&&clearTimeout(q),s&&v.removeEventListener(A,h,!1),Ext.isIE&&c.bindIE&&v.detachEvent("onreadystatechange",c),p.un(t,"load",arguments.callee));n&&!Ext.isReady&&(Ext.isReady=!0,n.fire(),n.listeners=[])}function l(b,
c,d,g,h){function l(a){if(Ext){var a=Ext.EventObject.setEvent(a),b;if(n.delegate){if(!(b=a.getTarget(n.delegate,r)))return}else b=a.target;n.stopEvent&&a.stopEvent();n.preventDefault&&a.preventDefault();n.stopPropagation&&a.stopPropagation();n.normalized&&(a=a.browserEvent);g.call(h||r,a,b,n)}}var n=!d||"boolean"==typeof d?{}:d,r=Ext.getDom(b),q,g=g||n.fn,h=h||n.scope;if(!r)throw'Error listening for "'+c+'". Element "'+b+"\" doesn't exist.";if(n.target)var s=l,A=n,l=function(){var a=Ext.toArray(arguments);
A.target==Ext.EventObject.setEvent(a[0]).target&&s.apply(this,a)};if(n.delay)var w=l,z=n,D=g,l=function(a){var b=new Ext.util.DelayedTask(w);D.tasks||(D.tasks=[]);D.tasks.push(b);b.delay(z.delay||10,w,null,[new Ext.EventObjectImpl(a)])};if(n.single)var C=l,G=r,Q=g,H=h,l=function(a){Ext.EventManager.removeListener(G,c,Q,H);C(a)};if(n.buffer){q=new Ext.util.DelayedTask(l);var ca=l,Y=n,N=q,l=function(a){N.delay(Y.buffer,ca,null,[new Ext.EventObjectImpl(a)])}}var P=r,b=g,d=l,X=h,P=Ext.getDom(P),V=a(P),
V=Ext.elCache[V].events,M;M=p.on(P,c,d);V[c]=V[c]||[];V[c].push([b,d,X,M,q]);if(P.addEventListener&&"mousewheel"==c){var ba=["DOMMouseScroll",d,!1];P.addEventListener.apply(P,ba);Ext.EventManager.addListener(t,"unload",function(){P.removeEventListener.apply(P,ba)})}P==v&&"mousedown"==c&&Ext.EventManager.stoppedMouseDownEvent.addListener(d);return l}var n,q,r=!1,s=Ext.isGecko||Ext.isWebKit||Ext.isSafari,p=Ext.lib.Event,v=document,t=window,A="DOMContentLoaded",w="complete",C=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,
z=[],D,G={addListener:function(a,b,c,d,g){if("object"==typeof b)for(var h in b)c=b[h],C.test(h)||(Ext.isFunction(c)?l(a,h,b,c,b.scope):l(a,h,c));else l(a,b,g,c,d)},removeListener:function(b,c,d,g){var b=Ext.getDom(b),h=a(b),l=b&&Ext.elCache[h].events[c]||[],n,r,q;n=0;for(r=l.length;n<r;n++)if(Ext.isArray(q=l[n])&&q[0]==d&&(!g||q[2]==g)){q[4]&&q[4].cancel();if(g=d.tasks&&d.tasks.length){for(;g--;)d.tasks[g].cancel();delete d.tasks}d=q[1];p.un(b,c,p.extAdapter?q[3]:d);d&&(b.addEventListener&&"mousewheel"==
c)&&b.removeEventListener("DOMMouseScroll",d,!1);d&&(b==v&&"mousedown"==c)&&Ext.EventManager.stoppedMouseDownEvent.removeListener(d);l.splice(n,1);0===l.length&&delete Ext.elCache[h].events[c];for(g in Ext.elCache[h].events)return!1;Ext.elCache[h].events={};return!1}},removeAll:function(b){var b=Ext.getDom(b),c=a(b),d=(Ext.elCache[c]||{}).events||{},g,h,l,n,r,q,s;for(n in d)if(d.hasOwnProperty(n)){g=d[n];h=0;for(l=g.length;h<l;h++){r=g[h];r[4]&&r[4].cancel();if(r[0].tasks&&(q=r[0].tasks.length)){for(;q--;)r[0].tasks[q].cancel();
delete r.tasks}s=r[1];p.un(b,n,p.extAdapter?r[3]:s);b.addEventListener&&(s&&"mousewheel"==n)&&b.removeEventListener("DOMMouseScroll",s,!1);s&&(b==v&&"mousedown"==n)&&Ext.EventManager.stoppedMouseDownEvent.removeListener(s)}}Ext.elCache[c]&&(Ext.elCache[c].events={})},getListeners:function(b,c){var b=Ext.getDom(b),d=a(b);return(d=(Ext.elCache[d]||{}).events||{})&&d[c]?d[c]:null},purgeElement:function(b,c,d){var b=Ext.getDom(b),g=a(b),g=(Ext.elCache[g]||{}).events||{},h,l;if(d){if(g&&g.hasOwnProperty(d)){h=
g[d];g=0;for(l=h.length;g<l;g++)Ext.EventManager.removeListener(b,d,h[g][0])}}else Ext.EventManager.removeAll(b);if(c&&b&&b.childNodes){g=0;for(l=b.childNodes.length;g<l;g++)Ext.EventManager.purgeElement(b.childNodes[g],c,d)}},_unload:function(){for(var a in Ext.elCache)Ext.EventManager.removeAll(a);delete Ext.elCache;delete Ext.Element._flyweights;var b,c,d=Ext.lib.Ajax;"object"==typeof d.conn?b=d.conn:b={};for(c in b)(a=b[c])&&d.abort({conn:a,tId:c})},onDocumentReady:function(a,b,l){Ext.isReady?
(n||(n=new Ext.util.Event),n.addListener(a,b,l),n.fire(),n.listeners=[]):(n||(n||(n=new Ext.util.Event),s&&v.addEventListener(A,h,!1),Ext.isIE?c()||(c.bindIE=!0,v.attachEvent("onreadystatechange",c)):Ext.isOpera?v.readyState==w&&d()||v.addEventListener(A,g,!1):Ext.isWebKit&&c(),p.on(t,"load",h)),l=l||{},l.delay=l.delay||1,n.addListener(a,b,l))},fireDocReady:h};G.on=G.addListener;G.un=G.removeListener;G.stoppedMouseDownEvent=new Ext.util.Event;return G}();Ext.onReady=Ext.EventManager.onDocumentReady;
(function(){var a=function(){var a=document.body||document.getElementsByTagName("body")[0];if(!a)return!1;var c=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":Ext.isIE7?"ext-ie7":"ext-ie8"):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isWebKit?"ext-webkit":""];Ext.isSafari?c.push("ext-safari "+(Ext.isSafari2?"ext-safari2":Ext.isSafari3?"ext-safari3":"ext-safari4")):Ext.isChrome&&c.push("ext-chrome");Ext.isMac&&c.push("ext-mac");Ext.isLinux&&c.push("ext-linux");
if(Ext.isStrict||Ext.isBorderBox){var d=a.parentNode;d&&(d.className+=Ext.isStrict?" ext-strict":" ext-border-box")}a.className+=c.join(" ");return!0};if(!a())Ext.onReady(a)})();
Ext.EventObject=function(){var a=Ext.lib.Event,b={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},c=Ext.isIE?{1:0,4:1,2:2}:Ext.isWebKit?{1:0,2:1,3:2}:{"0":0,1:1,2:2};Ext.EventObjectImpl=function(a){a&&this.setEvent(a.browserEvent||a)};Ext.EventObjectImpl.prototype={setEvent:function(b){if(b==this||b&&b.browserEvent)return b;(this.browserEvent=b)?(this.button=b.button?c[b.button]:b.which?b.which-1:-1,"click"==b.type&&-1==this.button&&(this.button=0),this.type=
b.type,this.shiftKey=b.shiftKey,this.ctrlKey=b.ctrlKey||b.metaKey||!1,this.altKey=b.altKey,this.keyCode=b.keyCode,this.charCode=b.charCode,this.target=a.getTarget(b),this.xy=a.getXY(b)):(this.button=-1,this.altKey=this.ctrlKey=this.shiftKey=!1,this.charCode=this.keyCode=0,this.target=null,this.xy=[0,0]);return this},stopEvent:function(){this.browserEvent&&("mousedown"==this.browserEvent.type&&Ext.EventManager.stoppedMouseDownEvent.fire(this),a.stopEvent(this.browserEvent))},preventDefault:function(){this.browserEvent&&
a.preventDefault(this.browserEvent)},stopPropagation:function(){this.browserEvent&&("mousedown"==this.browserEvent.type&&Ext.EventManager.stoppedMouseDownEvent.fire(this),a.stopPropagation(this.browserEvent))},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isSafari?b[a]||a:a},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},
getTarget:function(a,b,c){return a?Ext.fly(this.target).findParent(a,b,c):c?Ext.get(this.target):this.target},getRelatedTarget:function(){return this.browserEvent?a.getRelatedTarget(this.browserEvent):null},getWheelDelta:function(){var a=this.browserEvent,b=0;a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);return b},within:function(a,b,c){return a?(b=this[b?"getRelatedTarget":"getTarget"]())&&((c?b==Ext.getDom(a):!1)||Ext.fly(a).contains(b)):!1}};return new Ext.EventObjectImpl}();
Ext.apply(Ext.EventManager,function(){var a,b,c,d,g=Ext.lib.Dom,h=0,l=0;return{doResizeEvent:function(){var b=g.getViewHeight(),c=g.getViewWidth();if(l!=b||h!=c)a.fire(h=c,l=b)},onWindowResize:function(c,d,g){a||(a=new Ext.util.Event,b=new Ext.util.DelayedTask(this.doResizeEvent),Ext.EventManager.on(window,"resize",this.fireWindowResize,this));a.addListener(c,d,g)},fireWindowResize:function(){a&&b.delay(100)},onTextResize:function(a,b,g){if(!c){c=new Ext.util.Event;var h=new Ext.Element(document.createElement("div"));
h.dom.className="x-text-resize";h.dom.innerHTML="X";h.appendTo(document.body);d=h.dom.offsetHeight;setInterval(function(){h.dom.offsetHeight!=d&&c.fire(d,d=h.dom.offsetHeight)},this.textResizeInterval)}c.addListener(a,b,g)},removeResizeListener:function(b,c){a&&a.removeListener(b,c)},fireResize:function(){a&&a.fire(g.getViewWidth(),g.getViewHeight())},textResizeInterval:50,ieDeferSrc:!1,useKeydown:Ext.isWebKit?525<=Ext.num(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1]):!(Ext.isGecko&&!Ext.isWindows||
Ext.isOpera)}}());Ext.EventManager.on=Ext.EventManager.addListener;
Ext.apply(Ext.EventObjectImpl.prototype,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGEUP:33,PAGE_DOWN:34,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,
CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,isNavKeyPress:function(){var a=this.normalizeKey(this.keyCode);return 33<=a&&40>=a||a==this.RETURN||a==this.TAB||a==this.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return"keypress"==
this.type&&this.ctrlKey||this.isNavKeyPress()||a==this.BACKSPACE||16<=a&&20>=a||44<=a&&46>=a},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey}});
(function(){var a=document;Ext.Element=function(b,c){var d="string"==typeof b?a.getElementById(b):b,g;if(!d)return null;g=d.id;if(!c&&g&&Ext.elCache[g])return Ext.elCache[g].el;this.dom=d;this.id=g||Ext.id(d)};var b=Ext.DomHelper,c=Ext.Element,d=Ext.elCache;c.prototype={set:function(a,c){var d=this.dom,g,h,c=!1!==c&&!!d.setAttribute;for(g in a)a.hasOwnProperty(g)&&(h=a[g],"style"==g?b.applyStyles(d,h):"cls"==g?d.className=h:c?d.setAttribute(g,h):d[g]=h);return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,
a)},focus:function(a,b){b=b||this.dom;try{Number(a)?this.focus.defer(a,null,[null,b]):b.focus()}catch(c){}return this},blur:function(){try{this.dom.blur()}catch(a){}return this},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},addListener:function(a,b,c,d){Ext.EventManager.on(this.dom,a,b,c||this,d);return this},removeListener:function(a,b,c){Ext.EventManager.removeListener(this.dom,a,b,c||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this},
purgeAllListeners:function(){Ext.EventManager.purgeElement(this,!0);return this},addUnits:function(a){if(""===a||"auto"==a||void 0===a)a=a||"";else if(!isNaN(a)||!h.test(a))a+=this.defaultUnit||"px";return a},load:function(a,b,c){Ext.Ajax.request(Ext.apply({params:b,url:a.url||a,callback:c,el:this.dom,indicatorText:a.indicatorText||""},Ext.isObject(a)?a:{}));return this},isBorderBox:function(){return q[(this.dom.tagName||"").toLowerCase()]||Ext.isBorderBox},remove:function(){var a=this.dom;a&&(delete this.dom,
Ext.removeNode(a))},hover:function(a,b,c,d){this.on("mouseenter",a,c||this.dom,d);this.on("mouseleave",b,c||this.dom,d);return this},contains:function(a){return!a?!1:Ext.lib.Dom.isAncestor(this.dom,a.dom?a.dom:a)},getAttributeNS:function(a,b){return this.getAttribute(b,a)},getAttribute:Ext.isIE?function(a,b){var c=this.dom;return-1==["undefined","unknown"].indexOf(typeof c[b+":"+a])?c[b+":"+a]:c[a]}:function(a,b){var c=this.dom;return c.getAttributeNS(b,a)||c.getAttribute(b+":"+a)||c.getAttribute(a)||
c[a]},update:function(a){this.dom&&(this.dom.innerHTML=a);return this}};var g=c.prototype;c.addMethods=function(a){Ext.apply(g,a)};g.on=g.addListener;g.un=g.removeListener;g.autoBoxAdjust=!0;var h=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,l;c.get=function(b){var g,h;if(!b)return null;if("string"==typeof b){if(!(h=a.getElementById(b)))return null;d[b]&&d[b].el?(g=d[b].el,g.dom=h):g=c.addToCache(new c(h));return g}if(b.tagName){if(!(g=b.id))g=Ext.id(b);d[g]&&d[g].el?(g=d[g].el,g.dom=b):g=c.addToCache(new c(b));
return g}return b instanceof c?(b!=l&&(b.dom=Ext.isIE&&(void 0==b.id||""==b.id)?b.dom:a.getElementById(b.id)||b.dom),b):b.isComposite?b:Ext.isArray(b)?c.select(b):b==a?(l||(b=function(){},b.prototype=c.prototype,l=new b,l.dom=a),l):null};c.addToCache=function(a,b){b=b||a.id;d[b]={el:a,data:{},events:{}};return a};c.data=function(a,b,g){a=c.get(a);if(!a)return null;var h=d[a.id].data;return 2==arguments.length?h[b]:h[b]=g};c.collectorThreadId=setInterval(function(){if(Ext.enableGarbageCollector){var b,
g;for(b in d)if(g=d[b],!g.skipGC&&(g=g.el,g=g.dom,!g||!g.parentNode||!g.offsetParent&&!a.getElementById(b)))Ext.enableListenerCollection&&Ext.EventManager.removeAll(g),delete d[b];if(Ext.isIE){g={};for(b in d)g[b]=d[b];d=Ext.elCache=g}}else clearInterval(c.collectorThreadId)},3E4);var n=function(){};n.prototype=c.prototype;c.Flyweight=function(a){this.dom=a};c.Flyweight.prototype=new n;c.Flyweight.prototype.isFlyweight=!0;c._flyweights={};c.fly=function(a,b){var d=null,b=b||"_global";if(a=Ext.getDom(a))(c._flyweights[b]=
c._flyweights[b]||new c.Flyweight).dom=a,d=c._flyweights[b];return d};Ext.get=c.get;Ext.fly=c.fly;var q=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko)q.button=1})();
Ext.Element.addMethods({swallowEvent:function(a,b){function c(a){a.stopPropagation();b&&a.preventDefault()}var d=this;if(Ext.isArray(a))return Ext.each(a,function(a){d.on(a,c)}),d;d.on(a,c);return d},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},clean:function(a){var b=this.dom,c=b.firstChild,d=-1;if(Ext.Element.data(b,"isCleaned")&&!0!==a)return this;for(;c;)a=c.nextSibling,3==c.nodeType&&!/\S/.test(c.nodeValue)?b.removeChild(c):c.nodeIndex=++d,c=a;Ext.Element.data(b,"isCleaned",
!0);return this},load:function(){var a=this.getUpdater();a.update.apply(a,arguments);return this},getUpdater:function(){return this.updateManager||(this.updateManager=new Ext.Updater(this))},update:function(a,b,c){if(!this.dom)return this;a=a||"";if(!0!==b)return this.dom.innerHTML=a,"function"==typeof c&&c(),this;var d=Ext.id(),b=this.dom,a=a+('<span id="'+d+'"></span>');Ext.lib.Event.onAvailable(d,function(){for(var b=document,h=b.getElementsByTagName("head")[0],l=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,
n=/\ssrc=([\'\"])(.*?)\1/i,q=/\stype=([\'\"])(.*?)\1/i,r,s,p;r=l.exec(a);)if((p=(s=r[1])?s.match(n):!1)&&p[2]){r=b.createElement("script");r.src=p[2];if((s=s.match(q))&&s[2])r.type=s[2];h.appendChild(r)}else r[2]&&0<r[2].length&&(window.execScript?window.execScript(r[2]):window.eval(r[2]));(b=b.getElementById(d))&&Ext.removeNode(b);"function"==typeof c&&c()});b.innerHTML=a.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return this},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);
return this},createProxy:function(a,b,c){a="object"==typeof a?a:{tag:"div",cls:a};a=b?Ext.DomHelper.append(b,a,!0):Ext.DomHelper.insertBefore(this.dom,a,!0);c&&(this.setBox&&this.getBox)&&a.setBox(this.getBox());return a}});Ext.Element.prototype.getUpdateManager=Ext.Element.prototype.getUpdater;
Ext.Element.addMethods({getAnchorXY:function(a,b,c){var a=(a||"tl").toLowerCase(),c=c||{},d=this.dom==document.body||this.dom==document,g=c.width||d?Ext.lib.Dom.getViewWidth():this.getWidth(),h=c.height||d?Ext.lib.Dom.getViewHeight():this.getHeight(),l=Math.round,n=this.getXY(),q=this.getScroll(),c=d?q.left:!b?n[0]:0,b=d?q.top:!b?n[1]:0,a={c:[l(0.5*g),l(0.5*h)],t:[l(0.5*g),0],l:[0,l(0.5*h)],r:[g,l(0.5*h)],b:[l(0.5*g),h],tl:[0,0],bl:[0,h],br:[g,h],tr:[g,0]}[a];return[a[0]+c,a[1]+b]},anchorTo:function(a,
b,c,d,g,h){var l=this.dom,n=!Ext.isEmpty(g),q=function(){Ext.fly(l).alignTo(a,b,c,d);Ext.callback(h,Ext.fly(l))},r=this.getAnchor();this.removeAnchor();Ext.apply(r,{fn:q,scroll:n});Ext.EventManager.onWindowResize(q,null);if(n)Ext.EventManager.on(window,"scroll",q,null,{buffer:!isNaN(g)?g:50});q.call(this);return this},removeAnchor:function(){var a=this.getAnchor();a&&a.fn&&(Ext.EventManager.removeResizeListener(a.fn),a.scroll&&Ext.EventManager.un(window,"scroll",a.fn),delete a.fn);return this},getAnchor:function(){var a=
Ext.Element.data,b=this.dom;if(b){var c=a(b,"_anchor");c||(c=a(b,"_anchor",{}));return c}},getAlignToXY:function(a,b,c){a=Ext.get(a);if(!a||!a.dom)throw"Element.alignToXY with an element that doesn't exist";var c=c||[0,0],b=(!b||"?"==b?"tl-bl?":!/-/.test(b)&&""!==b?"tl-"+b:b||"tl-bl").toLowerCase(),d,g,h,l=Ext.lib.Dom.getViewWidth()-10,n=Ext.lib.Dom.getViewHeight()-10,q,r,s,p=document,v=p.documentElement;s=p.body;p=(v.scrollLeft||s.scrollLeft||0)+5;v=(v.scrollTop||s.scrollTop||0)+5;h=!1;s=q="";h=
b.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!h)throw"Element.alignTo with an invalid alignment "+b;q=h[1];s=h[2];h=!!h[3];d=this.getAnchorXY(q,!0);g=a.getAnchorXY(s,!1);b=g[0]-d[0]+c[0];c=g[1]-d[1]+c[1];h&&(h=this.getWidth(),d=this.getHeight(),a=a.getRegion(),g=q.charAt(0),q=q.charAt(q.length-1),r=s.charAt(0),s=s.charAt(s.length-1),g="t"==g&&"b"==r||"b"==g&&"t"==r,s="r"==q&&"l"==s||"l"==q&&"r"==s,b+h>l+p&&(b=s?a.left-h:l+p-h),b<p&&(b=s?a.right:p),c+d>n+v&&(c=g?a.top-d:n+v-d),c<v&&(c=g?a.bottom:v));return[b,
c]},alignTo:function(a,b,c,d){return this.setXY(this.getAlignToXY(a,b,c),this.preanim&&d?this.preanim(arguments,3):!1)},adjustForConstraints:function(a,b,c){return this.getConstrainToXY(b||document,!1,c,a)||a},getConstrainToXY:function(){var a={top:0,left:0,bottom:0,right:0};return function(b,c,d,g){var b=Ext.get(b),d=d?Ext.applyIf(d,a):a,h,l,n=0,q=0;b.dom==document.body||b.dom==document?(h=Ext.lib.Dom.getViewWidth(),l=Ext.lib.Dom.getViewHeight()):(h=b.dom.clientWidth,l=b.dom.clientHeight,c||(q=b.getXY(),
n=q[0],q=q[1]));b=b.getScroll();n+=d.left+b.left;q+=d.top+b.top;h-=d.right;l-=d.bottom;d=n+h;l=q+l;g=g||(!c?this.getXY():[this.getLeft(!0),this.getTop(!0)]);c=g[0];g=g[1];h=this.dom.offsetWidth;var b=this.dom.offsetHeight,r=!1;c+h>d&&(c=d-h,r=!0);g+b>l&&(g=l-b,r=!0);c<n&&(c=n,r=!0);g<q&&(g=q,r=!0);return r?[c,g]:!1}}(),getCenterXY:function(){return this.getAlignToXY(document,"c-c")},center:function(a){return this.alignTo(a||document,"c-c")}});
Ext.Element.addMethods(function(){var a=Ext.DomQuery,b=Ext.get;return{findParent:function(c,d,g){var h=this.dom,l=document.body,n=0,q;if(Ext.isGecko&&"[object XULElement]"==Object.prototype.toString.call(h))return null;d=d||50;isNaN(d)&&(q=Ext.getDom(d),d=Number.MAX_VALUE);for(;h&&1==h.nodeType&&n<d&&h!=l&&h!=q;){if(a.is(h,c))return g?b(h):h;n++;h=h.parentNode}return null},findParentNode:function(a,b,g){var h=Ext.fly(this.dom.parentNode,"_internal");return h?h.findParent(a,b,g):null},up:function(a,
b){return this.findParentNode(a,b,!0)},select:function(a){return Ext.Element.select(a,this.dom)},query:function(b){return a.select(b,this.dom)},child:function(c,d){var g=a.selectNode(c,this.dom);return d?g:b(g)},down:function(c,d){var g=a.selectNode(" > "+c,this.dom);return d?g:b(g)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},prev:function(a,b){return this.matchNode("previousSibling","previousSibling",
a,b)},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},matchNode:function(c,d,g,h){for(d=this.dom[d];d;){if(1==d.nodeType&&(!g||a.is(d,g)))return!h?b(d):d;d=d[c]}return null}}}());Ext.Element.addMethods({select:function(a,b){return Ext.Element.select(a,b,this.dom)}});
Ext.Element.addMethods(function(){var a=Ext.getDom,b=Ext.get,c=Ext.DomHelper;return{appendChild:function(a){return b(a).appendTo(this)},appendTo:function(b){a(b).appendChild(this.dom);return this},insertBefore:function(b){(b=a(b)).parentNode.insertBefore(this.dom,b);return this},insertAfter:function(b){(b=a(b)).parentNode.insertBefore(this.dom,b.nextSibling);return this},insertFirst:function(c,g){c=c||{};return c.nodeType||c.dom||"string"==typeof c?(c=a(c),this.dom.insertBefore(c,this.dom.firstChild),
!g?b(c):c):this.createChild(c,this.dom.firstChild,g)},replace:function(a){a=b(a);this.insertBefore(a);a.remove();return this},replaceWith:function(b){b.nodeType||b.dom||"string"==typeof b?(b=a(b),this.dom.parentNode.insertBefore(b,this.dom)):b=c.insertBefore(this.dom,b);delete Ext.elCache[this.id];Ext.removeNode(this.dom);this.id=Ext.id(this.dom=b);Ext.Element.addToCache(this.isFlyweight?new Ext.Element(this.dom):this);return this},createChild:function(a,b,h){a=a||{tag:"div"};return b?c.insertBefore(b,
a,!0!==h):c[!this.dom.firstChild?"overwrite":"append"](this.dom,a,!0!==h)},wrap:function(a,b){var h=c.insertBefore(this.dom,a||{tag:"div"},!b);h.dom?h.dom.appendChild(this.dom):h.appendChild(this.dom);return h},insertHtml:function(a,b,h){a=c.insertHtml(a,this.dom,b);return h?Ext.get(a):a}}}());
Ext.apply(Ext.Element.prototype,function(){var a=Ext.getDom,b=Ext.get,c=Ext.DomHelper;return{insertSibling:function(d,g,h){var l,n="after"==(g||"before").toLowerCase(),q;if(Ext.isArray(d))return q=this,Ext.each(d,function(a){l=Ext.fly(q,"_internal").insertSibling(a,g,h);n&&(q=l)}),l;d=d||{};d.nodeType||d.dom?(l=this.dom.parentNode.insertBefore(a(d),n?this.dom.nextSibling:this.dom),h||(l=b(l))):l=n&&!this.dom.nextSibling?c.append(this.dom.parentNode,d,!h):c[n?"insertAfter":"insertBefore"](this.dom,
d,!h);return l}}}());
Ext.Element.addMethods(function(){function a(a,b){return b.charAt(1).toUpperCase()}function b(b){return c[b]||(c[b]="float"==b?h:b.replace(d,a))}var c={},d=/(-[a-z])/gi,g=document.defaultView,h=Ext.isIE?"styleFloat":"cssFloat",l=/alpha\(opacity=(.*)\)/i,n=/^\s+|\s+$/g,q=/\s+/,r=/\w/g,s=Math,p={l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},v={l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},t=Ext.Element.data;return{adjustWidth:function(a){var b="number"==
typeof a;b&&(this.autoBoxAdjust&&!this.isBorderBox())&&(a-=this.getBorderWidth("lr")+this.getPadding("lr"));return b&&0>a?0:a},adjustHeight:function(a){var b="number"==typeof a;b&&(this.autoBoxAdjust&&!this.isBorderBox())&&(a-=this.getBorderWidth("tb")+this.getPadding("tb"));return b&&0>a?0:a},addClass:function(a){var b,c,d,g=[];if(Ext.isArray(a)){b=0;for(c=a.length;b<c;b++)d=a[b],"string"==typeof d&&-1==(" "+this.dom.className+" ").indexOf(" "+d+" ")&&g.push(d);g.length&&(this.dom.className+=" "+
g.join(" "))}else"string"==typeof a&&!this.hasClass(a)&&(this.dom.className+=" "+a);return this},removeClass:function(a){var b,c,d,g;Ext.isArray(a)||(a=[a]);if(this.dom&&this.dom.className){g=this.dom.className.replace(n,"").split(q);b=0;for(d=a.length;b<d;b++)c=a[b],"string"==typeof c&&(c=c.replace(n,""),c=g.indexOf(c),-1!=c&&g.splice(c,1));this.dom.className=g.join(" ")}return this},radioClass:function(a){var b=this.dom.parentNode.childNodes,c,d,g,a=Ext.isArray(a)?a:[a];d=0;for(g=b.length;d<g;d++)(c=
b[d])&&1==c.nodeType&&Ext.fly(c,"_internal").removeClass(a);return this.addClass(a)},toggleClass:function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a)},hasClass:function(a){return a&&-1!=(" "+this.dom.className+" ").indexOf(" "+a+" ")},replaceClass:function(a,b){return this.removeClass(a).addClass(b)},isStyle:function(a,b){return this.getStyle(a)==b},getStyle:g&&g.getComputedStyle?function(a){var c=this.dom,d,h,l,n=Ext.isWebKit;if(c==document)return null;a=b(a);n&&/marginRight/.test(a)&&
(l=this.getStyle("display"),c.style.display="inline-block");a=(d=c.style[a])?d:(h=g.getComputedStyle(c,""))?h[a]:null;n&&("rgba(0, 0, 0, 0)"==a?a="transparent":l&&(c.style.display=l));return a}:function(a){var c=this.dom,d,g;if(c==document)return null;if("opacity"==a){if(c.style.filter.match&&(d=c.style.filter.match(l)))if(a=parseFloat(d[1]),!isNaN(a))return a?a/100:0;return 1}a=b(a);return c.style[a]||((g=c.currentStyle)?g[a]:null)},getColor:function(a,b,c){var a=this.getStyle(a),d="undefined"!=
typeof c?c:"#",g;if(!a||/transparent|inherit/.test(a))return b;/^r/.test(a)?Ext.each(a.slice(4,a.length-1).split(","),function(a){g=parseInt(a,10);d+=(16>g?"0":"")+g.toString(16)}):(a=a.replace("#",""),d+=3==a.length?a.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):a);return 5<d.length?d.toLowerCase():b},setStyle:function(a,c){var d,g;"object"!=typeof a&&(d={},d[a]=c,a=d);for(g in a)c=a[g],"opacity"==g?this.setOpacity(c):this.dom.style[b(g)]=c;return this},setOpacity:function(a,b){var c=this.dom.style;
if(!b||!this.anim)if(Ext.isIE){var d=1>a?"alpha(opacity="+100*a+")":"",g=c.filter.replace(l,"").replace(n,"");c.zoom=1;c.filter=g+(0<g.length?" ":"")+d}else c.opacity=a;else this.anim({opacity:{to:a}},this.preanim(arguments,1),null,0.35,"easeIn");return this},clearOpacity:function(){var a=this.dom.style;Ext.isIE?Ext.isEmpty(a.filter)||(a.filter=a.filter.replace(l,"").replace(n,"")):a.opacity=a["-moz-opacity"]=a["-khtml-opacity"]="";return this},getHeight:function(a){var b=this.dom,c=Ext.isIE&&this.isStyle("display",
"none"),b=s.max(b.offsetHeight,c?0:b.clientHeight)||0,b=!a?b:b-this.getBorderWidth("tb")-this.getPadding("tb");return 0>b?0:b},getWidth:function(a){var b=this.dom,c=Ext.isIE&&this.isStyle("display","none"),b=s.max(b.offsetWidth,c?0:b.clientWidth)||0,b=!a?b:b-this.getBorderWidth("lr")-this.getPadding("lr");return 0>b?0:b},setWidth:function(a,b){a=this.adjustWidth(a);!b||!this.anim?this.dom.style.width=this.addUnits(a):this.anim({width:{to:a}},this.preanim(arguments,1));return this},setHeight:function(a,
b){a=this.adjustHeight(a);!b||!this.anim?this.dom.style.height=this.addUnits(a):this.anim({height:{to:a}},this.preanim(arguments,1));return this},getBorderWidth:function(a){return this.addStyles(a,p)},getPadding:function(a){return this.addStyles(a,v)},clip:function(){var a=this.dom;t(a,"isClipped")||(t(a,"isClipped",!0),t(a,"originalClip",{o:this.getStyle("overflow"),x:this.getStyle("overflow-x"),y:this.getStyle("overflow-y")}),this.setStyle("overflow","hidden"),this.setStyle("overflow-x","hidden"),
this.setStyle("overflow-y","hidden"));return this},unclip:function(){var a=this.dom;t(a,"isClipped")&&(t(a,"isClipped",!1),a=t(a,"originalClip"),a.o&&this.setStyle("overflow",a.o),a.x&&this.setStyle("overflow-x",a.x),a.y&&this.setStyle("overflow-y",a.y));return this},addStyles:function(a,b){var c=0,d=a.match(r),g,h,l=d.length;for(h=0;h<l;h++)(g=(g=d[h])&&parseInt(this.getStyle(b[g]),10))&&(c+=s.abs(g));return c},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"}}}());
Ext.Element.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';
Ext.Element.addMethods(function(){return{applyStyles:function(a){Ext.DomHelper.applyStyles(this.dom,a);return this},getStyles:function(){var a={};Ext.each(arguments,function(b){a[b]=this.getStyle(b)},this);return a},setOverflow:function(a){var b=this.dom;"auto"==a&&Ext.isMac&&Ext.isGecko2?(b.style.overflow="hidden",function(){b.style.overflow="auto"}.defer(1)):b.style.overflow=a},boxWrap:function(a){var a=a||"x-box",b=Ext.get(this.insertHtml("beforeBegin","<div class='"+a+"'>"+String.format(Ext.Element.boxMarkup,
a)+"</div>"));Ext.DomQuery.selectNode("."+a+"-mc",b.dom).appendChild(this.dom);return b},setSize:function(a,b,c){"object"==typeof a&&(b=a.height,a=a.width);a=this.adjustWidth(a);b=this.adjustHeight(b);!c||!this.anim?(this.dom.style.width=this.addUnits(a),this.dom.style.height=this.addUnits(b)):this.anim({width:{to:a},height:{to:b}},this.preanim(arguments,2));return this},getComputedHeight:function(){var a=Math.max(this.dom.offsetHeight,this.dom.clientHeight);a||(a=parseFloat(this.getStyle("height"))||
0,this.isBorderBox()||(a+=this.getFrameWidth("tb")));return a},getComputedWidth:function(){var a=Math.max(this.dom.offsetWidth,this.dom.clientWidth);a||(a=parseFloat(this.getStyle("width"))||0,this.isBorderBox()||(a+=this.getFrameWidth("lr")));return a},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:this.getPadding(a)+this.getBorderWidth(a)},addClassOnOver:function(a){this.hover(function(){Ext.fly(this,"_internal").addClass(a)},function(){Ext.fly(this,"_internal").removeClass(a)});return this},
addClassOnFocus:function(a){this.on("focus",function(){Ext.fly(this,"_internal").addClass(a)},this.dom);this.on("blur",function(){Ext.fly(this,"_internal").removeClass(a)},this.dom);return this},addClassOnClick:function(a){var b=this.dom;this.on("mousedown",function(){Ext.fly(b,"_internal").addClass(a);var c=Ext.getDoc(),d=function(){Ext.fly(b,"_internal").removeClass(a);c.removeListener("mouseup",d)};c.on("mouseup",d)});return this},getViewSize:function(){var a=document,b=this.dom;return b==a||b==
a.body?(a=Ext.lib.Dom,{width:a.getViewWidth(),height:a.getViewHeight()}):{width:b.clientWidth,height:b.clientHeight}},getStyleSize:function(){var a,b,c=document,d=this.dom,g=d.style;if(d==c||d==c.body)return a=Ext.lib.Dom,{width:a.getViewWidth(),height:a.getViewHeight()};g.width&&"auto"!=g.width&&(a=parseFloat(g.width),this.isBorderBox()&&(a-=this.getFrameWidth("lr")));g.height&&"auto"!=g.height&&(b=parseFloat(g.height),this.isBorderBox()&&(b-=this.getFrameWidth("tb")));return{width:a||this.getWidth(!0),
height:b||this.getHeight(!0)}},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},repaint:function(){var a=this.dom;this.addClass("x-repaint");setTimeout(function(){Ext.fly(a).removeClass("x-repaint")},1);return this},unselectable:function(){this.dom.unselectable="on";return this.swallowEvent("selectstart",!0).applyStyles("-moz-user-select:none;-khtml-user-select:none;").addClass("x-unselectable")},getMargins:function(a){var b,c={t:"top",l:"left",r:"right",b:"bottom"},d=
{};if(a)return this.addStyles.call(this,a,this.margins);for(b in this.margins)d[c[b]]=parseFloat(this.getStyle(this.margins[b]))||0;return d}}}());
(function(){var a=Ext.lib.Dom;Ext.Element.addMethods({getX:function(){return a.getX(this.dom)},getY:function(){return a.getY(this.dom)},getXY:function(){return a.getXY(this.dom)},getOffsetsTo:function(a){var c=this.getXY(),a=Ext.fly(a,"_internal").getXY();return[c[0]-a[0],c[1]-a[1]]},setX:function(a,c){return this.setXY([a,this.getY()],this.animTest(arguments,c,1))},setY:function(a,c){return this.setXY([this.getX(),a],this.animTest(arguments,c,1))},setLeft:function(a){this.setStyle("left",this.addUnits(a));
return this},setTop:function(a){this.setStyle("top",this.addUnits(a));return this},setRight:function(a){this.setStyle("right",this.addUnits(a));return this},setBottom:function(a){this.setStyle("bottom",this.addUnits(a));return this},setXY:function(b,c){!c||!this.anim?a.setXY(this.dom,b):this.anim({points:{to:b}},this.preanim(arguments,1),"motion");return this},setLocation:function(a,c,d){return this.setXY([a,c],this.animTest(arguments,d,2))},moveTo:function(a,c,d){return this.setXY([a,c],this.animTest(arguments,
d,2))},getLeft:function(a){return!a?this.getX():parseInt(this.getStyle("left"),10)||0},getRight:function(a){return!a?this.getX()+this.getWidth():this.getLeft(!0)+this.getWidth()||0},getTop:function(a){return!a?this.getY():parseInt(this.getStyle("top"),10)||0},getBottom:function(a){return!a?this.getY()+this.getHeight():this.getTop(!0)+this.getHeight()||0},position:function(a,c,d,g){!a&&this.isStyle("position","static")?this.setStyle("position","relative"):a&&this.setStyle("position",a);c&&this.setStyle("z-index",
c);if(d||g)this.setXY([d||!1,g||!1])},clearPositioning:function(a){a=a||"";this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:"static"});return this},getPositioning:function(){var a=this.getStyle("left"),c=this.getStyle("top");return{position:this.getStyle("position"),left:a,right:a?"":this.getStyle("right"),top:c,bottom:c?"":this.getStyle("bottom"),"z-index":this.getStyle("z-index")}},setPositioning:function(a){var c=this.dom.style;this.setStyle(a);"auto"==a.right&&(c.right="");"auto"==
a.bottom&&(c.bottom="");return this},translatePoints:function(a,c){var c=isNaN(a[1])?c:a[1],a=isNaN(a[0])?a:a[0],d=this.isStyle("position","relative"),g=this.getXY(),h=parseInt(this.getStyle("left"),10),l=parseInt(this.getStyle("top"),10),h=!isNaN(h)?h:d?0:this.dom.offsetLeft,l=!isNaN(l)?l:d?0:this.dom.offsetTop;return{left:a-g[0]+h,top:c-g[1]+l}},animTest:function(a,c,d){return c&&this.preanim?this.preanim(a,d):!1}})})();
Ext.Element.addMethods({setBox:function(a,b,c){var d=a.width,g=a.height;b&&!this.autoBoxAdjust&&!this.isBorderBox()&&(d-=this.getBorderWidth("lr")+this.getPadding("lr"),g-=this.getBorderWidth("tb")+this.getPadding("tb"));this.setBounds(a.x,a.y,d,g,this.animTest.call(this,arguments,c,2));return this},getBox:function(a,b){var c,d,g=this.getBorderWidth,h=this.getPadding,l,n,q;b?(c=parseInt(this.getStyle("left"),10)||0,d=parseInt(this.getStyle("top"),10)||0,c=[c,d]):c=this.getXY();l=this.dom;d=l.offsetWidth;
var r=l.offsetHeight;a?(l=g.call(this,"l")+h.call(this,"l"),n=g.call(this,"r")+h.call(this,"r"),q=g.call(this,"t")+h.call(this,"t"),g=g.call(this,"b")+h.call(this,"b"),g={x:c[0]+l,y:c[1]+q,"0":c[0]+l,1:c[1]+q,width:d-(l+n),height:r-(q+g)}):g={x:c[0],y:c[1],"0":c[0],1:c[1],width:d,height:r};g.right=g.x+g.width;g.bottom=g.y+g.height;return g},move:function(a,b,c){var d=this.getXY(),g=d[0],h=d[1],d=[g-b,h],l=[g+b,h],n=[g,h-b],g=[g,h+b],g={l:d,left:d,r:l,right:l,t:n,top:n,up:n,b:g,bottom:g,down:g},a=
a.toLowerCase();this.moveTo(g[a][0],g[a][1],this.animTest.call(this,arguments,c,2))},setLeftTop:function(a,b){var c=this.dom.style;c.left=this.addUnits(a);c.top=this.addUnits(b);return this},getRegion:function(){return Ext.lib.Dom.getRegion(this.dom)},setBounds:function(a,b,c,d,g){!g||!this.anim?(this.setSize(c,d),this.setLocation(a,b)):this.anim({points:{to:[a,b]},width:{to:this.adjustWidth(c)},height:{to:this.adjustHeight(d)}},this.preanim(arguments,4),"motion");return this},setRegion:function(a,
b){return this.setBounds(a.left,a.top,a.right-a.left,a.bottom-a.top,this.animTest.call(this,arguments,b,1))}});
Ext.Element.addMethods({isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},scrollTo:function(a,b){this.dom["scroll"+(/top/i.test(a)?"Top":"Left")]=b;return this},getScroll:function(){var a=this.dom,b=document,c=b.body,d=b.documentElement;a==b||a==c?(Ext.isIE&&Ext.isStrict?(a=d.scrollLeft,d=d.scrollTop):(a=window.pageXOffset,d=window.pageYOffset),c={left:a||(c?c.scrollLeft:0),top:d||(c?c.scrollTop:0)}):c={left:a.scrollLeft,top:a.scrollTop};return c}});
Ext.Element.addMethods({scrollTo:function(a,b,c){var d=/top/i.test(a),g=this.dom,h;!c||!this.anim?g["scroll"+(d?"Top":"Left")]=b:(h="scroll"+(d?"Left":"Top"),this.anim({scroll:{to:d?[g[h],b]:[b,g[h]]}},this.preanim(arguments,2),"scroll"));return this},scrollIntoView:function(a,b){var c=Ext.getDom(a)||Ext.getBody().dom,d=this.dom,g=this.getOffsetsTo(c),h=g[0]+c.scrollLeft,g=g[1]+c.scrollTop,l=g+d.offsetHeight,n=h+d.offsetWidth,q=c.clientHeight,r=parseInt(c.scrollTop,10),s=parseInt(c.scrollLeft,10),
p=s+c.clientWidth;d.offsetHeight>q||g<r?c.scrollTop=g:l>r+q&&(c.scrollTop=l-q);c.scrollTop=c.scrollTop;!1!==b&&(d.offsetWidth>c.clientWidth||h<s?c.scrollLeft=h:n>p&&(c.scrollLeft=n-c.clientWidth),c.scrollLeft=c.scrollLeft);return this},scrollChildIntoView:function(a,b){Ext.fly(a,"_scrollChildIntoView").scrollIntoView(this,b)},scroll:function(a,b,c){if(this.isScrollable()){var d=this.dom,g=d.scrollLeft,h=d.scrollTop,l=d.scrollHeight,n=d.clientHeight,q=!1,d={l:Math.min(g+b,d.scrollWidth-d.clientWidth),
r:Math.max(g-b,0),t:Math.max(h-b,0),b:Math.min(h+b,l-n)};d.d=d.b;d.u=d.t;a=a.substr(0,1);if(-1<(d=d[a]))q=!0,this.scrollTo("l"==a||"r"==a?"left":"top",d,this.preanim(arguments,2));return q}}});Ext.Element.VISIBILITY=1;Ext.Element.DISPLAY=2;
Ext.Element.addMethods(function(){var a=Ext.Element.DISPLAY,b=Ext.Element.data,c=function(a){var c=b(a,"originalDisplay");void 0===c&&b(a,"originalDisplay",c="");return c};return{originalDisplay:"",visibilityMode:1,setVisibilityMode:function(a){b(this.dom,"visibilityMode",a);return this},animate:function(a,b,c,l,n){this.anim(a,{duration:b,callback:c,easing:l},n);return this},anim:function(a,b,c,l,n,q){var b=b||{},r=this,a=Ext.lib.Anim[c||"run"](r.dom,a,b.duration||l||0.35,b.easing||n||"easeOut",function(){q&&
q.call(r);b.callback&&b.callback.call(b.scope||r,r,b)},r);return b.anim=a},preanim:function(a,b){return!a[b]?!1:"object"==typeof a[b]?a[b]:{duration:a[b+1],callback:a[b+2],easing:a[b+3]}},isVisible:function(){return!this.isStyle("visibility","hidden")&&!this.isStyle("display","none")},setVisible:function(c,g){var h,l,n=this.dom;if("string"==typeof g)h="display"==g,l="offsets"==g,g=!1;else{var q=this.dom,r=b(q,"visibilityMode");void 0===r&&b(q,"visibilityMode",r=1);h=r==a}!g||!this.anim?h?this.setDisplayed(c):
l?c?this.applyStyles(this.hideModeStyles||{position:"",top:"",left:""}):(this.hideModeStyles={position:this.getStyle("position"),top:this.getStyle("top"),left:this.getStyle("left")},this.applyStyles({position:"absolute",top:"-10000px",left:"-10000px"})):(this.fixDisplay(),n.style.visibility=c?"visible":"hidden"):(c&&(this.setOpacity(0.01),this.setVisible(!0)),this.anim({opacity:{to:c?1:0}},this.preanim(arguments,1),null,0.35,"easeIn",function(){c||(n.style[h?"display":"visibility"]=h?"none":"hidden",
Ext.fly(n).setOpacity(1))}));return this},toggle:function(a){this.setVisible(!this.isVisible(),this.preanim(arguments,0));return this},setDisplayed:function(a){"boolean"==typeof a&&(a=a?c(this.dom):"none");this.setStyle("display",a);return this},fixDisplay:function(){this.isStyle("display","none")&&(this.setStyle("visibility","hidden"),this.setStyle("display",c(this.dom)),this.isStyle("display","none")&&this.setStyle("display","block"))},hide:function(a){if("string"==typeof a)return this.setVisible(!1,
a),this;this.setVisible(!1,this.preanim(arguments,0));return this},show:function(a){if("string"==typeof a)return this.setVisible(!0,a),this;this.setVisible(!0,this.preanim(arguments,0));return this}}}());
Ext.Element.addMethods(function(){var a=Ext.Element.data;return{isVisible:function(a){var c=!this.isStyle("visibility","hidden")&&!this.isStyle("display","none"),d=this.dom.parentNode;if(!0!==a||!c)return c;for(;d&&!/^body/i.test(d.tagName);){if(!Ext.fly(d,"_isVisible").isVisible())return!1;d=d.parentNode}return!0},isDisplayed:function(){return!this.isStyle("display","none")},enableDisplayMode:function(b){this.setVisibilityMode(Ext.Element.DISPLAY);Ext.isEmpty(b)||a(this.dom,"originalDisplay",b);
return this},mask:function(b,c){var d=this.dom,g=Ext.DomHelper,h;!/^body/i.test(d.tagName)&&"static"==this.getStyle("position")&&this.addClass("x-masked-relative");(h=a(d,"maskMsg"))&&h.remove();(h=a(d,"mask"))&&h.remove();h=g.append(d,{cls:"ext-el-mask"},!0);a(d,"mask",h);this.addClass("x-masked");h.setDisplayed(!0);"string"==typeof b&&(g=g.append(d,{cls:"ext-el-mask-msg",cn:{tag:"div"}},!0),a(d,"maskMsg",g),g.dom.className=c?"ext-el-mask-msg "+c:"ext-el-mask-msg",g.dom.firstChild.innerHTML=b,g.setDisplayed(!0),
g.center(this));Ext.isIE&&((!Ext.isIE7||!Ext.isStrict)&&"auto"==this.getStyle("height"))&&h.setSize(void 0,this.getHeight());return h},unmask:function(){var b=this.dom,c=a(b,"mask"),d=a(b,"maskMsg");c&&(d&&(d.remove(),a(b,"maskMsg",void 0)),c.remove(),a(b,"mask",void 0));this.removeClass(["x-masked","x-masked-relative"])},isMasked:function(){var b=a(this.dom,"mask");return b&&b.isVisible()},createShim:function(){var a=document.createElement("iframe");a.frameBorder="0";a.className="ext-shim";a.src=
Ext.SSL_SECURE_URL;a=Ext.get(this.dom.parentNode.insertBefore(a,this.dom));a.autoBoxAdjust=!1;return a}}}());Ext.Element.addMethods({addKeyListener:function(a,b,c){a="object"!=typeof a||Ext.isArray(a)?{key:a,fn:b,scope:c}:{key:a.key,shift:a.shift,ctrl:a.ctrl,alt:a.alt,fn:b,scope:c};return new Ext.KeyMap(this,a)},addKeyMap:function(a){return new Ext.KeyMap(this,a)}});
(function(){var a=!1,b=new Ext.Element.Flyweight,c={},d=function(a){b.dom=a;b.id=Ext.id(a);return b},g=function(a){c[a]||(c[a]=[]);return c[a]};Ext.enableFx=!0;Ext.Fx={switchStatements:function(a,b,c){return b.apply(this,c[a])},slideIn:function(a,b){var c,g,r,s,p,v,b=b||{},t=this.dom,A=t.style,w,C,z,D,G,E,F,a=a||"t";this.queueFx(b,function(){w=d(t).getXY();d(t).fixDisplay();C=d(t).getFxRestore();c=w[0];g=w[1];r=t.offsetWidth;s=t.offsetHeight;v=p=void 0;p=c+r;v=g+s;d(t).setWidth(r).setHeight(s);z=
d(t).fxWrap(C.pos,b,"hidden");A.visibility="visible";A.position="absolute";G={to:[c,g]};E={to:r};F={to:s};D=d(t).switchStatements(a.toLowerCase(),function(a,b,c,g,h,l,n,p,q,r,s){var v={};d(a).setWidth(c).setHeight(g);if(d(a)[h])d(a)[h](l);b[n]=b[p]="0";q&&(v.width=q);r&&(v.height=r);s&&(v.points=s);return v},{t:[z,A,r,0,null,null,"left","bottom",null,F,null],l:[z,A,0,s,null,null,"right","top",E,null,null],r:[z,A,r,s,"setX",p,"left","top",null,null,G],b:[z,A,r,s,"setY",v,"left","top",null,F,G],tl:[z,
A,0,0,null,null,"right","bottom",E,F,G],bl:[z,A,0,0,"setY",g+s,"right","top",E,F,G],br:[z,A,0,0,"setXY",[p,v],"left","top",E,F,G],tr:[z,A,0,0,"setX",c+r,"left","bottom",E,F,G]});A.visibility="visible";d(z).show();arguments.callee.anim=d(z).fxanim(D,b,"motion",0.5,"easeOut",function(){d(t).fxUnwrap(z,C.pos,b);A.width=C.width;A.height=C.height;d(t).afterFx(b)})});return this},slideOut:function(b,c){var g,q,r,s,p,v,c=c||{},t=this.dom,A=t.style,w=this.getXY(),C,z,D,G={to:0},b=b||"t";this.queueFx(c,function(){z=
d(t).getFxRestore();g=w[0];q=w[1];r=t.offsetWidth;s=t.offsetHeight;v=p=void 0;p=g+r;v=q+s;d(t).setWidth(r).setHeight(s);C=d(t).fxWrap(z.pos,c,"visible");A.visibility="visible";A.position="absolute";d(C).setWidth(r).setHeight(s);D=d(t).switchStatements(b.toLowerCase(),function(a,b,c,d,g,h,l,n,p){var q={};a[b]=a[c]="0";q[d]=g;h&&(q[h]=l);n&&(q[n]=p);return q},{t:[A,"left","bottom","height",G],l:[A,"right","top","width",G],r:[A,"left","top","width",G,"points",{to:[p,q]}],b:[A,"left","top","height",G,
"points",{to:[g,v]}],tl:[A,"right","bottom","width",G,"height",G],bl:[A,"right","top","width",G,"height",G,"points",{to:[g,v]}],br:[A,"left","top","width",G,"height",G,"points",{to:[g+r,v]}],tr:[A,"left","bottom","width",G,"height",G,"points",{to:[p,q]}]});arguments.callee.anim=d(C).fxanim(D,c,"motion",0.5,"easeOut",function(){c.useDisplay?d(t).setDisplayed(a):d(t).hide();d(t).fxUnwrap(C,z.pos,c);A.width=z.width;A.height=z.height;d(t).afterFx(c)})});return this},puff:function(b){var b=b||{},c=this.dom,
g=c.style,q,r,s;this.queueFx(b,function(){q=d(c).getWidth();r=d(c).getHeight();d(c).clearOpacity();d(c).show();s=d(c).getFxRestore();arguments.callee.anim=d(c).fxanim({width:{to:d(c).adjustWidth(2*q)},height:{to:d(c).adjustHeight(2*r)},points:{by:[0.5*-q,0.5*-r]},opacity:{to:0},fontSize:{to:200,unit:"%"}},b,"motion",0.5,"easeOut",function(){b.useDisplay?d(c).setDisplayed(a):d(c).hide();d(c).clearOpacity();d(c).setPositioning(s.pos);g.width=s.width;g.height=s.height;g.fontSize="";d(c).afterFx(b)})});
return this},switchOff:function(b){var b=b||{},c=this.dom,g=c.style,q;this.queueFx(b,function(){function r(){b.useDisplay?d(c).setDisplayed(a):d(c).hide();d(c).clearOpacity();d(c).setPositioning(q.pos);g.width=q.width;g.height=q.height;d(c).afterFx(b)}d(c).clearOpacity();d(c).clip();q=d(c).getFxRestore();d(c).fxanim({opacity:{to:0.3}},null,null,0.1,null,function(){d(c).clearOpacity();(function(){d(c).fxanim({height:{to:1},points:{by:[0,0.5*d(c).getHeight()]}},b,"motion",0.3,"easeIn",r)}).defer(100)})});
return this},highlight:function(a,b){var b=b||{},c=this.dom,g=b.attr||"backgroundColor",r={},s;this.queueFx(b,function(){d(c).clearOpacity();d(c).show();s=c.style[g];r[g]={from:a||"ffff9c",to:b.endColor||d(c).getColor(g)||"ffffff"};arguments.callee.anim=d(c).fxanim(r,b,"color",1,"easeIn",function(){c.style[g]=s;d(c).afterFx(b)})});return this},frame:function(a,b,c){var c=c||{},g=this.dom,r,s;this.queueFx(c,function(){function p(){var a=Ext.isBorderBox?2:1;s=r.anim({top:{from:t.y,to:t.y-20},left:{from:t.x,
to:t.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:t.height,to:t.height+20*a},width:{from:t.width,to:t.width+20*a}},{duration:c.duration||1,callback:function(){r.remove();0<--b?A():d(g).afterFx(c)}});arguments.callee.anim={isAnimated:!0,stop:function(){s.stop()}}}a=a||"#C3DAF9";6==a.length&&(a="#"+a);b=b||1;d(g).show();var v=d(g).getXY(),t={x:v[0],y:v[1],"0":v[0],1:v[1],width:g.offsetWidth,height:g.offsetHeight},A=function(){r=d(document.body||document.documentElement).createChild({style:{position:"absolute",
"z-index":35E3,border:"0px solid "+a}});return r.queueFx({},p)};arguments.callee.anim={isAnimated:!0,stop:function(){b=0;r.stopFx()}};A()});return this},pause:function(a){var b=this.dom,c;this.queueFx({},function(){c=setTimeout(function(){d(b).afterFx({})},1E3*a);arguments.callee.anim={isAnimated:!0,stop:function(){clearTimeout(c);d(b).afterFx({})}}});return this},fadeIn:function(a){var a=a||{},b=this.dom,c=a.endOpacity||1;this.queueFx(a,function(){d(b).setOpacity(0);d(b).fixDisplay();b.style.visibility=
"visible";arguments.callee.anim=d(b).fxanim({opacity:{to:c}},a,null,0.5,"easeOut",function(){1==c&&d(b).clearOpacity();d(b).afterFx(a)})});return this},fadeOut:function(a){var a=a||{},b=this.dom,c=b.style,g=a.endOpacity||0;this.queueFx(a,function(){arguments.callee.anim=d(b).fxanim({opacity:{to:g}},a,null,0.5,"easeOut",function(){0==g&&(Ext.Element.data(b,"visibilityMode")==Ext.Element.DISPLAY||a.useDisplay?c.display="none":c.visibility="hidden",d(b).clearOpacity());d(b).afterFx(a)})});return this},
scale:function(a,b,c){this.shift(Ext.apply({},c,{width:a,height:b}));return this},shift:function(a){var a=a||{},b=this.dom,c={};this.queueFx(a,function(){for(var g in a)void 0!=a[g]&&(c[g]={to:a[g]});c.width?c.width.to=d(b).adjustWidth(a.width):c;c.height?c.height.to=d(b).adjustWidth(a.height):c;if(c.x||c.y||c.xy)c.points=c.xy||{to:[c.x?c.x.to:d(b).getX(),c.y?c.y.to:d(b).getY()]};arguments.callee.anim=d(b).fxanim(c,a,"motion",0.35,"easeOut",function(){d(b).afterFx(a)})});return this},ghost:function(b,
c){var c=c||{},g=this.dom,q=g.style,r={opacity:{to:0},points:{}},s=r.points,p,v,t,b=b||"b";this.queueFx(c,function(){p=d(g).getFxRestore();v=d(g).getWidth();t=d(g).getHeight();s.by=d(g).switchStatements(b.toLowerCase(),function(a,b){return[a,b]},{t:[0,-t],l:[-v,0],r:[v,0],b:[0,t],tl:[-v,-t],bl:[-v,t],br:[v,t],tr:[v,-t]});arguments.callee.anim=d(g).fxanim(r,c,"motion",0.5,"easeOut",function(){c.useDisplay?d(g).setDisplayed(a):d(g).hide();d(g).clearOpacity();d(g).setPositioning(p.pos);q.width=p.width;
q.height=p.height;d(g).afterFx(c)})});return this},syncFx:function(){this.fxDefaults=Ext.apply(this.fxDefaults||{},{block:a,concurrent:!0,stopFx:a});return this},sequenceFx:function(){this.fxDefaults=Ext.apply(this.fxDefaults||{},{block:a,concurrent:a,stopFx:a});return this},nextFx:function(){var a=g(this.dom.id)[0];a&&a.call(this)},hasActiveFx:function(){return g(this.dom.id)[0]},stopFx:function(a){var b=this.dom.id;if(this.hasActiveFx()){var d=g(b)[0];d&&d.anim&&(d.anim.isAnimated?(c[b]=[d],d.anim.stop(void 0!==
a?a:!0)):c[b]=[])}return this},beforeFx:function(b){return this.hasActiveFx()&&!b.concurrent?b.stopFx?(this.stopFx(),!0):a:!0},hasFxBlock:function(){var a=g(this.dom.id);return a&&a[0]&&a[0].block},queueFx:function(a,b){var c=d(this.dom);if(!c.hasFxBlock())if(Ext.applyIf(a,c.fxDefaults),a.concurrent)b.call(c);else{var q=c.beforeFx(a);b.block=a.block;g(c.dom.id).push(b);q&&c.nextFx()}return c},fxWrap:function(a,b,c){var g=this.dom,r,s;if(!b.wrap||!(r=Ext.getDom(b.wrap)))b.fixPosition&&(s=d(g).getXY()),
b=document.createElement("div"),b.style.visibility=c,r=g.parentNode.insertBefore(b,g),d(r).setPositioning(a),d(r).isStyle("position","static")&&d(r).position("relative"),d(g).clearPositioning("auto"),d(r).clip(),r.appendChild(g),s&&d(r).setXY(s);return r},fxUnwrap:function(a,b,c){var g=this.dom;d(g).clearPositioning();d(g).setPositioning(b);c.wrap||(d(a).dom.parentNode.insertBefore(g,a),d(a).remove())},getFxRestore:function(){var a=this.dom.style;return{pos:this.getPositioning(),width:a.width,height:a.height}},
afterFx:function(a){var b=this.dom,c=b.id;a.afterStyle&&d(b).setStyle(a.afterStyle);a.afterCls&&d(b).addClass(a.afterCls);!0==a.remove&&d(b).remove();a.callback&&a.callback.call(a.scope,d(b));a.concurrent||(g(c).shift(),d(b).nextFx())},fxanim:function(a,b,c,d,g,s){b=b||{};a=Ext.lib.Anim[c||"run"](this.dom,a,b.duration||d||0.35,b.easing||g||"easeOut",s,this);return b.anim=a}};Ext.Fx.resize=Ext.Fx.scale;Ext.Element.addMethods(Ext.Fx)})();
Ext.CompositeElementLite=function(a,b){this.elements=[];this.add(a,b);this.el=new Ext.Element.Flyweight};
Ext.CompositeElementLite.prototype={isComposite:!0,getElement:function(a){var b=this.el;b.dom=a;b.id=a.id;return b},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(a,b){var c=this.elements;if(!a)return this;"string"==typeof a?a=Ext.Element.selectorFunction(a,b):a.isComposite?a=a.elements:Ext.isIterable(a)||(a=[a]);for(var d=0,g=a.length;d<g;++d)c.push(this.transformElement(a[d]));return this},invoke:function(a,b){var c=this.elements,
d=c.length,g,h;for(h=0;h<d;h++)(g=c[h])&&Ext.Element.prototype[a].apply(this.getElement(g),b);return this},item:function(a){var a=this.elements[a],b=null;a&&(b=this.getElement(a));return b},addListener:function(a,b,c,d){var g=this.elements,h=g.length,l,n;for(l=0;l<h;l++)if(n=g[l])Ext.EventManager.on(n,a,b,c||n,d);return this},each:function(a,b){var c=this.elements,d=c.length,g,h;for(g=0;g<d;g++)if(h=c[g])if(h=this.getElement(h),!1===a.call(b||h,h,this,g))break;return this},fill:function(a){this.elements=
[];this.add(a);return this},filter:function(a){var b=[],c=this,d=Ext.isFunction(a)?a:function(b){return b.is(a)};c.each(function(a,h,l){!1!==d(a,l)&&(b[b.length]=c.transformElement(a))});c.elements=b;return c},indexOf:function(a){return this.elements.indexOf(this.transformElement(a))},replaceElement:function(a,b,c){a=!isNaN(a)?a:this.indexOf(a);-1<a&&(b=Ext.getDom(b),c&&(c=this.elements[a],c.parentNode.insertBefore(b,c),Ext.removeNode(c)),this.elements.splice(a,1,b));return this},clear:function(){this.elements=
[]}};Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener;(function(){var a,b=Ext.Element.prototype,c=Ext.CompositeElementLite.prototype;for(a in b)Ext.isFunction(b[a])&&function(a){c[a]=c[a]||function(){return this.invoke(a,arguments)}}.call(c,a)})();Ext.DomQuery&&(Ext.Element.selectorFunction=Ext.DomQuery.select);
Ext.Element.select=function(a,b){var c;if("string"==typeof a)c=Ext.Element.selectorFunction(a,b);else if(void 0!==a.length)c=a;else throw"Invalid selector";return new Ext.CompositeElementLite(c)};Ext.select=Ext.Element.select;
Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(a,b){if(!a)return this;"string"==typeof a&&(a=Ext.Element.selectorFunction(a,b));var c=this.elements;Ext.each(a,function(a){c.push(Ext.get(a))});return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return-1!=this.indexOf(a)},removeElement:function(a,b){var c=this,d=this.elements,g;Ext.each(a,function(a){if(g=d[a]||d[a=c.indexOf(a)])b&&(g.dom?g.remove():Ext.removeNode(g)),
d.splice(a,1)});return this}});Ext.CompositeElement=Ext.extend(Ext.CompositeElementLite,{constructor:function(a,b){this.elements=[];this.add(a,b)},getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}});Ext.Element.select=function(a,b,c){if("string"==typeof a)a=Ext.Element.selectorFunction(a,c);else if(void 0===a.length)throw"Invalid selector";return!0===b?new Ext.CompositeElement(a):new Ext.CompositeElementLite(a)};Ext.select=Ext.Element.select;
(function(){var a="requestcomplete",b="load",c=window;Ext.data.Connection=function(b){Ext.apply(this,b);this.addEvents("beforerequest",a,"requestexception");Ext.data.Connection.superclass.constructor.call(this)};Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:3E4,autoAbort:!1,disableCaching:!0,disableCachingParam:"_dc",request:function(a){if(this.fireEvent("beforerequest",this,a)){a.el&&(Ext.isEmpty(a.indicatorText)||(this.indicatorText='<div class="loading-indicator">'+a.indicatorText+
"</div>"),this.indicatorText&&(Ext.getDom(a.el).innerHTML=this.indicatorText),a.success=(Ext.isFunction(a.success)?a.success:function(){}).createInterceptor(function(b){Ext.getDom(a.el).innerHTML=b.responseText}));var b=a.params,h=a.url||this.url,l,n={success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{options:a},timeout:a.timeout||this.timeout};Ext.isFunction(b)&&(b=b.call(a.scope||c,a));b=Ext.urlEncode(this.extraParams,Ext.isObject(b)?Ext.urlEncode(b):b);Ext.isFunction(h)&&
(h=h.call(a.scope||c,a));if(l=Ext.getDom(a.form)){h=h||l.action;if(a.isUpload||/multipart\/form-data/i.test(l.getAttribute("enctype")))return this.doFormUpload.call(this,a,b,h);l=Ext.lib.Ajax.serializeForm(l);b=b?b+"&"+l:l}l=a.method||this.method||(b||a.xmlData||a.jsonData?"POST":"GET");if("GET"===l&&this.disableCaching&&!1!==a.disableCaching||!0===a.disableCaching)h=Ext.urlAppend(h,(a.disableCachingParam||this.disableCachingParam)+"="+(new Date).getTime());a.headers=Ext.apply(a.headers||{},this.defaultHeaders||
{});(!0===a.autoAbort||this.autoAbort)&&this.abort();if(("GET"==l||a.xmlData||a.jsonData)&&b)h=Ext.urlAppend(h,b),b="";return this.transId=Ext.lib.Ajax.request(l,h,n,b,a)}return a.callback?a.callback.apply(a.scope,[a,void 0,void 0]):null},isLoading:function(a){return a?Ext.lib.Ajax.isCallInProgress(a):!!this.transId},abort:function(a){if(a||this.isLoading())Ext.lib.Ajax.abort(a||this.transId)},handleResponse:function(b){this.transId=!1;var c=b.argument.options;b.argument=c?c.argument:null;this.fireEvent(a,
this,b,c);c.success&&c.success.call(c.scope,b,c);c.callback&&c.callback.call(c.scope,c,!0,b)},handleFailure:function(a,b){this.transId=!1;var c=a.argument.options;a.argument=c?c.argument:null;this.fireEvent("requestexception",this,a,c,b);c.failure&&c.failure.call(c.scope,a,c);c.callback&&c.callback.call(c.scope,c,!1,a)},doFormUpload:function(d,g,h){function l(){var g={responseText:"",responseXML:null,argument:d.argument},h,p;try{if(h=r.contentWindow.document||r.contentDocument||c.frames[n].document)h.body&&
(g.responseText=/textarea/i.test((p=h.body.firstChild||{}).tagName)?p.value:h.body.innerHTML),g.responseXML=h.XMLDocument||h}catch(q){}Ext.EventManager.removeListener(r,b,l,this);this.fireEvent(a,this,g,d);h=d.success;p=d.scope;var s=[g,d];Ext.isFunction(h)&&h.apply(p,s);h=d.callback;p=d.scope;g=[d,!0,g];Ext.isFunction(h)&&h.apply(p,g);this.debugUploads||setTimeout(function(){Ext.removeNode(r)},100)}var n=Ext.id(),q=document,r=q.createElement("iframe"),s=Ext.getDom(d.form),p=[],v,t={target:s.target,
method:s.method,encoding:s.encoding,enctype:s.enctype,action:s.action};Ext.fly(r).set({id:n,name:n,cls:"x-hidden",src:Ext.SSL_SECURE_URL});q.body.appendChild(r);Ext.isIE&&(document.frames[n].name=n);Ext.fly(s).set({target:n,method:"POST",enctype:"multipart/form-data",encoding:"multipart/form-data",action:h||t.action});Ext.iterate(Ext.urlDecode(g,!1),function(a,b){v=q.createElement("input");Ext.fly(v).set({type:"hidden",value:b,name:a});s.appendChild(v);p.push(v)});Ext.EventManager.on(r,b,l,this);
s.submit();Ext.fly(s).set(t);Ext.each(p,function(a){Ext.removeNode(a)})}})})();Ext.Ajax=new Ext.data.Connection({autoAbort:!1,serializeForm:function(a){return Ext.lib.Ajax.serializeForm(a)}});
Ext.UpdateManager=Ext.Updater=Ext.extend(Ext.util.Observable,function(){function a(a){this.transaction=null;if(a.argument.form&&a.argument.reset)try{a.argument.form.reset()}catch(c){}this.loadScripts?this.renderer.render(this.el,a,this,b.createDelegate(this,[a])):(this.renderer.render(this.el,a,this),b.call(this,a))}function b(a,b,c){this.fireEvent(b||d,this.el,a);Ext.isFunction(a.argument.callback)&&a.argument.callback.call(a.argument.scope,this.el,Ext.isEmpty(c)?!0:!1,a,a.argument.options)}function c(a){b.call(this,
a,g,!!(this.transaction=null))}var d="update",g="failure";return{constructor:function(a,b){a=Ext.get(a);if(!b&&a.updateManager)return a.updateManager;this.el=a;this.defaultUrl=null;this.addEvents("beforeupdate",d,g);Ext.apply(this,Ext.Updater.defaults);this.transaction=null;this.refreshDelegate=this.refresh.createDelegate(this);this.updateDelegate=this.update.createDelegate(this);this.formUpdateDelegate=(this.formUpdate||function(){}).createDelegate(this);this.renderer=this.renderer||this.getDefaultRenderer();
Ext.Updater.superclass.constructor.call(this)},setRenderer:function(a){this.renderer=a},getRenderer:function(){return this.renderer},getDefaultRenderer:function(){return new Ext.Updater.BasicRenderer},setDefaultUrl:function(a){this.defaultUrl=a},getEl:function(){return this.el},update:function(b,d,g,q){var r,s;!1!==this.fireEvent("beforeupdate",this.el,b,d)&&(Ext.isObject(b)&&(r=b,b=r.url,d=d||r.params,g=g||r.callback,q=q||r.discardUrl,s=r.scope,Ext.isEmpty(r.nocache)||(this.disableCaching=r.nocache),
Ext.isEmpty(r.text)||(this.indicatorText='<div class="loading-indicator">'+r.text+"</div>"),Ext.isEmpty(r.scripts)||(this.loadScripts=r.scripts),Ext.isEmpty(r.timeout)||(this.timeout=r.timeout)),this.showLoading(),q||(this.defaultUrl=b),Ext.isFunction(b)&&(b=b.call(this)),b=Ext.apply({},{url:b,params:Ext.isFunction(d)&&s?d.createDelegate(s):d,success:a,failure:c,scope:this,callback:void 0,timeout:1E3*this.timeout,disableCaching:this.disableCaching,argument:{options:r,url:b,form:null,callback:g,scope:s||
window,params:d}},r),this.transaction=Ext.Ajax.request(b))},formUpdate:function(b,d,g,q){!1!==this.fireEvent("beforeupdate",this.el,b,d)&&(Ext.isFunction(d)&&(d=d.call(this)),b=Ext.getDom(b),this.transaction=Ext.Ajax.request({form:b,url:d,success:a,failure:c,scope:this,timeout:1E3*this.timeout,argument:{url:d,form:b,callback:q,reset:g}}),this.showLoading.defer(1,this))},startAutoRefresh:function(a,b,c,d,g){g&&this.update(b||this.defaultUrl,c,d,!0);this.autoRefreshProcId&&clearInterval(this.autoRefreshProcId);
this.autoRefreshProcId=setInterval(this.update.createDelegate(this,[b||this.defaultUrl,c,d,!0]),1E3*a)},stopAutoRefresh:function(){this.autoRefreshProcId&&(clearInterval(this.autoRefreshProcId),delete this.autoRefreshProcId)},isAutoRefreshing:function(){return!!this.autoRefreshProcId},showLoading:function(){this.showLoadIndicator&&(this.el.dom.innerHTML=this.indicatorText)},abort:function(){this.transaction&&Ext.Ajax.abort(this.transaction)},isUpdating:function(){return this.transaction?Ext.Ajax.isLoading(this.transaction):
!1},refresh:function(a){this.defaultUrl&&this.update(this.defaultUrl,null,a,!0)}}}());Ext.Updater.defaults={timeout:30,disableCaching:!1,showLoadIndicator:!0,indicatorText:'<div class="loading-indicator">Loading...</div>',loadScripts:!1,sslBlankUrl:Ext.SSL_SECURE_URL};Ext.Updater.updateElement=function(a,b,c,d){a=Ext.get(a).getUpdater();Ext.apply(a,d);a.update(b,c,d?d.callback:null)};Ext.Updater.BasicRenderer=function(){};
Ext.Updater.BasicRenderer.prototype={render:function(a,b,c,d){a.update(b.responseText,c.loadScripts,d)}};
(function(){function a(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})}Date.useStrict=!1;Date.formatCodeToRegex=function(b,d){var g=Date.parseCodes[b];g&&(g="function"==typeof g?g():g,Date.parseCodes[b]=g);return g?Ext.applyIf({c:g.c?a(g.c,d||"{0}"):g.c},g):{g:0,c:null,s:Ext.escapeRe(b)}};var b=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{M$:function(a){return(a=(a||"").match(/\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\//))?new Date(1*
((a[1]||"")+a[2])):null}},parseRegexes:[],formatFunctions:{M$:function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"January February March April May June July August September October November December".split(" "),monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(a){return Date.monthNames[a].substring(0,
3)},getShortDayName:function(a){return Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatCodes:{d:"String.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"String.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",
m:"String.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"this.getFullYear()",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",
G:"this.getHours()",h:"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"String.leftPad(this.getHours(), 2, '0')",i:"String.leftPad(this.getMinutes(), 2, '0')",s:"String.leftPad(this.getSeconds(), 2, '0')",u:"String.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var a=[],b=0;12>b;++b){var g="Y-m-dTH:i:sP".charAt(b);a.push("T"==g?"'T'":Date.getFormatCode(g))}return a.join(" + ")},
U:"Math.round(this.getTime() / 1000)"},isValid:function(a,b,g,h,l,n,q){var h=h||0,l=l||0,n=n||0,q=q||0,r=new Date(a,b-1,g,h,l,n,q);return a==r.getFullYear()&&b==r.getMonth()+1&&g==r.getDate()&&h==r.getHours()&&l==r.getMinutes()&&n==r.getSeconds()&&q==r.getMilliseconds()},parseDate:function(a,b,g){var h=Date.parseFunctions;null==h[b]&&Date.createParser(b);return h[b](a,Ext.isDefined(g)?g:Date.useStrict)},getFormatCode:function(a){var b=Date.formatCodes[a];b&&(b="function"==typeof b?b():b,Date.formatCodes[a]=
b);return b||"'"+String.escape(a)+"'"},createFormat:function(a){for(var b=[],g=!1,h="",l=0;l<a.length;++l)h=a.charAt(l),!g&&"\\"==h?g=!0:g?(g=!1,b.push("'"+String.escape(h)+"'")):b.push(Date.getFormatCode(h));Date.formatFunctions[a]=new Function("return "+b.join("+"))},createParser:function(c){for(var d=Date.parseRegexes.length,g=1,h=[],l=[],n=!1,q="",r=0;r<c.length;++r)q=c.charAt(r),!n&&"\\"==q?n=!0:n?(n=!1,l.push(String.escape(q))):(q=b(q,g),g+=q.g,l.push(q.s),q.g&&q.c&&h.push(q.c));Date.parseRegexes[d]=
RegExp("^"+l.join("")+"$");Date.parseFunctions[c]=new Function("input","strict",a("var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,\ndef = Date.defaults,\nresults = String(input).match(Date.parseRegexes[{0}]);\nif(results){\n{1}\nif(u != null){\nv = new Date(u * 1000);\n}else{\ndt = (new Date()).clearTime();\ny = Ext.num(y, Ext.num(def.y, dt.getFullYear()));\nm = Ext.num(m, Ext.num(def.m - 1, dt.getMonth()));\nd = Ext.num(d, Ext.num(def.d, dt.getDate()));\nh  = Ext.num(h, Ext.num(def.h, dt.getHours()));\ni  = Ext.num(i, Ext.num(def.i, dt.getMinutes()));\ns  = Ext.num(s, Ext.num(def.s, dt.getSeconds()));\nms = Ext.num(ms, Ext.num(def.ms, dt.getMilliseconds()));\nif(z >= 0 && y >= 0){\nv = new Date(y, 0, 1, h, i, s, ms);\nv = !strict? v : (strict === true && (z <= 364 || (v.isLeapYear() && z <= 365))? v.add(Date.DAY, z) : null);\n}else if(strict === true && !Date.isValid(y, m + 1, d, h, i, s, ms)){\nv = null;\n}else{\nv = new Date(y, m, d, h, i, s, ms);\n}\n}\n}\nif(v){\nif(zz != null){\nv = v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - zz);\n}else if(o){\nv = v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));\n}\n}\nreturn v;",
d,h.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var a=[],b=0;7>b;a.push(Date.getShortDayName(b)),++b);return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},
F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"}},M:function(){for(var a=[],d=0;12>d;a.push(Date.getShortMonthName(d)),++d);return Ext.applyIf({s:"("+a.join("|")+")"},b("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return b("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",
s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (results[{0}] == 'am') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm)"},A:{g:1,c:"if (results[{0}] == 'AM') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM)"},g:function(){return b("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return b("H")},
H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:"o = results[{0}];\nvar sn = o.substring(0,1),\nhr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),\nmn = o.substring(3,5) % 60;\no = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n",
s:"([+-]\\d{4})"},P:{g:1,c:"o = results[{0}];\nvar sn = o.substring(0,1),\nhr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),\nmn = o.substring(4,6) % 60;\no = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n",s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){for(var a=[],d=[b("Y",1),b("m",
2),b("d",3),b("h",4),b("i",5),b("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {\nif(results[8] == 'Z'){\nzz = 0;\n}else if (results[8].indexOf(':') > -1){",b("P",8).c,"}else{",b("O",8).c,"}\n}"].join("\n")}],g=0,h=d.length;g<h;++g)a.push(d[g].c);return{g:1,c:a.join(""),s:[d[0].s,"(?:-",d[1].s,"(?:-",d[2].s,"(?:(?:T| )?",d[3].s,":",d[4].s,"(?::",d[5].s,")?(?:(?:\\.|,)(\\d+))?(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?)?)?)?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",
s:"(-?\\d+)"}}})})();
Ext.apply(Date.prototype,{dateFormat:function(a){null==Date.formatFunctions[a]&&Date.createFormat(a);return Date.formatFunctions[a].call(this)},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a){return(0<this.getTimezoneOffset()?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(a?":":"")+String.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0")},
getDayOfYear:function(){var a=0,b=this.clone(),c=this.getMonth(),d;d=0;b.setDate(1);for(b.setMonth(0);d<c;b.setMonth(++d))a+=b.getDaysInMonth();return a+this.getDate()-1},getWeekOfYear:function(){return function(){var a=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/864E5,a=Math.floor(a/7),b=(new Date(6048E5*a)).getUTCFullYear();return a-Math.floor(Date.UTC(b,0,7)/6048E5)+1}}(),isLeapYear:function(){var a=this.getFullYear();return!!(0==(a&3)&&(a%100||0==a%400&&a))},getFirstDayOfMonth:function(){var a=
(this.getDay()-(this.getDate()-1))%7;return 0>a?a+7:a},getLastDayOfMonth:function(){return this.getLastDateOfMonth().getDay()},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1)},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(){var b=this.getMonth();return 1==b&&this.isLeapYear()?29:a[b]}}(),getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";
case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(){return new Date(this.getTime())},isDST:function(){return(new Date(this.getFullYear(),0,1)).getTimezoneOffset()!=this.getTimezoneOffset()},clearTime:function(a){if(a)return this.clone().clearTime();a=this.getDate();this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);if(this.getDate()!=a){for(var b=1,c=this.add(Date.HOUR,b);c.getDate()!=a;b++,c=this.add(Date.HOUR,b));this.setDate(a);
this.setHours(c.getHours())}return this},add:function(a,b){var c=this.clone();if(!a||0===b)return c;switch(a.toLowerCase()){case Date.MILLI:c.setMilliseconds(this.getMilliseconds()+b);break;case Date.SECOND:c.setSeconds(this.getSeconds()+b);break;case Date.MINUTE:c.setMinutes(this.getMinutes()+b);break;case Date.HOUR:c.setHours(this.getHours()+b);break;case Date.DAY:c.setDate(this.getDate()+b);break;case Date.MONTH:var d=this.getDate();28<d&&(d=Math.min(d,this.getFirstDateOfMonth().add("mo",b).getLastDateOfMonth().getDate()));
c.setDate(d);c.setMonth(this.getMonth()+b);break;case Date.YEAR:c.setFullYear(this.getFullYear()+b)}return c},between:function(a,b){var c=this.getTime();return a.getTime()<=c&&c<=b.getTime()}});Date.prototype.format=Date.prototype.dateFormat;
Ext.isSafari&&420>(navigator.userAgent.match(/WebKit\/(\d+)/)[1]||NaN)&&Ext.apply(Date.prototype,{_xMonth:Date.prototype.setMonth,_xDate:Date.prototype.setDate,setMonth:function(a){if(-1>=a){var b=Math.ceil(-a),a=Math.ceil(b/12),b=b%12?12-b%12:0;this.setFullYear(this.getFullYear()-a);return this._xMonth(b)}return this._xMonth(a)},setDate:function(a){return this.setTime(this.getTime()-864E5*(this.getDate()-a))}});
Ext.util.MixedCollection=function(a,b){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=!0===a;b&&(this.getKey=b);Ext.util.MixedCollection.superclass.constructor.call(this)};
Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:!1,add:function(a,b){1==arguments.length&&(b=arguments[0],a=this.getKey(b));if("undefined"!=typeof a&&null!==a){if("undefined"!=typeof this.map[a])return this.replace(a,b);this.map[a]=b}this.length++;this.items.push(b);this.keys.push(a);this.fireEvent("add",this.length-1,b,a);return b},getKey:function(a){return a.id},replace:function(a,b){1==arguments.length&&(b=arguments[0],a=this.getKey(b));var c=this.map[a];if("undefined"==
typeof a||null===a||"undefined"==typeof c)return this.add(a,b);var d=this.indexOfKey(a);this.items[d]=b;this.map[a]=b;this.fireEvent("replace",a,c,b);return b},addAll:function(a){if(1<arguments.length||Ext.isArray(a))for(var b=1<arguments.length?arguments:a,c=0,d=b.length;c<d;c++)this.add(b[c]);else for(b in a)(this.allowFunctions||"function"!=typeof a[b])&&this.add(b,a[b])},each:function(a,b){for(var c=[].concat(this.items),d=0,g=c.length;d<g&&!1!==a.call(b||c[d],c[d],d,g);d++);},eachKey:function(a,
b){for(var c=0,d=this.keys.length;c<d;c++)a.call(b||window,this.keys[c],this.items[c],c,d)},find:function(a,b){for(var c=0,d=this.items.length;c<d;c++)if(a.call(b||window,this.items[c],this.keys[c]))return this.items[c];return null},insert:function(a,b,c){2==arguments.length&&(c=arguments[1],b=this.getKey(c));this.containsKey(b)&&(this.suspendEvents(),this.removeKey(b),this.resumeEvents());if(a>=this.length)return this.add(b,c);this.length++;this.items.splice(a,0,c);"undefined"!=typeof b&&null!==
b&&(this.map[b]=c);this.keys.splice(a,0,b);this.fireEvent("add",a,c,b);return c},remove:function(a){return this.removeAt(this.indexOf(a))},removeAt:function(a){if(a<this.length&&0<=a){this.length--;var b=this.items[a];this.items.splice(a,1);var c=this.keys[a];"undefined"!=typeof c&&delete this.map[c];this.keys.splice(a,1);this.fireEvent("remove",b,c);return b}return!1},removeKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return this.items.indexOf(a)},
indexOfKey:function(a){return this.keys.indexOf(a)},item:function(a){var b=this.map[a],a=void 0!==b?b:"number"==typeof a?this.items[a]:void 0;return"function"!=typeof a||this.allowFunctions?a:null},itemAt:function(a){return this.items[a]},key:function(a){return this.map[a]},contains:function(a){return-1!=this.indexOf(a)},containsKey:function(a){return"undefined"!=typeof this.map[a]},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},
last:function(){return this.items[this.length-1]},_sort:function(a,b,c){var d,g="DESC"==String(b).toUpperCase()?-1:1,h=[],l=this.keys,n=this.items,c=c||function(a,b){return a-b},b=0;for(d=n.length;b<d;b++)h[h.length]={key:l[b],value:n[b],index:b};h.sort(function(b,d){var h=c(b[a],d[a])*g;0===h&&(h=b.index<d.index?-1:1);return h});b=0;for(d=h.length;b<d;b++)n[b]=h[b].value,l[b]=h[b].key;this.fireEvent("sort",this)},sort:function(a,b){this._sort("value",a,b)},reorder:function(a){this.suspendEvents();
var b=this.items,c=0,d=b.length,g=[],h=[];for(oldIndex in a)g[a[oldIndex]]=b[oldIndex];for(c=0;c<d;c++)void 0==a[c]&&h.push(b[c]);for(c=0;c<d;c++)void 0==g[c]&&(g[c]=h.shift());this.clear();this.addAll(g);this.resumeEvents();this.fireEvent("sort",this)},keySort:function(a,b){this._sort("key",a,b||function(a,b){var g=String(a).toUpperCase(),h=String(b).toUpperCase();return g>h?1:g<h?-1:0})},getRange:function(a,b){var c=this.items;if(1>c.length)return[];var a=a||0,b=Math.min("undefined"==typeof b?this.length-
1:b,this.length-1),d,g=[];if(a<=b)for(d=a;d<=b;d++)g[g.length]=c[d];else for(d=a;d>=b;d--)g[g.length]=c[d];return g},filter:function(a,b,c,d){if(Ext.isEmpty(b,!1))return this.clone();b=this.createValueMatcher(b,c,d);return this.filterBy(function(c){return c&&b.test(c[a])})},filterBy:function(a,b){var c=new Ext.util.MixedCollection;c.getKey=this.getKey;for(var d=this.keys,g=this.items,h=0,l=g.length;h<l;h++)a.call(b||this,g[h],d[h])&&c.add(d[h],g[h]);return c},findIndex:function(a,b,c,d,g){if(Ext.isEmpty(b,
!1))return-1;b=this.createValueMatcher(b,d,g);return this.findIndexBy(function(c){return c&&b.test(c[a])},null,c)},findIndexBy:function(a,b,c){for(var d=this.keys,g=this.items,c=c||0,h=g.length;c<h;c++)if(a.call(b||this,g[c],d[c]))return c;return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var g=Ext.escapeRe,a=String(a);!0===b?a=g(a):(a="^"+g(a),!0===d&&(a+="$"));a=RegExp(a,c?"":"i")}return a},clone:function(){for(var a=new Ext.util.MixedCollection,b=this.keys,c=this.items,d=0,g=c.length;d<
g;d++)a.add(b[d],c[d]);a.getKey=this.getKey;return a}});Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item;
Ext.util.JSON=new function(){var a=!!{}.hasOwnProperty,b,c=null;b=function(){null===c&&(c=Ext.USE_NATIVE_JSON&&window.JSON&&"[object JSON]"==JSON.toString());return c};var d=function(a){return 10>a?"0"+a:a},g=function(a){return eval("("+a+")")},h=function(b){if(!Ext.isDefined(b)||null===b)return"null";if(Ext.isArray(b)){var c=["["],d,g,n=b.length,q;for(g=0;g<n;g+=1)switch(q=b[g],typeof q){case "undefined":case "function":case "unknown":break;default:d&&c.push(","),c.push(null===q?"null":Ext.util.JSON.encode(q)),
d=!0}c.push("]");return c.join("")}if(Ext.isDate(b))return Ext.util.JSON.encodeDate(b);if(Ext.isString(b))return b=/["\\\x00-\x1f]/.test(b)?'"'+b.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=l[b];if(c)return c;c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"':'"'+b+'"',b;if("number"==typeof b)return isFinite(b)?String(b):"null";if(Ext.isBoolean(b))return String(b);d=["{"];for(g in b)if(!b.getElementsByTagName&&(!a||b.hasOwnProperty(g)))switch(n=b[g],typeof n){case "undefined":case "function":case "unknown":break;
default:c&&d.push(","),d.push(h(g),":",null===n?"null":h(n)),c=!0}d.push("}");return d.join("")},l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};this.encodeDate=function(a){return'"'+a.getFullYear()+"-"+d(a.getMonth()+1)+"-"+d(a.getDate())+"T"+d(a.getHours())+":"+d(a.getMinutes())+":"+d(a.getSeconds())+'"'};var n;this.encode=function(a){n||(n=b()?JSON.stringify:h);return n(a)};var q;this.decode=function(a){q||(q=b()?JSON.parse:g);return q(a)}};Ext.encode=Ext.util.JSON.encode;
Ext.decode=Ext.util.JSON.decode;
Ext.util.Format=function(){var a=/^\s+|\s+$/g,b=/<\/?[^>]+>/gi,c=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,d=/\r?\n/g,g={};return{ellipsis:function(a,b,c){if(a&&a.length>b){if(c){var c=a.substr(0,b-2),d=Math.max(c.lastIndexOf(" "),c.lastIndexOf("."),c.lastIndexOf("!"),c.lastIndexOf("?"));return-1==d||d<b-15?a.substr(0,b-3)+"...":c.substr(0,d)+"..."}return a.substr(0,b-3)+"..."}return a},undef:function(a){return void 0!==a?a:""},defaultValue:function(a,b){return void 0!==a&&""!==a?a:b},htmlEncode:function(a){return!a?
a:String(a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(a){return!a?a:String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},trim:function(b){return String(b).replace(a,"")},substr:function(a,b,c){return String(a).substr(b,c)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},capitalize:function(a){return!a?a:a.charAt(0).toUpperCase()+
a.substr(1).toLowerCase()},call:function(a,b){if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);c.unshift(a);return eval(b).apply(window,c)}return eval(b).call(window,a)},usMoney:function(a){for(var a=Math.round(100*(a-0))/100,a=a==Math.floor(a)?a+".00":10*a==Math.floor(10*a)?a+"0":a,a=String(a),b=a.split("."),a=b[0],b=b[1]?"."+b[1]:".00",c=/(\d+)(\d{3})/;c.test(a);)a=a.replace(c,"$1,$2");a+=b;return"-"==a.charAt(0)?"-$"+a.substr(1):"$"+a},date:function(a,b){if(!a)return"";Ext.isDate(a)||
(a=new Date(Date.parse(a)));return a.dateFormat(b||"m/d/Y")},dateRenderer:function(a){return function(b){return Ext.util.Format.date(b,a)}},stripTags:function(a){return!a?a:String(a).replace(b,"")},stripScripts:function(a){return!a?a:String(a).replace(c,"")},fileSize:function(a){return 1024>a?a+" bytes":1048576>a?Math.round(10*a/1024)/10+" KB":Math.round(10*a/1048576)/10+" MB"},math:function(a,b){g[b]||(g[b]=new Function("v","return v "+b+";"));return g[b](a)},round:function(a,b){var c=Number(a);
"number"==typeof b&&(b=Math.pow(10,b),c=Math.round(a*b)/b);return c},number:function(a,b){if(!b)return a;a=Ext.num(a,NaN);if(isNaN(a))return"";var c=",",d=".",g=!1,s=0>a,a=Math.abs(a);"/i"==b.substr(b.length-2)&&(b=b.substr(0,b.length-2),g=!0,c=".",d=",");var p=-1!=b.indexOf(c),g=(g?b.replace(/[^\d\,]/g,""):b.replace(/[^\d\.]/g,"")).split(d);if(1<g.length)a=a.toFixed(g[1].length);else{if(2<g.length)throw"NumberFormatException: invalid format, formats should have no more than 1 period: "+b;a=a.toFixed(0)}var v=
a.toString(),g=v.split(".");if(p){for(var p=g[0],v=[],t=p.length,A=p.length%3||3,w=0;w<t;w+=A)0!=w&&(A=3),v[v.length]=p.substr(w,A);v=v.join(c);g[1]&&(v+=d+g[1])}else g[1]&&(v=g[0]+d+g[1]);return(s?"-":"")+b.replace(/[\d,?\.?]+/,v)},numberRenderer:function(a){return function(b){return Ext.util.Format.number(b,a)}},plural:function(a,b,c){return a+" "+(1==a?b:c?c:b+"s")},nl2br:function(a){return Ext.isEmpty(a)?"":a.replace(d,"<br/>")}}}();
Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);for(var a=this.html,b=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,c=/^<tpl\b[^>]*?for="(.*?)"/,d=/^<tpl\b[^>]*?if="(.*?)"/,g=/^<tpl\b[^>]*?exec="(.*?)"/,h,l=0,n=[],a=["<tpl>",a,"</tpl>"].join("");h=a.match(b);){var q=h[0].match(c),r=h[0].match(d),s=h[0].match(g),p=null,v=null,t=null,q=q&&q[1]?q[1]:"";r&&(p=r&&r[1]?r[1]:null)&&(v=new Function("values","parent","xindex","xcount","with(values){ return "+
Ext.util.Format.htmlDecode(p)+"; }"));s&&(p=s&&s[1]?s[1]:null)&&(t=new Function("values","parent","xindex","xcount","with(values){ "+Ext.util.Format.htmlDecode(p)+"; }"));if(q)switch(q){case ".":q=new Function("values","parent","with(values){ return values; }");break;case "..":q=new Function("values","parent","with(values){ return parent; }");break;default:q=new Function("values","parent","with(values){ return "+q+"; }")}n.push({id:l,target:q,exec:t,test:v,body:h[1]||""});a=a.replace(h[0],"{xtpl"+
l+"}");++l}for(a=n.length-1;0<=a;--a)this.compileTpl(n[a]);this.master=n[n.length-1];this.tpls=n};
Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\\]\s?[\d\.\+\-\*\\\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(a,b,c,d,g){var a=this.tpls[a],h,l=[];if(a.test&&!a.test.call(this,b,c,d,g)||a.exec&&a.exec.call(this,b,c,d,g))return"";h=a.target?a.target.call(this,b,c):b;c=a.target?b:c;if(a.target&&Ext.isArray(h)){d=0;for(b=h.length;d<b;d++)l[l.length]=a.compiled.call(this,h[d],c,d+1,b);return l.join("")}return a.compiled.call(this,
h,c,d,g)},compileTpl:function(a){function b(a,b,c,h,s){if("xtpl"==b.substr(0,4))return"'"+g+"this.applySubTemplate("+b.substr(4)+", values, parent, xindex, xcount)"+g+"'";a="."===b?"values":"#"===b?"xindex":-1!=b.indexOf(".")?b:"values['"+b+"']";s&&(a="("+a+s+")");c&&d?(h=h?","+h:"","this."!=c.substr(0,5)?c="fm."+c+"(":(c='this.call("'+c.substr(5)+'", ',h=", values")):(h="",c="("+a+" === undefined ? '' : ");return"'"+g+c+a+h+")"+g+"'"}function c(a,b){return"'"+g+"("+b.replace(/\\'/g,"'")+")"+g+"'"}
var d=!0!==this.disableFormats,g=Ext.isGecko?"+":",",h;Ext.isGecko?h="tpl.compiled = function(values, parent, xindex, xcount){ return '"+a.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,b).replace(this.codeRe,c)+"';};":(h=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"],h.push(a.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,b).replace(this.codeRe,c)),h.push("'].join('');};"),h=h.join(""));eval(h);return this},applyTemplate:function(a){return this.master.compiled.call(this,
a,{},1,1)},compile:function(){return this}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(a){a=Ext.getDom(a);return new Ext.XTemplate(a.value||a.innerHTML)};
Ext.util.CSS=function(){var a=null,b=document,c=/(-[a-z])/gi,d=function(a,b){return b.charAt(1).toUpperCase()};return{createStyleSheet:function(a,c){var d;d=b.getElementsByTagName("head")[0];var n=b.createElement("style");n.setAttribute("type","text/css");c&&n.setAttribute("id",c);if(Ext.isIE)d.appendChild(n),d=n.styleSheet,d.cssText=a;else{try{n.appendChild(b.createTextNode(a))}catch(q){n.cssText=a}d.appendChild(n);d=n.styleSheet?n.styleSheet:n.sheet||b.styleSheets[b.styleSheets.length-1]}this.cacheStyleSheet(d);
return d},removeStyleSheet:function(a){(a=b.getElementById(a))&&a.parentNode.removeChild(a)},swapStyleSheet:function(a,c){this.removeStyleSheet(a);var d=b.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("id",a);d.setAttribute("href",c);b.getElementsByTagName("head")[0].appendChild(d)},refreshCache:function(){return this.getRules(!0)},cacheStyleSheet:function(b){a||(a={});try{for(var c=b.cssRules||b.rules,d=c.length-1;0<=d;--d)a[c[d].selectorText.toLowerCase()]=
c[d]}catch(n){}},getRules:function(c){if(null===a||c){a={};for(var c=b.styleSheets,d=0,l=c.length;d<l;d++)try{this.cacheStyleSheet(c[d])}catch(n){}}return a},getRule:function(a,b){var c=this.getRules(b);if(!Ext.isArray(a))return c[a.toLowerCase()];for(var d=0;d<a.length;d++)if(c[a[d]])return c[a[d].toLowerCase()];return null},updateRule:function(a,b,l){if(Ext.isArray(a))for(var n=0;n<a.length;n++){if(this.updateRule(a[n],b,l))return!0}else if(a=this.getRule(a))return a.style[b.replace(c,d)]=l,!0;
return!1}}}();Ext.util.ClickRepeater=function(a,b){this.el=Ext.get(a);this.el.unselectable();Ext.apply(this,b);this.addEvents("mousedown","click","mouseup");this.disabled||(this.disabled=!0,this.enable());if(this.handler)this.on("click",this.handler,this.scope||this);Ext.util.ClickRepeater.superclass.constructor.call(this)};
Ext.extend(Ext.util.ClickRepeater,Ext.util.Observable,{interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE)this.el.on("dblclick",this.handleDblClick,this);if(this.preventDefault||this.stopDefault)this.el.on("click",this.eventOptions,this)}this.disabled=!1},disable:function(a){if(a||!this.disabled)clearTimeout(this.timer),this.pressClass&&this.el.removeClass(this.pressClass),Ext.getDoc().un("mouseup",
this.handleMouseUp,this),this.el.removeAllListeners();this.disabled=!0},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){this.preventDefault&&a.preventDefault();this.stopDefault&&a.stopEvent()},destroy:function(){this.disable(!0);Ext.destroy(this.el);this.purgeListeners()},handleDblClick:function(){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this);this.fireEvent("click",this)},handleMouseDown:function(){clearTimeout(this.timer);this.el.blur();this.pressClass&&
this.el.addClass(this.pressClass);this.mousedownTime=new Date;Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this);this.fireEvent("click",this);this.accelerate&&(this.delay=400);this.timer=this.click.defer(this.delay||this.interval,this)},click:function(){this.fireEvent("click",this);this.timer=this.click.defer(this.accelerate?this.easeOutExpo(this.mousedownTime.getElapsed(),400,-390,12E3):this.interval,this)},easeOutExpo:function(a,
b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer);this.pressClass&&this.el.removeClass(this.pressClass);this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);this.pressClass&&this.el.addClass(this.pressClass);this.click()},handleMouseUp:function(){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,
this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeClass(this.pressClass);this.fireEvent("mouseup",this)}});Ext.KeyNav=function(a,b){this.el=Ext.get(a);Ext.apply(this,b);this.disabled||(this.disabled=!0,this.enable())};
Ext.KeyNav.prototype={disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,relay:function(a){var b=a.getKey();if((b=this.keyToHandler[b])&&this[b]&&!0!==this.doRelay(a,this[b],b))a[this.defaultEventAction]()},doRelay:function(a,b){return b.call(this.scope||this,a)},enter:!1,left:!1,right:!1,up:!1,down:!1,tab:!1,esc:!1,pageUp:!1,pageDown:!1,del:!1,home:!1,end:!1,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab"},
stopKeyUp:function(a){var b=a.getKey();37<=b&&40>=b&&a.stopEvent()},destroy:function(){this.disable()},enable:function(){if(this.disabled){if(Ext.isSafari2)this.el.on("keyup",this.stopKeyUp,this);this.el.on(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=!1}},disable:function(){this.disabled||(Ext.isSafari2&&this.el.un("keyup",this.stopKeyUp,this),this.el.un(this.isKeydown()?"keydown":"keypress",this.relay,this),this.disabled=!0)},setDisabled:function(a){this[a?"disable":"enable"]()},
isKeydown:function(){return this.forceKeyDown||Ext.EventManager.useKeydown}};Ext.KeyMap=function(a,b,c){this.el=Ext.get(a);this.eventName=c||"keydown";this.bindings=[];b&&this.addBinding(b);this.enable()};
Ext.KeyMap.prototype={stopEvent:!1,addBinding:function(a){if(Ext.isArray(a))Ext.each(a,function(a){this.addBinding(a)},this);else{var b=a.key,c=a.fn||a.handler,d=a.scope;a.stopEvent&&(this.stopEvent=a.stopEvent);if("string"==typeof b){for(var g=[],h=b.toUpperCase(),l=0,n=h.length;l<n;l++)g.push(h.charCodeAt(l));b=g}var q=Ext.isArray(b);this.bindings.push(function(g){if(this.checkModifiers(a,g)){var h=g.getKey();if(q)for(var l=0,n=b.length;l<n;l++){if(b[l]==h){this.stopEvent&&g.stopEvent();c.call(d||
window,h,g);break}}else h==b&&(this.stopEvent&&g.stopEvent(),c.call(d||window,h,g))}})}},checkModifiers:function(a,b){for(var c,d,g=["shift","ctrl","alt"],h=0,l=g.length;h<l;++h)if(d=g[h],c=a[d],!(void 0===c||c===b[d+"Key"]))return!1;return!0},on:function(a,b,c){var d,g,h,l;"object"==typeof a&&!Ext.isArray(a)?(d=a.key,g=a.shift,h=a.ctrl,l=a.alt):d=a;this.addBinding({key:d,shift:g,ctrl:h,alt:l,fn:b,scope:c})},handleKeyDown:function(a){if(this.enabled)for(var b=this.bindings,c=0,d=b.length;c<d;c++)b[c].call(this,
a)},isEnabled:function(){return this.enabled},enable:function(){this.enabled||(this.el.on(this.eventName,this.handleKeyDown,this),this.enabled=!0)},disable:function(){this.enabled&&(this.el.removeListener(this.eventName,this.handleKeyDown,this),this.enabled=!1)},setDisabled:function(a){this[a?"disable":"enable"]()}};
Ext.util.TextMetrics=function(){var a;return{measure:function(b,c,d){a||(a=Ext.util.TextMetrics.Instance(b,d));a.bind(b);a.setFixedWidth(d||"auto");return a.getSize(c)},createInstance:function(a,c){return Ext.util.TextMetrics.Instance(a,c)}}}();
Ext.util.TextMetrics.Instance=function(a,b){var c=new Ext.Element(document.createElement("div"));document.body.appendChild(c.dom);c.position("absolute");c.setLeftTop(-1E3,-1E3);c.hide();b&&c.setWidth(b);var d={getSize:function(a){c.update(a);a=c.getSize();c.update("");return a},bind:function(a){c.setStyle(Ext.fly(a).getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){c.setWidth(a)},getWidth:function(a){c.dom.style.width=
"auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height}};d.bind(a);return d};Ext.Element.addMethods({getTextWidth:function(a,b,c){return Ext.util.TextMetrics.measure(this.dom,Ext.value(a,this.dom.innerHTML,!0)).width.constrain(b||0,c||1E6)}});
Ext.util.Cookies={set:function(a,b){var c=arguments,d=arguments.length,g=2<d?c[2]:null,h=3<d?c[3]:"/",l=4<d?c[4]:null,c=5<d?c[5]:!1;document.cookie=a+"="+escape(b)+(null===g?"":"; expires="+g.toGMTString())+(null===h?"":"; path="+h)+(null===l?"":"; domain="+l)+(!0===c?"; secure":"")},get:function(a){for(var a=a+"=",b=a.length,c=document.cookie.length,d=0,g=0;d<c;){g=d+b;if(document.cookie.substring(d,g)==a)return Ext.util.Cookies.getCookieVal(g);d=document.cookie.indexOf(" ",d)+1;if(0===d)break}return null},
clear:function(a){Ext.util.Cookies.get(a)&&(document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT")},getCookieVal:function(a){var b=document.cookie.indexOf(";",a);-1==b&&(b=document.cookie.length);return unescape(document.cookie.substring(a,b))}};Ext.handleError=function(a){throw a;};Ext.Error=function(a){this.message=this.lang[a]?this.lang[a]:a};Ext.Error.prototype=Error();
Ext.apply(Ext.Error.prototype,{lang:{},name:"Ext.Error",getName:function(){return this.name},getMessage:function(){return this.message},toJson:function(){return Ext.encode(this)}});
Ext.ComponentMgr=function(){var a=new Ext.util.MixedCollection,b={},c={};return{register:function(b){a.add(b)},unregister:function(b){a.remove(b)},get:function(b){return a.get(b)},onAvailable:function(b,c,h){a.on("add",function(l,n){n.id==b&&(c.call(h||n,n),a.un("add",c,h))})},all:a,types:b,ptypes:c,isRegistered:function(a){return void 0!==b[a]},isPluginRegistered:function(a){return void 0!==c[a]},registerType:function(a,c){b[a]=c;c.xtype=a},create:function(a,c){return a.render?a:new b[a.xtype||c](a)},
registerPlugin:function(a,b){c[a]=b;b.ptype=a},createPlugin:function(a,b){var h=c[a.ptype||b];return h.init?h:new h(a)}}}();Ext.reg=Ext.ComponentMgr.registerType;Ext.preg=Ext.ComponentMgr.registerPlugin;Ext.create=Ext.ComponentMgr.create;
Ext.Component=function(a){a=a||{};if(a.initialConfig)a.isAction&&(this.baseAction=a),a=a.initialConfig;else if(a.tagName||a.dom||Ext.isString(a))a={applyTo:a,id:a.id||a};this.initialConfig=a;Ext.apply(this,a);this.addEvents("added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","beforestaterestore","staterestore","beforestatesave","statesave");this.getId();Ext.ComponentMgr.register(this);Ext.Component.superclass.constructor.call(this);
this.baseAction&&this.baseAction.addComponent(this);this.initComponent();if(this.plugins)if(Ext.isArray(this.plugins))for(var a=0,b=this.plugins.length;a<b;a++)this.plugins[a]=this.initPlugin(this.plugins[a]);else this.plugins=this.initPlugin(this.plugins);!1!==this.stateful&&this.initState();this.applyTo?(this.applyToMarkup(this.applyTo),delete this.applyTo):this.renderTo&&(this.render(this.renderTo),delete this.renderTo)};Ext.Component.AUTO_ID=1E3;
Ext.extend(Ext.Component,Ext.util.Observable,{disabled:!1,hidden:!1,autoEl:"div",disabledClass:"x-item-disabled",allowDomMove:!0,autoShow:!1,hideMode:"display",hideParent:!1,rendered:!1,tplWriteMode:"overwrite",bubbleEvents:[],ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode]},initPlugin:function(a){a.ptype&&!Ext.isFunction(a.init)?a=Ext.ComponentMgr.createPlugin(a):Ext.isString(a)&&(a=Ext.ComponentMgr.createPlugin({ptype:a}));a.init(this);return a},initComponent:function(){this.listeners&&
(this.on(this.listeners),delete this.listeners);this.enableBubble(this.bubbleEvents)},render:function(a,b){if(!this.rendered&&!1!==this.fireEvent("beforerender",this)){!a&&this.el&&(this.el=Ext.get(this.el),a=this.el.dom.parentNode,this.allowDomMove=!1);this.container=Ext.get(a);this.ctCls&&this.container.addClass(this.ctCls);this.rendered=!0;void 0!==b&&(b=Ext.isNumber(b)?this.container.dom.childNodes[b]:Ext.getDom(b));this.onRender(this.container,b||null);this.autoShow&&this.el.removeClass(["x-hidden",
"x-hide-"+this.hideMode]);this.cls&&(this.el.addClass(this.cls),delete this.cls);this.style&&(this.el.applyStyles(this.style),delete this.style);this.overCls&&this.el.addClassOnOver(this.overCls);this.fireEvent("render",this);var c=this.getContentTarget();this.html&&(c.update(Ext.DomHelper.markup(this.html)),delete this.html);if(this.contentEl){var d=Ext.getDom(this.contentEl);Ext.fly(d).removeClass(["x-hidden","x-hide-display"]);c.appendChild(d)}this.tpl&&(this.tpl.compile||(this.tpl=new Ext.XTemplate(this.tpl)),
this.data&&(this.tpl[this.tplWriteMode](c,this.data),delete this.data));this.afterRender(this.container);this.hidden&&this.doHide();this.disabled&&this.disable(!0);!1!==this.stateful&&this.initStateEvents();this.fireEvent("afterrender",this)}return this},update:function(a,b,c){var d=this.getContentTarget();if(this.tpl&&"string"!==typeof a)this.tpl[this.tplWriteMode](d,a||{});else a=Ext.isObject(a)?Ext.DomHelper.markup(a):a,d.update(a,b,c)},onAdded:function(a,b){this.ownerCt=a;this.initRef();this.fireEvent("added",
this,a,b)},onRemoved:function(){this.removeRef();this.fireEvent("removed",this,this.ownerCt);delete this.ownerCt},initRef:function(){if(this.ref&&!this.refOwner){for(var a=this.ref.split("/"),b=a.length,c=0,d=this;d&&c<b;)d=d.ownerCt,++c;d&&(d[this.refName=a[--c]]=this,this.refOwner=d)}},removeRef:function(){this.refOwner&&this.refName&&(delete this.refOwner[this.refName],delete this.refOwner)},initState:function(){if(Ext.state.Manager){var a=this.getStateId();if(a&&(a=Ext.state.Manager.get(a))&&
!1!==this.fireEvent("beforestaterestore",this,a))this.applyState(Ext.apply({},a)),this.fireEvent("staterestore",this,a)}},getStateId:function(){return this.stateId||(/^(ext-comp-|ext-gen)/.test(String(this.id))?null:this.id)},initStateEvents:function(){if(this.stateEvents)for(var a=0,b;b=this.stateEvents[a];a++)this.on(b,this.saveState,this,{delay:100})},applyState:function(a){a&&Ext.apply(this,a)},getState:function(){return null},saveState:function(){if(Ext.state.Manager&&!1!==this.stateful){var a=
this.getStateId();if(a){var b=this.getState();!1!==this.fireEvent("beforestatesave",this,b)&&(Ext.state.Manager.set(a,b),this.fireEvent("statesave",this,b))}}},applyToMarkup:function(a){this.allowDomMove=!1;this.el=Ext.get(a);this.render(this.el.dom.parentNode)},addClass:function(a){this.el?this.el.addClass(a):this.cls=this.cls?this.cls+" "+a:a;return this},removeClass:function(a){this.el?this.el.removeClass(a):this.cls&&(this.cls=this.cls.split(" ").remove(a).join(" "));return this},onRender:function(a,
b){if(!this.el&&this.autoEl){if(Ext.isString(this.autoEl))this.el=document.createElement(this.autoEl);else{var c=document.createElement("div");Ext.DomHelper.overwrite(c,this.autoEl);this.el=c.firstChild}this.el.id||(this.el.id=this.getId())}this.el&&(this.el=Ext.get(this.el),!1!==this.allowDomMove&&(a.dom.insertBefore(this.el.dom,b),c&&Ext.removeNode(c)))},getAutoCreate:function(){var a=Ext.isObject(this.autoCreate)?this.autoCreate:Ext.apply({},this.defaultAutoCreate);this.id&&!a.id&&(a.id=this.id);
return a},afterRender:Ext.emptyFn,destroy:function(){!this.isDestroyed&&!1!==this.fireEvent("beforedestroy",this)&&(this.destroying=!0,this.beforeDestroy(),this.ownerCt&&this.ownerCt.remove&&this.ownerCt.remove(this,!1),this.rendered&&(this.el.remove(),("container"==this.actionMode||"container"==this.removeMode)&&this.container.remove()),this.focusTask&&this.focusTask.cancel&&this.focusTask.cancel(),this.onDestroy(),Ext.ComponentMgr.unregister(this),this.fireEvent("destroy",this),this.purgeListeners(),
this.destroying=!1,this.isDestroyed=!0)},deleteMembers:function(){for(var a=arguments,b=0,c=a.length;b<c;++b)delete this[a[b]]},beforeDestroy:Ext.emptyFn,onDestroy:Ext.emptyFn,getEl:function(){return this.el},getContentTarget:function(){return this.el},getId:function(){return this.id||(this.id="ext-comp-"+ ++Ext.Component.AUTO_ID)},getItemId:function(){return this.itemId||this.getId()},focus:function(a,b){if(b)this.focusTask=new Ext.util.DelayedTask(this.focus,this,[a,!1]),this.focusTask.delay(Ext.isNumber(b)?
b:10);else return this.rendered&&!this.isDestroyed&&(this.el.focus(),!0===a&&this.el.dom.select()),this},blur:function(){this.rendered&&this.el.blur();return this},disable:function(a){if(this.rendered)this.onDisable();this.disabled=!0;!0!==a&&this.fireEvent("disable",this);return this},onDisable:function(){this.getActionEl().addClass(this.disabledClass);this.el.dom.disabled=!0},enable:function(){if(this.rendered)this.onEnable();this.disabled=!1;this.fireEvent("enable",this);return this},onEnable:function(){this.getActionEl().removeClass(this.disabledClass);
this.el.dom.disabled=!1},setDisabled:function(a){return this[a?"disable":"enable"]()},show:function(){if(!1!==this.fireEvent("beforeshow",this)){this.hidden=!1;this.autoRender&&this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender);if(this.rendered)this.onShow();this.fireEvent("show",this)}return this},onShow:function(){this.getVisibilityEl().removeClass("x-hide-"+this.hideMode)},hide:function(){!1!==this.fireEvent("beforehide",this)&&(this.doHide(),this.fireEvent("hide",this));
return this},doHide:function(){this.hidden=!0;if(this.rendered)this.onHide()},onHide:function(){this.getVisibilityEl().addClass("x-hide-"+this.hideMode)},getVisibilityEl:function(){return this.hideParent?this.container:this.getActionEl()},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(){return this.rendered&&this.getVisibilityEl().isVisible()},cloneConfig:function(a){var a=a||{},b=a.id||Ext.id(),a=Ext.applyIf(a,this.initialConfig);a.id=b;return new this.constructor(a)},
getXType:function(){return this.constructor.xtype},isXType:function(a,b){Ext.isFunction(a)?a=a.xtype:Ext.isObject(a)&&(a=a.constructor.xtype);return!b?-1!=("/"+this.getXTypes()+"/").indexOf("/"+a+"/"):this.constructor.xtype==a},getXTypes:function(){var a=this.constructor;if(!a.xtypes){for(var b=[],c=this;c&&c.constructor.xtype;)b.unshift(c.constructor.xtype),c=c.constructor.superclass;a.xtypeChain=b;a.xtypes=b.join("/")}return a.xtypes},findParentBy:function(a){for(var b=this.ownerCt;null!=b&&!a(b,
this);b=b.ownerCt);return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.findParentBy(function(b){return b.constructor.xtype===a})},getPositionEl:function(){return this.positionEl||this.el},purgeListeners:function(){Ext.Component.superclass.purgeListeners.call(this);if(this.mons)this.on("beforedestroy",this.clearMons,this,{single:!0})},clearMons:function(){Ext.each(this.mons,function(a){a.item.un(a.ename,a.fn,a.scope)},
this);this.mons=[]},createMons:function(){this.mons||(this.mons=[],this.on("beforedestroy",this.clearMons,this,{single:!0}))},mon:function(a,b,c,d,g){this.createMons();if(Ext.isObject(b)){var c=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,h;for(h in b)c.test(h)||(Ext.isFunction(b[h])?(this.mons.push({item:a,ename:h,fn:b[h],scope:b.scope}),a.on(h,b[h],b.scope,b)):(this.mons.push({item:a,ename:h,fn:b[h],scope:b.scope}),a.on(h,b[h])))}else this.mons.push({item:a,
ename:b,fn:c,scope:d}),a.on(b,c,d,g)},mun:function(a,b,c,d){var g,h;this.createMons();for(var l=0,n=this.mons.length;l<n;++l)if(h=this.mons[l],a===h.item&&b==h.ename&&c===h.fn&&d===h.scope){this.mons.splice(l,1);a.un(b,c,d);g=!0;break}return g},nextSibling:function(){if(this.ownerCt){var a=this.ownerCt.items.indexOf(this);if(-1!=a&&a+1<this.ownerCt.items.getCount())return this.ownerCt.items.itemAt(a+1)}return null},previousSibling:function(){if(this.ownerCt){var a=this.ownerCt.items.indexOf(this);
if(0<a)return this.ownerCt.items.itemAt(a-1)}return null},getBubbleTarget:function(){return this.ownerCt}});Ext.reg("component",Ext.Component);
Ext.Action=Ext.extend(Object,{constructor:function(a){this.initialConfig=a;this.itemId=a.itemId=a.itemId||a.id||Ext.id();this.items=[]},isAction:!0,setText:function(a){this.initialConfig.text=a;this.callEach("setText",[a])},getText:function(){return this.initialConfig.text},setIconClass:function(a){this.initialConfig.iconCls=a;this.callEach("setIconClass",[a])},getIconClass:function(){return this.initialConfig.iconCls},setDisabled:function(a){this.initialConfig.disabled=a;this.callEach("setDisabled",
[a])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(a){this.initialConfig.hidden=a;this.callEach("setVisible",[!a])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(a,b){this.initialConfig.handler=a;this.initialConfig.scope=b;this.callEach("setHandler",[a,b])},each:function(a,b){Ext.each(this.items,
a,b)},callEach:function(a,b){for(var c=this.items,d=0,g=c.length;d<g;d++)c[d][a].apply(c[d],b)},addComponent:function(a){this.items.push(a);a.on("destroy",this.removeComponent,this)},removeComponent:function(a){this.items.remove(a)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||window,arguments)}});
(function(){Ext.Layer=function(a,b){var a=a||{},g=Ext.DomHelper,h=a.parentEl,h=h?Ext.getDom(h):document.body;b&&(this.dom=Ext.getDom(b));this.dom||(this.dom=g.append(h,a.dh||{tag:"div",cls:"x-layer"}));a.cls&&this.addClass(a.cls);this.constrain=!1!==a.constrain;this.setVisibilityMode(Ext.Element.VISIBILITY);this.id=a.id?this.dom.id=a.id:Ext.id(this.dom);this.zindex=a.zindex||this.getZIndex();this.position("absolute",this.zindex);a.shadow?(this.shadowOffset=a.shadowOffset||4,this.shadow=new Ext.Shadow({offset:this.shadowOffset,
mode:a.shadow})):this.shadowOffset=0;this.useShim=!1!==a.shim&&Ext.useShims;this.useDisplay=a.useDisplay;this.hide()};var a=Ext.Element.prototype,b=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt((this.getShim()||this).getStyle("z-index"),10)||11E3},getShim:function(){if(!this.useShim)return null;if(this.shim)return this.shim;var a=b.shift();a||(a=this.createShim(),a.enableDisplayMode("block"),a.dom.style.display="none",a.dom.style.visibility="visible");var d=
this.dom.parentNode;a.dom.parentNode!=d&&d.insertBefore(a.dom,this.dom);a.setStyle("z-index",this.getZIndex()-2);return this.shim=a},hideShim:function(){this.shim&&(this.shim.setDisplayed(!1),b.push(this.shim),delete this.shim)},disableShadow:function(){this.shadow&&(this.shadowDisabled=!0,this.shadow.hide(),this.lastShadowOffset=this.shadowOffset,this.shadowOffset=0)},enableShadow:function(a){this.shadow&&(this.shadowDisabled=!1,this.shadowOffset=this.lastShadowOffset,delete this.lastShadowOffset,
a&&this.sync(!0))},sync:function(a){var b=this.shadow;if(!this.updating&&this.isVisible()&&(b||this.useShim)){var g=this.getShim(),h=this.getWidth(),l=this.getHeight(),n=this.getLeft(!0),q=this.getTop(!0);b&&!this.shadowDisabled?(a&&!b.isVisible()?b.show(this):b.realign(n,q,h,l),g&&(a&&g.show(),a=b.el.getXY(),g=g.dom.style,b=b.el.getSize(),g.left=a[0]+"px",g.top=a[1]+"px",g.width=b.width+"px",g.height=b.height+"px")):g&&(a&&g.show(),g.setSize(h,l),g.setLeftTop(n,q))}},destroy:function(){this.hideShim();
this.shadow&&this.shadow.hide();this.removeAllListeners();Ext.removeNode(this.dom);delete this.dom},remove:function(){this.destroy()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1;this.sync(!0)},hideUnders:function(){this.shadow&&this.shadow.hide();this.hideShim()},constrainXY:function(){if(this.constrain){var b=Ext.lib.Dom.getViewWidth(),d=Ext.lib.Dom.getViewHeight(),g=Ext.getDoc().getScroll(),h=this.getXY(),l=h[0],h=h[1],n=this.shadowOffset,q=this.dom.offsetWidth+
n,r=this.dom.offsetHeight+n,s=!1;l+q>b+g.left&&(l=b-q-n,s=!0);h+r>d+g.top&&(h=d-r-n,s=!0);l<g.left&&(l=g.left,s=!0);h<g.top&&(h=g.top,s=!0);s&&(this.avoidY&&(b=this.avoidY,h<=b&&h+r>=b&&(h=b-r-5)),h=[l,h],this.storeXY(h),a.setXY.call(this,h),this.sync())}return this},isVisible:function(){return this.visible},showAction:function(){this.visible=!0;!0===this.useDisplay?this.setDisplayed(""):this.lastXY?a.setXY.call(this,this.lastXY):this.lastLT&&a.setLeftTop.call(this,this.lastLT[0],this.lastLT[1])},
hideAction:function(){this.visible=!1;!0===this.useDisplay?this.setDisplayed(!1):this.setLeftTop(-1E4,-1E4)},setVisible:function(b,d,g,h,l){b&&this.showAction();if(d&&b){var n=function(){this.sync(!0);h&&h()}.createDelegate(this);a.setVisible.call(this,!0,!0,g,n,l)}else b||this.hideUnders(!0),n=h,d&&(n=function(){this.hideAction();h&&h()}.createDelegate(this)),a.setVisible.call(this,b,d,g,n,l),b?this.sync(!0):d||this.hideAction();return this},storeXY:function(a){delete this.lastLT;this.lastXY=a},
storeLeftTop:function(a,b){delete this.lastXY;this.lastLT=[a,b]},beforeFx:function(){this.beforeAction();return Ext.Layer.superclass.beforeFx.apply(this,arguments)},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments);this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(b){this.storeLeftTop(b,this.getTop(!0));a.setLeft.apply(this,arguments);this.sync();return this},setTop:function(b){this.storeLeftTop(this.getLeft(!0),
b);a.setTop.apply(this,arguments);this.sync();return this},setLeftTop:function(b,d){this.storeLeftTop(b,d);a.setLeftTop.apply(this,arguments);this.sync();return this},setXY:function(b,d,g,h,l){this.fixDisplay();this.beforeAction();this.storeXY(b);h=this.createCB(h);a.setXY.call(this,b,d,g,h,l);d||h();return this},createCB:function(a){var b=this;return function(){b.constrainXY();b.sync(!0);a&&a()}},setX:function(a,b,g,h,l){this.setXY([a,this.getY()],b,g,h,l);return this},setY:function(a,b,g,h,l){this.setXY([this.getX(),
a],b,g,h,l);return this},setSize:function(b,d,g,h,l,n){this.beforeAction();l=this.createCB(l);a.setSize.call(this,b,d,g,h,l,n);g||l();return this},setWidth:function(b,d,g,h,l){this.beforeAction();h=this.createCB(h);a.setWidth.call(this,b,d,g,h,l);d||h();return this},setHeight:function(b,d,g,h,l){this.beforeAction();h=this.createCB(h);a.setHeight.call(this,b,d,g,h,l);d||h();return this},setBounds:function(b,d,g,h,l,n,q,r){this.beforeAction();q=this.createCB(q);l?a.setBounds.call(this,b,d,g,h,l,n,q,
r):(this.storeXY([b,d]),a.setXY.call(this,[b,d]),a.setSize.call(this,g,h,l,n,q,r),q());return this},setZIndex:function(a){this.zindex=a;this.setStyle("z-index",a+2);this.shadow&&this.shadow.setZIndex(a+1);this.shim&&this.shim.setStyle("z-index",a);return this}})})();
Ext.Shadow=function(a){Ext.apply(this,a);"string"!=typeof this.mode&&(this.mode=this.defaultMode);var a=this.offset,b={h:0},c=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case "drop":b.w=0;b.l=b.t=a;b.t-=1;Ext.isIE&&(b.l-=this.offset+c,b.t-=this.offset+c,b.w-=c,b.h-=c,b.t+=1);break;case "sides":b.w=2*a;b.l=-a;b.t=a-1;Ext.isIE&&(b.l-=this.offset-c,b.t-=this.offset+c,b.l+=1,b.w-=2*(this.offset-c),b.w-=c+1,b.h-=1);break;case "frame":b.w=b.h=2*a,b.l=b.t=-a,b.t+=1,b.h-=2,Ext.isIE&&(b.l-=this.offset-
c,b.t-=this.offset-c,b.l+=1,b.w-=this.offset+c+1,b.h-=this.offset+c,b.h+=1)}this.adjusts=b};
Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(a){a=Ext.get(a);this.el||(this.el=Ext.Shadow.Pool.pull(),this.el.dom.nextSibling!=a.dom&&this.el.insertBefore(a));this.el.setStyle("z-index",this.zIndex||parseInt(a.getStyle("z-index"),10)-1);Ext.isIE&&(this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+this.offset+")");this.realign(a.getLeft(!0),a.getTop(!0),a.getWidth(),a.getHeight());this.el.dom.style.display=
"block"},isVisible:function(){return this.el?!0:!1},realign:function(a,b,c,d){if(this.el){var g=this.adjusts,h=this.el.dom,l=h.style;l.left=a+g.l+"px";l.top=b+g.t+"px";a=c+g.w;d+=g.h;g=a+"px";b=d+"px";if(l.width!=g||l.height!=b)l.width=g,l.height=b,Ext.isIE||(h=h.childNodes,l=Math.max(0,a-12)+"px",h[0].childNodes[1].style.width=l,h[1].childNodes[1].style.width=l,h[2].childNodes[1].style.width=l,h[1].style.height=Math.max(0,d-12)+"px")}},hide:function(){this.el&&(this.el.dom.style.display="none",Ext.Shadow.Pool.push(this.el),
delete this.el)},setZIndex:function(a){this.zIndex=a;this.el&&this.el.setStyle("z-index",a)}};
Ext.Shadow.Pool=function(){var a=[],b=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';return{pull:function(){var c=a.shift();c||(c=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,
b)),c.autoBoxAdjust=!1);return c},push:function(b){a.push(b)}}}();
Ext.BoxComponent=Ext.extend(Ext.Component,{initComponent:function(){Ext.BoxComponent.superclass.initComponent.call(this);this.addEvents("resize","move")},boxReady:!1,deferHeight:!1,setSize:function(a,b){"object"==typeof a&&(b=a.height,a=a.width);Ext.isDefined(a)&&(Ext.isDefined(this.boxMinWidth)&&a<this.boxMinWidth)&&(a=this.boxMinWidth);Ext.isDefined(b)&&(Ext.isDefined(this.boxMinHeight)&&b<this.boxMinHeight)&&(b=this.boxMinHeight);Ext.isDefined(a)&&(Ext.isDefined(this.boxMaxWidth)&&a>this.boxMaxWidth)&&
(a=this.boxMaxWidth);Ext.isDefined(b)&&(Ext.isDefined(this.boxMaxHeight)&&b>this.boxMaxHeight)&&(b=this.boxMaxHeight);if(!this.boxReady)return this.width=a,this.height=b,this;if(!1!==this.cacheSizes&&this.lastSize&&this.lastSize.width==a&&this.lastSize.height==b)return this;this.lastSize={width:a,height:b};var c=this.adjustSize(a,b),d=c.width,c=c.height,g;if(void 0!==d||void 0!==c)g=this.getResizeEl(),!this.deferHeight&&void 0!==d&&void 0!==c?g.setSize(d,c):!this.deferHeight&&void 0!==c?g.setHeight(c):
void 0!==d&&g.setWidth(d),this.onResize(d,c,a,b),this.fireEvent("resize",this,d,c,a,b);return this},setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(void 0,a)},getSize:function(){return this.getResizeEl().getSize()},getWidth:function(){return this.getResizeEl().getWidth()},getHeight:function(){return this.getResizeEl().getHeight()},getOuterSize:function(){var a=this.getResizeEl();return{width:a.getWidth()+a.getMargins("lr"),height:a.getHeight()+a.getMargins("tb")}},
getPosition:function(a){var b=this.getPositionEl();return!0===a?[b.getLeft(!0),b.getTop(!0)]:this.xy||b.getXY()},getBox:function(a){var a=this.getPosition(a),b=this.getSize();b.x=a[0];b.y=a[1];return b},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},getResizeEl:function(){return this.resizeEl||this.el},setAutoScroll:function(a){this.rendered&&this.getContentTarget().setOverflow(a?"auto":"");this.autoScroll=a;return this},setPosition:function(a,b){a&&
"number"==typeof a[1]&&(b=a[1],a=a[0]);this.x=a;this.y=b;if(!this.boxReady)return this;var c=this.adjustPosition(a,b),d=c.x,c=c.y,g=this.getPositionEl();if(void 0!==d||void 0!==c)void 0!==d&&void 0!==c?g.setLeftTop(d,c):void 0!==d?g.setLeft(d):void 0!==c&&g.setTop(c),this.onPosition(d,c),this.fireEvent("move",this,d,c);return this},setPagePosition:function(a,b){a&&"number"==typeof a[1]&&(b=a[1],a=a[0]);this.pageX=a;this.pageY=b;if(this.boxReady&&!(void 0===a||void 0===b)){var c=this.getPositionEl().translatePoints(a,
b);this.setPosition(c.left,c.top);return this}},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this);this.resizeEl&&(this.resizeEl=Ext.get(this.resizeEl));this.positionEl&&(this.positionEl=Ext.get(this.positionEl));this.boxReady=!0;Ext.isDefined(this.autoScroll)&&this.setAutoScroll(this.autoScroll);this.setSize(this.width,this.height);this.x||this.y?this.setPosition(this.x,this.y):(this.pageX||this.pageY)&&this.setPagePosition(this.pageX,this.pageY)},syncSize:function(){delete this.lastSize;
this.setSize(this.autoWidth?void 0:this.getResizeEl().getWidth(),this.autoHeight?void 0:this.getResizeEl().getHeight());return this},onResize:function(){},onPosition:function(){},adjustSize:function(a,b){this.autoWidth&&(a="auto");this.autoHeight&&(b="auto");return{width:a,height:b}},adjustPosition:function(a,b){return{x:a,y:b}}});Ext.reg("box",Ext.BoxComponent);Ext.Spacer=Ext.extend(Ext.BoxComponent,{autoEl:"div"});Ext.reg("spacer",Ext.Spacer);
Ext.SplitBar=function(a,b,c,d,g){this.el=Ext.get(a,!0);this.el.dom.unselectable="on";this.resizingEl=Ext.get(b,!0);this.orientation=c||Ext.SplitBar.HORIZONTAL;this.minSize=0;this.maxSize=2E3;this.useShim=this.animate=!1;this.shim=null;this.proxy=g?Ext.get(g).dom:Ext.SplitBar.createProxy(this.orientation);this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id});this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this);this.dd.endDrag=this.onEndProxyDrag.createDelegate(this);
this.dragSpecs={};this.adapter=new Ext.SplitBar.BasicLayoutAdapter;this.adapter.init(this);this.orientation==Ext.SplitBar.HORIZONTAL?(this.placement=d||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT),this.el.addClass("x-splitbar-h")):(this.placement=d||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM),this.el.addClass("x-splitbar-v"));this.addEvents("resize","moved","beforeresize","beforeapply");Ext.SplitBar.superclass.constructor.call(this)};
Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(a,b){this.fireEvent("beforeresize",this);this.overlay=Ext.DomHelper.append(document.body,{cls:"x-drag-overlay",html:"&#160;"},!0);this.overlay.unselectable();this.overlay.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0));this.overlay.show();Ext.get(this.proxy).setDisplayed("block");var c=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize();this.activeMaxSize=this.getMaximumSize();var d=c-
this.activeMinSize,g=Math.max(this.activeMaxSize-c,0);this.orientation==Ext.SplitBar.HORIZONTAL?(this.dd.resetConstraints(),this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?d:g,this.placement==Ext.SplitBar.LEFT?g:d,this.tickSize),this.dd.setYConstraint(0,0)):(this.dd.resetConstraints(),this.dd.setXConstraint(0,0),this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?d:g,this.placement==Ext.SplitBar.TOP?g:d,this.tickSize));this.dragSpecs.startSize=c;this.dragSpecs.startPoint=[a,b];Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,
a,b)},onEndProxyDrag:function(a){Ext.get(this.proxy).setDisplayed(!1);a=Ext.lib.Event.getXY(a);this.overlay&&(Ext.destroy(this.overlay),delete this.overlay);a=this.orientation==Ext.SplitBar.HORIZONTAL?this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?a[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-a[0]):this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?a[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-a[1]);a=Math.min(Math.max(a,this.activeMinSize),this.activeMaxSize);
a!=this.dragSpecs.startSize&&!1!==this.fireEvent("beforeapply",this,a)&&(this.adapter.setElementSize(this,a),this.fireEvent("moved",this,a),this.fireEvent("resize",this,a))},getAdapter:function(){return this.adapter},setAdapter:function(a){this.adapter=a;this.adapter.init(this)},getMinimumSize:function(){return this.minSize},setMinimumSize:function(a){this.minSize=a},getMaximumSize:function(){return this.maxSize},setMaximumSize:function(a){this.maxSize=a},setCurrentSize:function(a){var b=this.animate;
this.animate=!1;this.adapter.setElementSize(this,a);this.animate=b},destroy:function(a){Ext.destroy(this.shim,Ext.get(this.proxy));this.dd.unreg();a&&this.el.remove();this.purgeListeners()}});Ext.SplitBar.createProxy=function(a){var b=new Ext.Element(document.createElement("div"));document.body.appendChild(b.dom);b.unselectable();b.addClass("x-splitbar-proxy "+(a==Ext.SplitBar.HORIZONTAL?"x-splitbar-proxy-h":"x-splitbar-proxy-v"));return b.dom};Ext.SplitBar.BasicLayoutAdapter=function(){};
Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(){},getElementSize:function(a){return a.orientation==Ext.SplitBar.HORIZONTAL?a.resizingEl.getWidth():a.resizingEl.getHeight()},setElementSize:function(a,b,c){a.orientation==Ext.SplitBar.HORIZONTAL?a.animate?a.resizingEl.setWidth(b,!0,0.1,c,"easeOut"):(a.resizingEl.setWidth(b),c&&c(a,b)):a.animate?a.resizingEl.setHeight(b,!0,0.1,c,"easeOut"):(a.resizingEl.setHeight(b),c&&c(a,b))}};
Ext.SplitBar.AbsoluteLayoutAdapter=function(a){this.basic=new Ext.SplitBar.BasicLayoutAdapter;this.container=Ext.get(a)};
Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(a){this.basic.init(a)},getElementSize:function(a){return this.basic.getElementSize(a)},setElementSize:function(a,b){this.basic.setElementSize(a,b,this.moveSplitter.createDelegate(this,[a]))},moveSplitter:function(a){var b=Ext.SplitBar;switch(a.placement){case b.LEFT:a.el.setX(a.resizingEl.getRight());break;case b.RIGHT:a.el.setStyle("right",this.container.getWidth()-a.resizingEl.getLeft()+"px");break;case b.TOP:a.el.setY(a.resizingEl.getBottom());
break;case b.BOTTOM:a.el.setY(a.resizingEl.getTop()-a.el.getHeight())}}};Ext.SplitBar.VERTICAL=1;Ext.SplitBar.HORIZONTAL=2;Ext.SplitBar.LEFT=1;Ext.SplitBar.RIGHT=2;Ext.SplitBar.TOP=3;Ext.SplitBar.BOTTOM=4;
Ext.Container=Ext.extend(Ext.BoxComponent,{bufferResize:50,autoDestroy:!0,forceLayout:!1,defaultType:"panel",resizeEvent:"resize",bubbleEvents:["add","remove"],initComponent:function(){Ext.Container.superclass.initComponent.call(this);this.addEvents("afterlayout","beforeadd","beforeremove","add","remove");var a=this.items;a&&(delete this.items,this.add(a))},initItems:function(){this.items||(this.items=new Ext.util.MixedCollection(!1,this.getComponentId),this.getLayout())},setLayout:function(a){this.layout&&
this.layout!=a&&this.layout.setContainer(null);this.layout=a;this.initItems();a.setContainer(this)},afterRender:function(){Ext.Container.superclass.afterRender.call(this);this.layout||(this.layout="auto");Ext.isObject(this.layout)&&!this.layout.layout&&(this.layoutConfig=this.layout,this.layout=this.layoutConfig.type);Ext.isString(this.layout)&&(this.layout=new (Ext.Container.LAYOUTS[this.layout.toLowerCase()])(this.layoutConfig));this.setLayout(this.layout);if(void 0!==this.activeItem){var a=this.activeItem;
delete this.activeItem;this.layout.setActiveItem(a)}this.ownerCt||this.doLayout(!1,!0);if(!0===this.monitorResize)Ext.EventManager.onWindowResize(this.doLayout,this,[!1])},getLayoutTarget:function(){return this.el},getComponentId:function(a){return a.getItemId()},add:function(a){this.initItems();var b=1<arguments.length;if(b||Ext.isArray(a)){var c=[];Ext.each(b?arguments:a,function(a){c.push(this.add(a))},this);return c}var b=this.lookupComponent(this.applyDefaults(a)),d=this.items.length;!1!==this.fireEvent("beforeadd",
this,b,d)&&!1!==this.onBeforeAdd(b)&&(this.items.add(b),b.onAdded(this,d),this.onAdd(b),this.fireEvent("add",this,b,d));return b},onAdd:function(){},onAdded:function(a,b){this.ownerCt=a;this.initRef();this.cascade(function(a){a.initRef()});this.fireEvent("added",this,a,b)},insert:function(a,b){this.initItems();var c=arguments,d=c.length;if(2<d){for(var g=[],d=d-1;1<=d;--d)g.push(this.insert(a,c[d]));return g}c=this.lookupComponent(this.applyDefaults(b));a=Math.min(a,this.items.length);!1!==this.fireEvent("beforeadd",
this,c,a)&&!1!==this.onBeforeAdd(c)&&(c.ownerCt==this&&this.items.remove(c),this.items.insert(a,c),c.onAdded(this,a),this.onAdd(c),this.fireEvent("add",this,c,a));return c},applyDefaults:function(a){var b=this.defaults;b&&(Ext.isFunction(b)&&(b=b.call(this,a)),Ext.isString(a)?(a=Ext.ComponentMgr.get(a),Ext.apply(a,b)):a.events?Ext.apply(a,b):Ext.applyIf(a,b));return a},onBeforeAdd:function(a){a.ownerCt&&a.ownerCt.remove(a,!1);!0===this.hideBorders&&(a.border=!0===a.border)},remove:function(a,b){this.initItems();
var c=this.getComponent(a);c&&!1!==this.fireEvent("beforeremove",this,c)&&(this.doRemove(c,b),this.fireEvent("remove",this,c));return c},onRemove:function(){},doRemove:function(a,b){var c=this.layout,d=c&&this.rendered;if(d)c.onRemove(a);this.items.remove(a);a.onRemoved();this.onRemove(a);(!0===b||!1!==b&&this.autoDestroy)&&a.destroy();d&&c.afterRemove(a)},removeAll:function(a){this.initItems();var b,c=[],d=[];this.items.each(function(a){c.push(a)});for(var g=0,h=c.length;g<h;++g)b=c[g],this.remove(b,
a),b.ownerCt!==this&&d.push(b);return d},getComponent:function(a){Ext.isObject(a)&&(a=a.getItemId());return this.items.get(a)},lookupComponent:function(a){return Ext.isString(a)?Ext.ComponentMgr.get(a):!a.events?this.createComponent(a):a},createComponent:function(a,b){if(a.render)return a;var c=Ext.create(Ext.apply({ownerCt:this},a),b||this.defaultType);delete c.initialConfig.ownerCt;delete c.ownerCt;return c},canLayout:function(){var a=this.getVisibilityEl();return a&&a.dom&&!a.isStyle("display",
"none")},doLayout:function(a,b){var c=this.rendered,d=b||this.forceLayout;if(this.collapsed||!this.canLayout()){this.deferLayout=this.deferLayout||!a;if(!d)return;a=a&&!this.deferLayout}else delete this.deferLayout;c&&this.layout&&this.layout.layout();if(!0!==a&&this.items)for(var g=this.items.items,h=0,l=g.length;h<l;h++){var n=g[h];n.doLayout&&n.doLayout(!1,d)}if(c)this.onLayout(a,d);this.hasLayout=!0;delete this.forceLayout},onLayout:Ext.emptyFn,shouldBufferLayout:function(){var a=this.hasLayout;
return this.ownerCt?a?!this.hasLayoutPending():!1:a},hasLayoutPending:function(){var a=!1;this.ownerCt.bubble(function(b){if(b.layoutPending)return a=!0,!1});return a},onShow:function(){Ext.Container.superclass.onShow.call(this);Ext.isDefined(this.deferLayout)&&(delete this.deferLayout,this.doLayout(!0))},getLayout:function(){if(!this.layout){var a=new Ext.layout.AutoLayout(this.layoutConfig);this.setLayout(a)}return this.layout},beforeDestroy:function(){var a;if(this.items)for(;a=this.items.first();)this.doRemove(a,
!0);this.monitorResize&&Ext.EventManager.removeResizeListener(this.doLayout,this);Ext.destroy(this.layout);Ext.Container.superclass.beforeDestroy.call(this)},bubble:function(a,b,c){for(var d=this;d&&!1!==a.apply(b||d,c||[d]);)d=d.ownerCt;return this},cascade:function(a,b,c){if(!1!==a.apply(b||this,c||[this])&&this.items)for(var d=this.items.items,g=0,h=d.length;g<h;g++)d[g].cascade?d[g].cascade(a,b,c):a.apply(b||d[g],c||[d[g]]);return this},findById:function(a){var b,c=this;this.cascade(function(d){if(c!=
d&&d.id===a)return b=d,!1});return b||null},findByType:function(a,b){return this.findBy(function(c){return c.isXType(a,b)})},find:function(a,b){return this.findBy(function(c){return c[a]===b})},findBy:function(a,b){var c=[],d=this;this.cascade(function(g){d!=g&&!0===a.call(b||g,g,d)&&c.push(g)});return c},get:function(a){return this.items.get(a)}});Ext.Container.LAYOUTS={};Ext.reg("container",Ext.Container);
Ext.layout.ContainerLayout=Ext.extend(Object,{monitorResize:!1,activeItem:null,constructor:function(a){this.id=Ext.id(null,"ext-layout-");Ext.apply(this,a)},type:"container",IEMeasureHack:function(a,b){var c=a.dom.childNodes,d=c.length,g,h=[],l,n;for(l=0;l<d;l++)if(g=c[l],g=Ext.get(g))h[l]=g.getStyle("display"),g.setStyle({display:"none"});n=a?a.getViewSize(b):{};for(l=0;l<d;l++)g=c[l],(g=Ext.get(g))&&g.setStyle({display:h[l]});return n},getLayoutTargetSize:Ext.EmptyFn,layout:function(){var a=this.container,
b=a.getLayoutTarget();!this.hasLayout&&!Ext.isEmpty(this.targetCls)&&b.addClass(this.targetCls);this.onLayout(a,b);a.fireEvent("afterlayout",a,this)},onLayout:function(a,b){this.renderAll(a,b)},isValidParent:function(a,b){return b&&a.getPositionEl().dom.parentNode==(b.dom||b)},renderAll:function(a,b){var c=a.items.items,d,g,h=c.length;for(d=0;d<h;d++)(g=c[d])&&(!g.rendered||!this.isValidParent(g,b))&&this.renderItem(g,d,b)},renderItem:function(a,b,c){a&&(a.rendered?this.isValidParent(a,c)||(Ext.isNumber(b)&&
(b=c.dom.childNodes[b]),c.dom.insertBefore(a.getPositionEl().dom,b||null),a.container=c,this.configureItem(a,b)):(a.render(c,b),this.configureItem(a,b)))},getRenderedItems:function(a){var b=a.getLayoutTarget(),a=a.items.items,c=a.length,d,g,h=[];for(d=0;d<c;d++)(g=a[d]).rendered&&this.isValidParent(g,b)&&h.push(g);return h},configureItem:function(a){this.extraCls&&(a.getPositionEl?a.getPositionEl():a).addClass(this.extraCls);a.doLayout&&this.forceLayout&&a.doLayout();this.renderHidden&&a!=this.activeItem&&
a.hide()},onRemove:function(a){this.activeItem==a&&delete this.activeItem;a.rendered&&this.extraCls&&(a.getPositionEl?a.getPositionEl():a).removeClass(this.extraCls)},afterRemove:function(a){a.removeRestore&&(a.removeMode="container",delete a.removeRestore)},onResize:function(){var a=this.container,b;a.collapsed||((b=a.bufferResize&&a.shouldBufferLayout())?(this.resizeTask||(this.resizeTask=new Ext.util.DelayedTask(this.runLayout,this),this.resizeBuffer=Ext.isNumber(b)?b:50),a.layoutPending=!0,this.resizeTask.delay(this.resizeBuffer)):
this.runLayout())},runLayout:function(){var a=this.container;this.layout();a.onLayout();delete a.layoutPending},setContainer:function(a){if(this.monitorResize&&a!=this.container){var b=this.container;b&&b.un(b.resizeEvent,this.onResize,this);if(a)a.on(a.resizeEvent,this.onResize,this)}this.container=a},parseMargins:function(a){Ext.isNumber(a)&&(a=a.toString());var a=a.split(" "),b=a.length;1==b?a[1]=a[2]=a[3]=a[0]:2==b?(a[2]=a[0],a[3]=a[1]):3==b&&(a[3]=a[1]);return{top:parseInt(a[0],10)||0,right:parseInt(a[1],
10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}},fieldTpl:function(){var a=new Ext.Template('<div class="x-form-item {itemCls}" tabIndex="-1">','<label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}</label>','<div class="x-form-element" id="x-form-el-{id}" style="{elementStyle}">','</div><div class="{clearCls}"></div>',"</div>");a.disableFormats=!0;return a.compile()}(),destroy:function(){this.resizeTask&&this.resizeTask.cancel&&this.resizeTask.cancel();
if(!Ext.isEmpty(this.targetCls)){var a=this.container.getLayoutTarget();a&&a.removeClass(this.targetCls)}}});Ext.layout.AutoLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"auto",monitorResize:!0,onLayout:function(a,b){Ext.layout.AutoLayout.superclass.onLayout.call(this,a,b);var c=this.getRenderedItems(a),d=c.length,g,h;for(g=0;g<d;g++)h=c[g],h.doLayout&&h.doLayout(!0)}});Ext.Container.LAYOUTS.auto=Ext.layout.AutoLayout;
Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,type:"fit",getLayoutTargetSize:function(){var a=this.container.getLayoutTarget();return!a?{}:a.getStyleSize()},onLayout:function(a,b){Ext.layout.FitLayout.superclass.onLayout.call(this,a,b);a.collapsed||this.setItemSize(this.activeItem||a.items.itemAt(0),this.getLayoutTargetSize())},setItemSize:function(a,b){a&&0<b.height&&a.setSize(b)}});Ext.Container.LAYOUTS.fit=Ext.layout.FitLayout;
Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{deferredRender:!1,layoutOnCardChange:!1,renderHidden:!0,type:"card",setActiveItem:function(a){var b=this.activeItem;if((a=this.container.getComponent(a))&&b!=a){if(b){b.hide();if(!0!==b.hidden)return!1;b.fireEvent("deactivate",b)}b=a.doLayout&&(this.layoutOnCardChange||!a.rendered);this.activeItem=a;delete a.deferLayout;a.show();this.layout();b&&a.doLayout();a.fireEvent("activate",a)}},renderAll:function(a,b){this.deferredRender?this.renderItem(this.activeItem,
void 0,b):Ext.layout.CardLayout.superclass.renderAll.call(this,a,b)}});Ext.Container.LAYOUTS.card=Ext.layout.CardLayout;
Ext.layout.AnchorLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,getLayoutTargetSize:function(){var a=this.container.getLayoutTarget();return!a?{}:a.getStyleSize()},onLayout:function(a,b){Ext.layout.AnchorLayout.superclass.onLayout.call(this,a,b);var c=this.getLayoutTargetSize(),d=c.width,c=c.height;if(!(20>d&&20>c)){var g,h;a.anchorSize?"number"==typeof a.anchorSize?g=a.anchorSize:(g=a.anchorSize.width,h=a.anchorSize.height):
(g=a.initialConfig.width,h=a.initialConfig.height);var l=this.getRenderedItems(a),n=l.length,q,r,s,p,v,t=[];for(q=0;q<n;q++){r=l[q];v=r.getPositionEl();if(!r.anchor&&r.items&&!Ext.isNumber(r.width)&&(!Ext.isIE6||!Ext.isStrict))r.anchor=this.defaultAnchor;if(r.anchor&&(s=r.anchorSpec,s||(p=r.anchor.split(" "),r.anchorSpec=s={right:this.parseAnchor(p[0],r.initialConfig.width,g),bottom:this.parseAnchor(p[1],r.initialConfig.height,h)}),p=s.right?this.adjustWidthAnchor(s.right(d)-v.getMargins("lr"),r):
void 0,v=s.bottom?this.adjustHeightAnchor(s.bottom(c)-v.getMargins("tb"),r):void 0,p||v))t.push({comp:r,width:p||void 0,height:v||void 0})}q=0;for(n=t.length;q<n;q++)r=t[q],r.comp.setSize(r.width,r.height)}},parseAnchor:function(a,b,c){if(a&&"none"!=a){var d;if(this.parseAnchorRE.test(a)){var g=c-b;return function(a){if(a!==d)return d=a,a-g}}if(-1!=a.indexOf("%")){var h=0.01*parseFloat(a.replace("%",""));return function(a){if(a!==d)return d=a,Math.floor(a*h)}}a=parseInt(a,10);if(!isNaN(a))return function(b){if(b!==
d)return d=b,b+a}}return!1},adjustWidthAnchor:function(a){return a},adjustHeightAnchor:function(a){return a}});Ext.Container.LAYOUTS.anchor=Ext.layout.AnchorLayout;
Ext.layout.ColumnLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,type:"column",extraCls:"x-column",scrollOffset:0,targetCls:"x-column-layout-ct",isValidParent:function(a){return this.innerCt&&a.getPositionEl().dom.parentNode==this.innerCt.dom},getLayoutTargetSize:function(){var a=this.container.getLayoutTarget(),b;a&&(b=a.getViewSize(),Ext.isIE&&(Ext.isStrict&&0==b.width)&&(b=a.getStyleSize()),b.width-=a.getPadding("lr"),b.height-=a.getPadding("tb"));return b},renderAll:function(a,
b){this.innerCt||(this.innerCt=b.createChild({cls:"x-column-inner"}),this.innerCt.createChild({cls:"x-clear"}));Ext.layout.ColumnLayout.superclass.renderAll.call(this,a,this.innerCt)},onLayout:function(a,b){var c=a.items.items,d=c.length,g,h,l,n=[];this.renderAll(a,b);var q=this.getLayoutTargetSize();if(!(1>q.width&&1>q.height)){var r=g=q.width-this.scrollOffset;this.innerCt.setWidth(g);for(h=0;h<d;h++)g=c[h],l=g.getPositionEl().getMargins("lr"),n[h]=l,g.columnWidth||(r-=g.getWidth()+l);r=0>r?0:r;
for(h=0;h<d;h++)g=c[h],l=n[h],g.columnWidth&&g.setSize(Math.floor(g.columnWidth*r)-l);Ext.isIE&&(b.getStyle("overflow")&&("hidden"!=h&&!this.adjustmentPass)&&this.getLayoutTargetSize().width!=q.width)&&(this.adjustmentPass=!0,this.onLayout(a,b));delete this.adjustmentPass}}});Ext.Container.LAYOUTS.column=Ext.layout.ColumnLayout;
Ext.layout.BorderLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,rendered:!1,type:"border",targetCls:"x-border-layout-ct",getLayoutTargetSize:function(){var a=this.container.getLayoutTarget();return a?a.getViewSize():{}},onLayout:function(a,b){var c,d,g,h,l=a.items.items,n=l.length;if(!this.rendered){c=[];for(d=0;d<n;d++)g=l[d],h=g.region,g.collapsed&&c.push(g),g.collapsed=!1,g.rendered||(g.render(b,d),g.getPositionEl().addClass("x-border-panel")),this[h]="center"!=h&&g.split?new Ext.layout.BorderLayout.SplitRegion(this,
g.initialConfig,h):new Ext.layout.BorderLayout.Region(this,g.initialConfig,h),this[h].render(b,g);this.rendered=!0}h=this.getLayoutTargetSize();if(20>h.width||20>h.height)c&&(this.restoreCollapsed=c);else{this.restoreCollapsed&&(c=this.restoreCollapsed,delete this.restoreCollapsed);var n=h.width,q=h.height,l=n,r=q,s=0,p=0,v=this.north,t=this.south,A=this.west,w=this.east;g=this.center;var C,z;if(!g&&!1!==Ext.layout.BorderLayout.WARN)throw"No center region defined in BorderLayout "+a.id;v&&v.isVisible()&&
(C=v.getSize(),z=v.getMargins(),C.width=n-(z.left+z.right),C.x=z.left,C.y=z.top,s=C.height+C.y+z.bottom,r-=s,v.applyLayout(C));t&&t.isVisible()&&(C=t.getSize(),z=t.getMargins(),C.width=n-(z.left+z.right),C.x=z.left,v=C.height+z.top+z.bottom,C.y=q-v+z.top,r-=v,t.applyLayout(C));A&&A.isVisible()&&(C=A.getSize(),z=A.getMargins(),C.height=r-(z.top+z.bottom),C.x=z.left,C.y=s+z.top,q=C.width+z.left+z.right,p+=q,l-=q,A.applyLayout(C));w&&w.isVisible()&&(C=w.getSize(),z=w.getMargins(),C.height=r-(z.top+z.bottom),
q=C.width+z.left+z.right,C.x=n-q+z.left,C.y=s+z.top,l-=q,w.applyLayout(C));g&&(z=g.getMargins(),g.applyLayout({x:p+z.left,y:s+z.top,width:l-(z.left+z.right),height:r-(z.top+z.bottom)}));if(c){d=0;for(n=c.length;d<n;d++)c[d].collapse(!1)}Ext.isIE&&Ext.isStrict&&b.repaint();if(b.getStyle("overflow")&&("hidden"!=d&&!this.adjustmentPass)&&(c=this.getLayoutTargetSize(),c.width!=h.width||c.height!=h.height))this.adjustmentPass=!0,this.onLayout(a,b);delete this.adjustmentPass}},destroy:function(){var a=
["north","south","east","west"],b,c;for(b=0;b<a.length;b++)(c=this[a[b]])&&(c.destroy?c.destroy():c.split&&c.split.destroy(!0));Ext.layout.BorderLayout.superclass.destroy.call(this)}});
Ext.layout.BorderLayout.Region=function(a,b,c){Ext.apply(this,b);this.layout=a;this.position=c;this.state={};"string"==typeof this.margins&&(this.margins=this.layout.parseMargins(this.margins));this.margins=Ext.applyIf(this.margins||{},this.defaultMargins);this.collapsible&&("string"==typeof this.cmargins&&(this.cmargins=this.layout.parseMargins(this.cmargins)),this.cmargins="mini"==this.collapseMode&&!this.cmargins?{left:0,top:0,right:0,bottom:0}:Ext.applyIf(this.cmargins||{},"north"==c||"south"==
c?this.defaultNSCMargins:this.defaultEWCMargins))};
Ext.layout.BorderLayout.Region.prototype={collapsible:!1,split:!1,floatable:!0,minWidth:50,minHeight:50,defaultMargins:{left:0,top:0,right:0,bottom:0},defaultNSCMargins:{left:5,top:5,right:5,bottom:5},defaultEWCMargins:{left:5,top:0,right:5,bottom:0},floatingZIndex:100,isCollapsed:!1,render:function(a,b){this.panel=b;b.el.enableDisplayMode();this.targetEl=a;this.el=b.el;var c=b.getState,d=this.position;b.getState=function(){return Ext.apply(c.call(b)||{},this.state)}.createDelegate(this);if("center"!=
d){b.allowQueuedExpand=!1;b.on({beforecollapse:this.beforeCollapse,collapse:this.onCollapse,beforeexpand:this.beforeExpand,expand:this.onExpand,hide:this.onHide,show:this.onShow,scope:this});if(this.collapsible||this.floatable)b.collapseEl="el",b.slideAnchor=this.getSlideAnchor();b.tools&&b.tools.toggle&&(b.tools.toggle.addClass("x-tool-collapse-"+d),b.tools.toggle.addClassOnOver("x-tool-collapse-"+d+"-over"))}},getCollapsedEl:function(){if(!this.collapsedEl){if(!this.toolTemplate){var a=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');
a.disableFormats=!0;a.compile();Ext.layout.BorderLayout.Region.prototype.toolTemplate=a}this.collapsedEl=this.targetEl.createChild({cls:"x-layout-collapsed x-layout-collapsed-"+this.position,id:this.panel.id+"-xcollapsed"});this.collapsedEl.enableDisplayMode("block");if("mini"==this.collapseMode)this.collapsedEl.addClass("x-layout-cmini-"+this.position),this.miniCollapsedEl=this.collapsedEl.createChild({cls:"x-layout-mini x-layout-mini-"+this.position,html:"&#160;"}),this.miniCollapsedEl.addClassOnOver("x-layout-mini-over"),
this.collapsedEl.addClassOnOver("x-layout-collapsed-over"),this.collapsedEl.on("click",this.onExpandClick,this,{stopEvent:!0});else if(!1!==this.collapsible&&!this.hideCollapseTool&&(a=this.toolTemplate.append(this.collapsedEl.dom,{id:"expand-"+this.position},!0),a.addClassOnOver("x-tool-expand-"+this.position+"-over"),a.on("click",this.onExpandClick,this,{stopEvent:!0})),!1!==this.floatable||this.titleCollapse)this.collapsedEl.addClassOnOver("x-layout-collapsed-over"),this.collapsedEl.on("click",
this[this.floatable?"collapseClick":"onExpandClick"],this)}return this.collapsedEl},onExpandClick:function(){this.isSlid?this.panel.expand(!1):this.panel.expand()},onCollapseClick:function(){this.panel.collapse()},beforeCollapse:function(a,b){this.lastAnim=b;this.splitEl&&this.splitEl.hide();this.getCollapsedEl().show();var c=this.panel.getEl();this.originalZIndex=c.getStyle("z-index");c.setStyle("z-index",100);this.isCollapsed=!0;this.layout.layout()},onCollapse:function(){this.panel.el.setStyle("z-index",
1);!1===this.lastAnim||!1===this.panel.animCollapse?this.getCollapsedEl().dom.style.visibility="visible":this.getCollapsedEl().slideIn(this.panel.slideAnchor,{duration:0.2});this.state.collapsed=!0;this.panel.saveState()},beforeExpand:function(){this.isSlid&&this.afterSlideIn();var a=this.getCollapsedEl();this.el.show();"east"==this.position||"west"==this.position?this.panel.setSize(void 0,a.getHeight()):this.panel.setSize(a.getWidth(),void 0);a.hide();a.dom.style.visibility="hidden";this.panel.el.setStyle("z-index",
this.floatingZIndex)},onExpand:function(){this.isCollapsed=!1;this.splitEl&&this.splitEl.show();this.layout.layout();this.panel.el.setStyle("z-index",this.originalZIndex);this.state.collapsed=!1;this.panel.saveState()},collapseClick:function(a){this.isSlid?(a.stopPropagation(),this.slideIn()):(a.stopPropagation(),this.slideOut())},onHide:function(){this.isCollapsed?this.getCollapsedEl().hide():this.splitEl&&this.splitEl.hide()},onShow:function(){this.isCollapsed?this.getCollapsedEl().show():this.splitEl&&
this.splitEl.show()},isVisible:function(){return!this.panel.hidden},getMargins:function(){return this.isCollapsed&&this.cmargins?this.cmargins:this.margins},getSize:function(){return this.isCollapsed?this.getCollapsedEl().getSize():this.panel.getSize()},setPanel:function(a){this.panel=a},getMinWidth:function(){return this.minWidth},getMinHeight:function(){return this.minHeight},applyLayoutCollapsed:function(a){var b=this.getCollapsedEl();b.setLeftTop(a.x,a.y);b.setSize(a.width,a.height)},applyLayout:function(a){this.isCollapsed?
this.applyLayoutCollapsed(a):(this.panel.setPosition(a.x,a.y),this.panel.setSize(a.width,a.height))},beforeSlide:function(){this.panel.beforeEffect()},afterSlide:function(){this.panel.afterEffect()},initAutoHide:function(){!1!==this.autoHide&&(this.autoHideHd||(this.autoHideSlideTask=new Ext.util.DelayedTask(this.slideIn,this),this.autoHideHd={mouseout:function(a){a.within(this.el,!0)||this.autoHideSlideTask.delay(500)},mouseover:function(){this.autoHideSlideTask.cancel()},scope:this}),this.el.on(this.autoHideHd),
this.collapsedEl.on(this.autoHideHd))},clearAutoHide:function(){!1!==this.autoHide&&(this.el.un("mouseout",this.autoHideHd.mouseout),this.el.un("mouseover",this.autoHideHd.mouseover),this.collapsedEl.un("mouseout",this.autoHideHd.mouseout),this.collapsedEl.un("mouseover",this.autoHideHd.mouseover))},clearMonitor:function(){Ext.getDoc().un("click",this.slideInIf,this)},slideOut:function(){if(!this.isSlid&&!this.el.hasActiveFx()){this.isSlid=!0;var a=this.panel.tools,b;a&&a.toggle&&a.toggle.hide();
this.el.show();b=this.panel.collapsed;this.panel.collapsed=!1;"east"==this.position||"west"==this.position?(a=this.panel.deferHeight,this.panel.deferHeight=!1,this.panel.setSize(void 0,this.collapsedEl.getHeight()),this.panel.deferHeight=a):this.panel.setSize(this.collapsedEl.getWidth(),void 0);this.panel.collapsed=b;this.restoreLT=[this.el.dom.style.left,this.el.dom.style.top];this.el.alignTo(this.collapsedEl,this.getCollapseAnchor());this.el.setStyle("z-index",this.floatingZIndex+2);this.panel.el.replaceClass("x-panel-collapsed",
"x-panel-floating");!1!==this.animFloat?(this.beforeSlide(),this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.afterSlide();this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)},scope:this,block:!0})):(this.initAutoHide(),Ext.getDoc().on("click",this.slideInIf,this))}},afterSlideIn:function(){this.clearAutoHide();this.isSlid=!1;this.clearMonitor();this.el.setStyle("z-index","");this.panel.el.replaceClass("x-panel-floating","x-panel-collapsed");this.el.dom.style.left=this.restoreLT[0];
this.el.dom.style.top=this.restoreLT[1];var a=this.panel.tools;a&&a.toggle&&a.toggle.show()},slideIn:function(a){!this.isSlid||this.el.hasActiveFx()?Ext.callback(a):(this.isSlid=!1,!1!==this.animFloat?(this.beforeSlide(),this.el.slideOut(this.getSlideAnchor(),{callback:function(){this.el.hide();this.afterSlide();this.afterSlideIn();Ext.callback(a)},scope:this,block:!0})):(this.el.hide(),this.afterSlideIn()))},slideInIf:function(a){a.within(this.el)||this.slideIn()},anchors:{west:"left",east:"right",
north:"top",south:"bottom"},sanchors:{west:"l",east:"r",north:"t",south:"b"},canchors:{west:"tl-tr",east:"tr-tl",north:"tl-bl",south:"bl-tl"},getAnchor:function(){return this.anchors[this.position]},getCollapseAnchor:function(){return this.canchors[this.position]},getSlideAnchor:function(){return this.sanchors[this.position]},getAlignAdj:function(){switch(this.position){case "west":return[0,0];case "east":return[0,0];case "north":return[0,0];case "south":return[0,0]}},getExpandAdj:function(){var a=
this.collapsedEl,b=this.cmargins;switch(this.position){case "west":return[-(b.right+a.getWidth()+b.left),0];case "east":return[b.right+a.getWidth()+b.left,0];case "north":return[0,-(b.top+b.bottom+a.getHeight())];case "south":return[0,b.top+b.bottom+a.getHeight()]}},destroy:function(){this.autoHideSlideTask&&this.autoHideSlideTask.cancel&&this.autoHideSlideTask.cancel();Ext.destroy(this.miniCollapsedEl,this.collapsedEl)}};
Ext.layout.BorderLayout.SplitRegion=function(a,b,c){Ext.layout.BorderLayout.SplitRegion.superclass.constructor.call(this,a,b,c);this.applyLayout=this.applyFns[c]};
Ext.extend(Ext.layout.BorderLayout.SplitRegion,Ext.layout.BorderLayout.Region,{splitTip:"Drag to resize.",collapsibleSplitTip:"Drag to resize. Double click to hide.",useSplitTips:!1,splitSettings:{north:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.TOP,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},south:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.BOTTOM,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},east:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.RIGHT,
maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"},west:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.LEFT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"}},applyFns:{west:function(a){if(this.isCollapsed)return this.applyLayoutCollapsed(a);var b=this.splitEl.dom,c=b.style;this.panel.setPosition(a.x,a.y);b=b.offsetWidth;c.left=a.x+a.width-b+"px";c.top=a.y+"px";c.height=Math.max(0,a.height)+"px";this.panel.setSize(a.width-b,a.height)},east:function(a){if(this.isCollapsed)return this.applyLayoutCollapsed(a);
var b=this.splitEl.dom,c=b.style,b=b.offsetWidth;this.panel.setPosition(a.x+b,a.y);c.left=a.x+"px";c.top=a.y+"px";c.height=Math.max(0,a.height)+"px";this.panel.setSize(a.width-b,a.height)},north:function(a){if(this.isCollapsed)return this.applyLayoutCollapsed(a);var b=this.splitEl.dom,c=b.style,b=b.offsetHeight;this.panel.setPosition(a.x,a.y);c.left=a.x+"px";c.top=a.y+a.height-b+"px";c.width=Math.max(0,a.width)+"px";this.panel.setSize(a.width,a.height-b)},south:function(a){if(this.isCollapsed)return this.applyLayoutCollapsed(a);
var b=this.splitEl.dom,c=b.style,b=b.offsetHeight;this.panel.setPosition(a.x,a.y+b);c.left=a.x+"px";c.top=a.y+"px";c.width=Math.max(0,a.width)+"px";this.panel.setSize(a.width,a.height-b)}},render:function(a,b){Ext.layout.BorderLayout.SplitRegion.superclass.render.call(this,a,b);var c=this.position;this.splitEl=a.createChild({cls:"x-layout-split x-layout-split-"+c,html:"&#160;",id:this.panel.id+"-xsplit"});"mini"==this.collapseMode&&(this.miniSplitEl=this.splitEl.createChild({cls:"x-layout-mini x-layout-mini-"+
c,html:"&#160;"}),this.miniSplitEl.addClassOnOver("x-layout-mini-over"),this.miniSplitEl.on("click",this.onCollapseClick,this,{stopEvent:!0}));c=this.splitSettings[c];this.split=new Ext.SplitBar(this.splitEl.dom,b.el,c.orientation);this.split.tickSize=this.tickSize;this.split.placement=c.placement;this.split.getMaximumSize=this[c.maxFn].createDelegate(this);this.split.minSize=this.minSize||this[c.minProp];this.split.on("beforeapply",this.onSplitMove,this);this.split.useShim=!0===this.useShim;this.maxSize=
this.maxSize||this[c.maxProp];b.hidden&&this.splitEl.hide();this.useSplitTips&&(this.splitEl.dom.title=this.collapsible?this.collapsibleSplitTip:this.splitTip);if(this.collapsible)this.splitEl.on("dblclick",this.onCollapseClick,this)},getSize:function(){if(this.isCollapsed)return this.collapsedEl.getSize();var a=this.panel.getSize();"north"==this.position||"south"==this.position?a.height+=this.splitEl.dom.offsetHeight:a.width+=this.splitEl.dom.offsetWidth;return a},getHMaxSize:function(){var a=this.layout.center;
return Math.min(this.maxSize||1E4,this.el.getWidth()+a.el.getWidth()-a.getMinWidth())},getVMaxSize:function(){var a=this.layout.center;return Math.min(this.maxSize||1E4,this.el.getHeight()+a.el.getHeight()-a.getMinHeight())},onSplitMove:function(a,b){var c=this.panel.getSize();this.lastSplitSize=b;"north"==this.position||"south"==this.position?(this.panel.setSize(c.width,b),this.state.height=b):(this.panel.setSize(b,c.height),this.state.width=b);this.layout.layout();this.panel.saveState();return!1},
getSplitBar:function(){return this.split},destroy:function(){Ext.destroy(this.miniSplitEl,this.split,this.splitEl);Ext.layout.BorderLayout.SplitRegion.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.border=Ext.layout.BorderLayout;
Ext.layout.FormLayout=Ext.extend(Ext.layout.AnchorLayout,{labelSeparator:":",trackLabels:!1,type:"form",onRemove:function(a){Ext.layout.FormLayout.superclass.onRemove.call(this,a);this.trackLabels&&(a.un("show",this.onFieldShow,this),a.un("hide",this.onFieldHide,this));var b=a.getPositionEl(),c=a.getItemCt&&a.getItemCt();a.rendered&&c&&(b&&b.dom&&b.insertAfter(c),Ext.destroy(c),Ext.destroyMembers(a,"label","itemCt"),a.customItemCt&&Ext.destroyMembers(a,"getItemCt","customItemCt"))},setContainer:function(a){Ext.layout.FormLayout.superclass.setContainer.call(this,
a);a.labelAlign&&a.addClass("x-form-label-"+a.labelAlign);if(a.hideLabels)Ext.apply(this,{labelStyle:"display:none",elementStyle:"padding-left:0;",labelAdjust:0});else{this.labelSeparator=a.labelSeparator||this.labelSeparator;a.labelWidth=a.labelWidth||100;if(Ext.isNumber(a.labelWidth)){var b=Ext.isNumber(a.labelPad)?a.labelPad:5;Ext.apply(this,{labelAdjust:a.labelWidth+b,labelStyle:"width:"+a.labelWidth+"px;",elementStyle:"padding-left:"+(a.labelWidth+b)+"px"})}"top"==a.labelAlign&&Ext.apply(this,
{labelStyle:"width:auto;",labelAdjust:0,elementStyle:"padding-left:0;"})}},isHide:function(a){return a.hideLabel||this.container.hideLabels},onFieldShow:function(a){a.getItemCt().removeClass("x-hide-"+a.hideMode);a.isComposite&&a.doLayout()},onFieldHide:function(a){a.getItemCt().addClass("x-hide-"+a.hideMode)},getLabelStyle:function(a){for(var b="",a=[this.labelStyle,a],c=0,d=a.length;c<d;++c)a[c]&&(b+=a[c],";"!=b.substr(-1,1)&&(b+=";"));return b},renderItem:function(a,b,c){if(a&&(a.isFormField||
a.fieldLabel)&&"hidden"!=a.inputType){var d=this.getTemplateArgs(a);Ext.isNumber(b)&&(b=c.dom.childNodes[b]||null);a.itemCt=b?this.fieldTpl.insertBefore(b,d,!0):this.fieldTpl.append(c,d,!0);a.getItemCt||Ext.apply(a,{getItemCt:function(){return a.itemCt},customItemCt:!0});a.label=a.getItemCt().child("label.x-form-item-label");a.rendered?this.isValidParent(a,c)||Ext.fly("x-form-el-"+a.id).appendChild(a.getPositionEl()):a.render("x-form-el-"+a.id);if(this.trackLabels){if(a.hidden)this.onFieldHide(a);
a.on({scope:this,show:this.onFieldShow,hide:this.onFieldHide})}this.configureItem(a)}else Ext.layout.FormLayout.superclass.renderItem.apply(this,arguments)},getTemplateArgs:function(a){var b=!a.fieldLabel||a.hideLabel;return{id:a.id,label:a.fieldLabel,itemCls:(a.itemCls||this.container.itemCls||"")+(a.hideLabel?" x-hide-label":""),clearCls:a.clearCls||"x-form-clear-left",labelStyle:this.getLabelStyle(a.labelStyle),elementStyle:this.elementStyle||"",labelSeparator:b?"":Ext.isDefined(a.labelSeparator)?
a.labelSeparator:this.labelSeparator}},adjustWidthAnchor:function(a,b){return b.label&&!this.isHide(b)&&"top"!=this.container.labelAlign?a-this.labelAdjust+(Ext.isIE6||Ext.isIE&&!Ext.isStrict?-3:0):a},adjustHeightAnchor:function(a,b){return b.label&&!this.isHide(b)&&"top"==this.container.labelAlign?a-b.label.getHeight():a},isValidParent:function(a,b){return b&&this.container.getEl().contains(a.getPositionEl())}});Ext.Container.LAYOUTS.form=Ext.layout.FormLayout;
Ext.layout.AccordionLayout=Ext.extend(Ext.layout.FitLayout,{fill:!0,autoWidth:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:!1,animate:!1,sequence:!1,activeOnTop:!1,type:"accordion",renderItem:function(a){!1===this.animate&&(a.animCollapse=!1);a.collapsible=!0;this.autoWidth&&(a.autoWidth=!0);this.titleCollapse&&(a.titleCollapse=!0);this.hideCollapseTool&&(a.hideCollapseTool=!0);void 0!==this.collapseFirst&&(a.collapseFirst=this.collapseFirst);!this.activeItem&&!a.collapsed?this.setActiveItem(a,
!0):this.activeItem&&this.activeItem!=a&&(a.collapsed=!0);Ext.layout.AccordionLayout.superclass.renderItem.apply(this,arguments);a.header.addClass("x-accordion-hd");a.on("beforeexpand",this.beforeExpand,this)},onRemove:function(a){Ext.layout.AccordionLayout.superclass.onRemove.call(this,a);a.rendered&&a.header.removeClass("x-accordion-hd");a.un("beforeexpand",this.beforeExpand,this)},beforeExpand:function(a,b){var c=this.activeItem;if(c)if(this.sequence){if(delete this.activeItem,!c.collapsed)return c.collapse({callback:function(){a.expand(b||
!0)},scope:this}),!1}else c.collapse(this.animate);this.setActive(a);this.activeOnTop&&a.el.dom.parentNode.insertBefore(a.el.dom,a.el.dom.parentNode.firstChild);this.layout()},setItemSize:function(a,b){if(this.fill&&a){var c=0,d,g=this.getRenderedItems(this.container),h=g.length,l;for(d=0;d<h;d++)if((l=g[d])!=a&&!l.hidden)c+=l.header.getHeight();b.height-=c;a.setSize(b)}},setActiveItem:function(a){this.setActive(a,!0)},setActive:function(a,b){var c=this.activeItem,a=this.container.getComponent(a);
c!=a&&(a.rendered&&a.collapsed&&b?a.expand():(c&&c.fireEvent("deactivate",c),this.activeItem=a,a.fireEvent("activate",a)))}});Ext.Container.LAYOUTS.accordion=Ext.layout.AccordionLayout;Ext.layout.Accordion=Ext.layout.AccordionLayout;
Ext.layout.TableLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!1,type:"table",targetCls:"x-table-layout-ct",tableAttrs:null,setContainer:function(a){Ext.layout.TableLayout.superclass.setContainer.call(this,a);this.currentColumn=this.currentRow=0;this.cells=[]},onLayout:function(a,b){this.table||(b.addClass("x-table-layout-ct"),this.table=b.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,!0));this.renderAll(a,b)},getRow:function(a){a=
this.table.tBodies[0].childNodes[a];a||(a=document.createElement("tr"),this.table.tBodies[0].appendChild(a));return a},getNextCell:function(a){for(var b=this.getNextNonSpan(this.currentColumn,this.currentRow),c=this.currentColumn=b[0],d=b=this.currentRow=b[1];d<b+(a.rowspan||1);d++){this.cells[d]||(this.cells[d]=[]);for(var g=c;g<c+(a.colspan||1);g++)this.cells[d][g]=!0}c=document.createElement("td");a.cellId&&(c.id=a.cellId);d="x-table-layout-cell";a.cellCls&&(d+=" "+a.cellCls);c.className=d;a.colspan&&
(c.colSpan=a.colspan);a.rowspan&&(c.rowSpan=a.rowspan);this.getRow(b).appendChild(c);return c},getNextNonSpan:function(a,b){for(var c=this.columns;c&&a>=c||this.cells[b]&&this.cells[b][a];)c&&a>=c?(b++,a=0):a++;return[a,b]},renderItem:function(a,b,c){this.table||(this.table=c.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,!0));a&&!a.rendered?(a.render(this.getNextCell(a)),this.configureItem(a,b)):a&&!this.isValidParent(a,c)&&(c=this.getNextCell(a),
c.insertBefore(a.getPositionEl().dom,null),a.container=Ext.get(c),this.configureItem(a,b))},isValidParent:function(a,b){return a.getPositionEl().up("table",5).dom.parentNode===(b.dom||b)}});Ext.Container.LAYOUTS.table=Ext.layout.TableLayout;
Ext.layout.AbsoluteLayout=Ext.extend(Ext.layout.AnchorLayout,{extraCls:"x-abs-layout-item",type:"absolute",onLayout:function(a,b){b.position();this.paddingLeft=b.getPadding("l");this.paddingTop=b.getPadding("t");Ext.layout.AbsoluteLayout.superclass.onLayout.call(this,a,b)},adjustWidthAnchor:function(a,b){return a?a-b.getPosition(!0)[0]+this.paddingLeft:a},adjustHeightAnchor:function(a,b){return a?a-b.getPosition(!0)[1]+this.paddingTop:a}});Ext.Container.LAYOUTS.absolute=Ext.layout.AbsoluteLayout;
Ext.layout.BoxLayout=Ext.extend(Ext.layout.ContainerLayout,{defaultMargins:{left:0,top:0,right:0,bottom:0},padding:"0",pack:"start",monitorResize:!0,type:"box",scrollOffset:0,extraCls:"x-box-item",targetCls:"x-box-layout-ct",innerCls:"x-box-inner",constructor:function(a){Ext.layout.BoxLayout.superclass.constructor.call(this,a);Ext.isString(this.defaultMargins)&&(this.defaultMargins=this.parseMargins(this.defaultMargins))},onLayout:function(a,b){Ext.layout.BoxLayout.superclass.onLayout.call(this,a,
b);var c=this.getVisibleItems(a),d=this.getLayoutTargetSize();this.layoutTargetLastSize=d;this.childBoxCache=this.calculateChildBoxes(c,d);this.updateInnerCtSize(d,this.childBoxCache);this.updateChildBoxes(this.childBoxCache.boxes);this.handleTargetOverflow(d,a,b)},updateChildBoxes:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],g=d.component;d.dirtySize&&g.setSize(d.width,d.height);!isNaN(d.left)&&!isNaN(d.top)&&g.setPosition(d.left,d.top)}},updateInnerCtSize:Ext.emptyFn,handleTargetOverflow:function(a,
b,c){var d=c.getStyle("overflow");if(d&&("hidden"!=d&&!this.adjustmentPass)&&(d=this.getLayoutTargetSize(),d.width!=a.width||d.height!=a.height))this.adjustmentPass=!0,this.onLayout(b,c);delete this.adjustmentPass},isValidParent:function(a){return this.innerCt&&a.getPositionEl().dom.parentNode==this.innerCt.dom},getVisibleItems:function(a){var a=a||this.container,b=a.getLayoutTarget(),a=a.items.items,c=a.length,d,g,h=[];for(d=0;d<c;d++)(g=a[d]).rendered&&(this.isValidParent(g,b)&&!0!==g.hidden&&!0!==
g.collapsed)&&h.push(g);return h},renderAll:function(a,b){this.innerCt||(this.innerCt=b.createChild({cls:this.innerCls}),this.padding=this.parseMargins(this.padding));Ext.layout.BoxLayout.superclass.renderAll.call(this,a,this.innerCt)},getLayoutTargetSize:function(){var a=this.container.getLayoutTarget(),b;a&&(b=a.getViewSize(),Ext.isIE&&(Ext.isStrict&&0==b.width)&&(b=a.getStyleSize()),b.width-=a.getPadding("lr"),b.height-=a.getPadding("tb"));return b},renderItem:function(a){Ext.isString(a.margins)?
a.margins=this.parseMargins(a.margins):a.margins||(a.margins=this.defaultMargins);Ext.layout.BoxLayout.superclass.renderItem.apply(this,arguments)}});
Ext.layout.VBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"left",type:"vbox",updateInnerCtSize:function(a,b){var c=a.height,d=b.meta.maxWidth+this.padding.left+this.padding.right;"stretch"==this.align?d=a.width:"center"==this.align&&(d=Math.max(a.width,d));this.innerCt.setSize(d||void 0,c||void 0)},calculateChildBoxes:function(a,b){var c=a.length,d=this.padding,g=d.top,h=d.left,l=g+d.bottom,n=b.height,d=Math.max(0,b.width-this.scrollOffset-(h+d.right)),q="start"==this.pack,r="center"==this.pack,
s="end"==this.pack,p=0,v=0,t=0,A=[],w,C,z,D,G,E;for(E=0;E<c;E++)w=a[E],z=w.height,C=w.width,G=!w.hasLayout&&Ext.isFunction(w.doLayout),Ext.isNumber(z)||(w.flex&&!z?t+=w.flex:(!z&&G&&w.doLayout(),D=w.getSize(),C=D.width,z=D.height)),D=w.margins,p+=(z||0)+D.top+D.bottom,Ext.isNumber(C)||(G&&w.doLayout(),C=w.getWidth()),v=Math.max(v,C+D.left+D.right),A.push({component:w,height:z||void 0,width:C||void 0});E=Math.max(0,n-p-l);r?g+=E/2:s&&(g+=E);l=E;n=t;for(E=0;E<c;E++){w=a[E];t=A[E];D=w.margins;r=D.left+
D.right;g+=D.top;q&&(w.flex&&!w.height)&&(s=Math.ceil(w.flex/n*l),l-=s,n-=w.flex,t.height=s,t.dirtySize=!0);t.left=h+D.left;t.top=g;switch(this.align){case "stretch":r=d-r;t.width=r.constrain(w.minWidth||0,w.maxWidth||1E6);t.dirtySize=!0;break;case "stretchmax":r=v-r;t.width=r.constrain(w.minWidth||0,w.maxWidth||1E6);t.dirtySize=!0;break;case "center":w=d-t.width-r,0<w&&(t.left=h+r+w/2)}g+=t.height+D.bottom}return{boxes:A,meta:{maxWidth:v}}}});Ext.Container.LAYOUTS.vbox=Ext.layout.VBoxLayout;
Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"top",type:"hbox",updateInnerCtSize:function(a,b){var c=a.width,d=b.meta.maxHeight+this.padding.top+this.padding.bottom;"stretch"==this.align?d=a.height:"middle"==this.align&&(d=Math.max(a.height,d));this.innerCt.setSize(c||void 0,d||void 0)},calculateChildBoxes:function(a,b){var c=a.length,d=this.padding,g=d.top,h=d.left,l=h+d.right,n=b.width-this.scrollOffset,d=Math.max(0,b.height-(g+d.bottom)),q="start"==this.pack,r="center"==this.pack,
s="end"==this.pack,p=0,v=0,t=0,A=[],w,C,z,D,G,E;for(E=0;E<c;E++)w=a[E],z=w.height,C=w.width,G=!w.hasLayout&&Ext.isFunction(w.doLayout),Ext.isNumber(C)||(w.flex&&!C?t+=w.flex:(!C&&G&&w.doLayout(),D=w.getSize(),C=D.width,z=D.height)),D=w.margins,p+=(C||0)+D.left+D.right,Ext.isNumber(z)||(G&&w.doLayout(),z=w.getHeight()),v=Math.max(v,z+D.top+D.bottom),A.push({component:w,height:z||void 0,width:C||void 0});E=Math.max(0,n-p-l);r?h+=E/2:s&&(h+=E);l=E;n=t;for(E=0;E<c;E++){w=a[E];t=A[E];D=w.margins;r=D.top+
D.bottom;h+=D.left;q&&(w.flex&&!w.width)&&(s=Math.ceil(w.flex/n*l),l-=s,n-=w.flex,t.width=s,t.dirtySize=!0);t.left=h;t.top=g+D.top;switch(this.align){case "stretch":r=d-r;t.height=r.constrain(w.minHeight||0,w.maxHeight||1E6);t.dirtySize=!0;break;case "stretchmax":r=v-r;t.height=r.constrain(w.minHeight||0,w.maxHeight||1E6);t.dirtySize=!0;break;case "middle":w=d-t.height-r,0<w&&(t.top=g+r+w/2)}h+=t.width+D.right}return{boxes:A,meta:{maxHeight:v}}}});Ext.Container.LAYOUTS.hbox=Ext.layout.HBoxLayout;
Ext.layout.ToolbarLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,type:"toolbar",triggerWidth:18,noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',lastOverflow:!1,tableHTML:'<table cellspacing="0" class="x-toolbar-ct"><tbody><tr><td class="x-toolbar-left" align="{0}"><table cellspacing="0"><tbody><tr class="x-toolbar-left-row"></tr></tbody></table></td><td class="x-toolbar-right" align="right"><table cellspacing="0" class="x-toolbar-right-ct"><tbody><tr><td><table cellspacing="0"><tbody><tr class="x-toolbar-right-row"></tr></tbody></table></td><td><table cellspacing="0"><tbody><tr class="x-toolbar-extras-row"></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table>',
onLayout:function(a,b){if(!this.leftTr){var c="center"==a.buttonAlign?"center":"left";b.addClass("x-toolbar-layout-ct");b.insertHtml("beforeEnd",String.format(this.tableHTML,c));this.leftTr=b.child("tr.x-toolbar-left-row",!0);this.rightTr=b.child("tr.x-toolbar-right-row",!0);this.extrasTr=b.child("tr.x-toolbar-extras-row",!0);void 0==this.hiddenItem&&(this.hiddenItems=[])}for(var c="right"==a.buttonAlign?this.rightTr:this.leftTr,d=a.items.items,g=0,h=0,l=d.length,n;h<l;h++,g++)if(n=d[h],n.isFill)c=
this.rightTr,g=-1;else if(n.rendered){if(!n.xtbHidden&&!this.isValidParent(n,c.childNodes[g])){var q=this.insertCell(n,c,g);q.appendChild(n.getPositionEl().dom);n.container=Ext.get(q)}}else n.render(this.insertCell(n,c,g));this.cleanup(this.leftTr);this.cleanup(this.rightTr);this.cleanup(this.extrasTr);this.fitToSize(b)},cleanup:function(a){var b=a.childNodes,c,d;for(c=b.length-1;0<=c&&(d=b[c]);c--)d.firstChild||a.removeChild(d)},insertCell:function(a,b,c){a=document.createElement("td");a.className=
"x-toolbar-cell";b.insertBefore(a,b.childNodes[c]||null);return a},hideItem:function(a){this.hiddenItems.push(a);a.xtbHidden=!0;a.xtbWidth=a.getPositionEl().dom.parentNode.offsetWidth;a.hide()},unhideItem:function(a){a.show();a.xtbHidden=!1;this.hiddenItems.remove(a)},getItemWidth:function(a){return a.hidden?a.xtbWidth||0:a.getPositionEl().dom.parentNode.offsetWidth},fitToSize:function(a){if(!1!==this.container.enableOverflow){var b=a.dom.clientWidth,c=a.dom.firstChild.offsetWidth,a=b-this.triggerWidth,
d=this.hiddenItems,g=0!=d.length,h=b>=(this.lastWidth||0);this.lastWidth=b;if(c>b||g&&h)for(var b=this.container.items.items,c=b.length,l=g=0;l<c;l++)h=b[l],h.isFill||(g+=this.getItemWidth(h),g>a?!h.hidden&&!h.xtbHidden&&this.hideItem(h):h.xtbHidden&&this.unhideItem(h));(g=0!=d.length)?(this.initMore(),this.lastOverflow||(this.container.fireEvent("overflowchange",this.container,!0),this.lastOverflow=!0)):this.more&&(this.clearMenu(),this.more.destroy(),delete this.more,this.lastOverflow&&(this.container.fireEvent("overflowchange",
this.container,!1),this.lastOverflow=!1))}},createMenuConfig:function(a,b){var c=Ext.apply({},a.initialConfig),d=a.toggleGroup;Ext.copyTo(c,a,"iconCls icon itemId disabled handler scope menu".split(" "));Ext.apply(c,{text:a.overflowText||a.text,hideOnClick:b});(d||a.enableToggle)&&Ext.apply(c,{group:d,checked:a.pressed,listeners:{checkchange:function(b,c){a.toggle(c)}}});delete c.ownerCt;delete c.xtype;delete c.id;return c},addComponentToMenu:function(a,b){b instanceof Ext.Toolbar.Separator?a.add("-"):
Ext.isFunction(b.isXType)&&(b.isXType("splitbutton")?a.add(this.createMenuConfig(b,!0)):b.isXType("button")?a.add(this.createMenuConfig(b,!b.menu)):b.isXType("buttongroup")&&b.items.each(function(b){this.addComponentToMenu(a,b)},this))},clearMenu:function(){var a=this.moreMenu;a&&a.items&&a.items.each(function(a){delete a.menu})},beforeMoreShow:function(a){var b=this.container.items.items,c=b.length,d,g,h=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.Toolbar.Separator)};this.clearMenu();
a.removeAll();for(var l=0;l<c;l++)d=b[l],d.xtbHidden&&(g&&(h(d,g)||h(g,d))&&a.add("-"),this.addComponentToMenu(a,d),g=d);1>a.items.length&&a.add(this.noItemsMenuText)},initMore:function(){if(!this.more){this.moreMenu=new Ext.menu.Menu({ownerCt:this.container,listeners:{beforeshow:this.beforeMoreShow,scope:this}});this.more=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.moreMenu,ownerCt:this.container});var a=this.insertCell(this.more,this.extrasTr,100);this.more.render(a)}},
destroy:function(){Ext.destroy(this.more,this.moreMenu);delete this.leftTr;delete this.rightTr;delete this.extrasTr;Ext.layout.ToolbarLayout.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.toolbar=Ext.layout.ToolbarLayout;
Ext.layout.MenuLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,type:"menu",setContainer:function(a){this.monitorResize=!a.floating;a.on("autosize",this.doAutoSize,this);Ext.layout.MenuLayout.superclass.setContainer.call(this,a)},renderItem:function(a,b,c){this.itemTpl||(this.itemTpl=Ext.layout.MenuLayout.prototype.itemTpl=new Ext.XTemplate('<li id="{itemId}" class="{itemCls}">','<tpl if="needsIcon">','<img src="{icon}" class="{iconCls}"/>',"</tpl>","</li>"));if(a&&!a.rendered){Ext.isNumber(b)&&
(b=c.dom.childNodes[b]);var d=this.getItemArgs(a);a.render(a.positionEl=b?this.itemTpl.insertBefore(b,d,!0):this.itemTpl.append(c,d,!0));a.positionEl.menuItemId=a.getItemId();!d.isMenuItem&&d.needsIcon&&a.positionEl.addClass("x-menu-list-item-indent");this.configureItem(a,b)}else a&&!this.isValidParent(a,c)&&(Ext.isNumber(b)&&(b=c.dom.childNodes[b]),c.dom.insertBefore(a.getActionEl().dom,b||null))},getItemArgs:function(a){var b=a instanceof Ext.menu.Item;return{isMenuItem:b,needsIcon:!b&&(a.icon||
a.iconCls),icon:a.icon||Ext.BLANK_IMAGE_URL,iconCls:"x-menu-item-icon "+(a.iconCls||""),itemId:"x-menu-el-"+a.id,itemCls:"x-menu-list-item "}},isValidParent:function(a,b){return a.el.up("li.x-menu-list-item",5).dom.parentNode===(b.dom||b)},onLayout:function(a,b){Ext.layout.MenuLayout.superclass.onLayout.call(this,a,b);this.doAutoSize()},doAutoSize:function(){var a=this.container,b=a.width;a.floating&&(b?a.setWidth(b):Ext.isIE&&(a.setWidth(Ext.isStrict&&(Ext.isIE7||Ext.isIE8)?"auto":a.minWidth),b=
a.getEl(),a.setWidth(a.getLayoutTarget().getWidth()+b.getFrameWidth("lr"))))}});Ext.Container.LAYOUTS.menu=Ext.layout.MenuLayout;
Ext.Viewport=Ext.extend(Ext.Container,{initComponent:function(){Ext.Viewport.superclass.initComponent.call(this);document.getElementsByTagName("html")[0].className+=" x-viewport";this.el=Ext.getBody();this.el.setHeight=Ext.emptyFn;this.el.setWidth=Ext.emptyFn;this.el.setSize=Ext.emptyFn;this.el.dom.scroll="no";this.allowDomMove=!1;this.autoHeight=this.autoWidth=!0;Ext.EventManager.onWindowResize(this.fireResize,this);this.renderTo=this.el},fireResize:function(a,b){this.fireEvent("resize",this,a,b,
a,b)}});Ext.reg("viewport",Ext.Viewport);
Ext.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",collapsedCls:"x-panel-collapsed",maskDisabled:!0,animCollapse:Ext.enableFx,headerAsText:!0,buttonAlign:"right",collapsed:!1,collapseFirst:!0,minButtonWidth:75,elements:"body",preventBodyReset:!1,padding:void 0,resizeEvent:"bodyresize",toolTarget:"header",collapseEl:"bwrap",slideAnchor:"t",disabledClass:"",deferHeight:!0,expandDefaults:{duration:0.25},collapseDefaults:{duration:0.25},initComponent:function(){Ext.Panel.superclass.initComponent.call(this);this.addEvents("bodyresize",
"titlechange","iconchange","collapse","expand","beforecollapse","beforeexpand","beforeclose","close","activate","deactivate");this.unstyled&&(this.baseCls="x-plain");this.toolbars=[];this.tbar&&(this.elements+=",tbar",this.topToolbar=this.createToolbar(this.tbar),this.tbar=null);this.bbar&&(this.elements+=",bbar",this.bottomToolbar=this.createToolbar(this.bbar),this.bbar=null);if(!0===this.header)this.elements+=",header",this.header=null;else if(this.headerCfg||this.title&&!1!==this.header)this.elements+=
",header";if(this.footerCfg||!0===this.footer)this.elements+=",footer",this.footer=null;this.buttons&&(this.fbar=this.buttons,this.buttons=null);this.fbar&&this.createFbar(this.fbar);if(this.autoLoad)this.on("render",this.doAutoLoad,this,{delay:10})},createFbar:function(a){var b=this.minButtonWidth;this.elements+=",footer";this.fbar=this.createToolbar(a,{buttonAlign:this.buttonAlign,toolbarCls:"x-panel-fbar",enableOverflow:!1,defaults:function(a){return{minWidth:a.minWidth||b}}});this.fbar.items.each(function(a){a.minWidth=
a.minWidth||this.minButtonWidth},this);this.buttons=this.fbar.items.items},createToolbar:function(a,b){var c;Ext.isArray(a)&&(a={items:a});c=a.events?Ext.apply(a,b):this.createComponent(Ext.apply({},a,b),"toolbar");this.toolbars.push(c);return c},createElement:function(a,b){if(this[a])b.appendChild(this[a].dom);else if("bwrap"===a||-1!=this.elements.indexOf(a)){if(this[a+"Cfg"])this[a]=Ext.fly(b).createChild(this[a+"Cfg"]);else{var c=document.createElement("div");c.className=this[a+"Cls"];this[a]=
Ext.get(b.appendChild(c))}this[a+"CssClass"]&&this[a].addClass(this[a+"CssClass"]);this[a+"Style"]&&this[a].applyStyles(this[a+"Style"])}},onRender:function(a,b){Ext.Panel.superclass.onRender.call(this,a,b);this.createClasses();var c=this.el,d=c.dom,g;this.collapsible&&!this.hideCollapseTool&&(this.tools=this.tools?this.tools.slice(0):[],this.tools[this.collapseFirst?"unshift":"push"]({id:"toggle",handler:this.toggleCollapse,scope:this}));this.tools&&(g=this.tools,this.elements+=!1!==this.header?
",header":"");this.tools={};c.addClass(this.baseCls);if(d.firstChild){this.header=c.down("."+this.headerCls);var h=(this.bwrap=c.down("."+this.bwrapCls))?this.bwrap:c;this.tbar=h.down("."+this.tbarCls);this.body=h.down("."+this.bodyCls);this.bbar=h.down("."+this.bbarCls);this.footer=h.down("."+this.footerCls);this.fromMarkup=!0}!0===this.preventBodyReset&&c.addClass("x-panel-reset");this.cls&&c.addClass(this.cls);this.buttons&&(this.elements+=",footer");this.frame?(c.insertHtml("afterBegin",String.format(Ext.Element.boxMarkup,
this.baseCls)),this.createElement("header",d.firstChild.firstChild.firstChild),this.createElement("bwrap",d),c=this.bwrap.dom,h=d.childNodes[2],c.appendChild(d.childNodes[1]),c.appendChild(h),d=c.firstChild.firstChild.firstChild,this.createElement("tbar",d),this.createElement("body",d),this.createElement("bbar",d),this.createElement("footer",c.lastChild.firstChild.firstChild),this.footer||(this.bwrap.dom.lastChild.className+=" x-panel-nofooter"),this.ft=Ext.get(this.bwrap.dom.lastChild),this.mc=Ext.get(d)):
(this.createElement("header",d),this.createElement("bwrap",d),c=this.bwrap.dom,this.createElement("tbar",c),this.createElement("body",c),this.createElement("bbar",c),this.createElement("footer",c),this.header||(this.body.addClass(this.bodyCls+"-noheader"),this.tbar&&this.tbar.addClass(this.tbarCls+"-noheader")));Ext.isDefined(this.padding)&&this.body.setStyle("padding",this.body.addUnits(this.padding));!1===this.border&&(this.el.addClass(this.baseCls+"-noborder"),this.body.addClass(this.bodyCls+"-noborder"),
this.header&&this.header.addClass(this.headerCls+"-noborder"),this.footer&&this.footer.addClass(this.footerCls+"-noborder"),this.tbar&&this.tbar.addClass(this.tbarCls+"-noborder"),this.bbar&&this.bbar.addClass(this.bbarCls+"-noborder"));!1===this.bodyBorder&&this.body.addClass(this.bodyCls+"-noborder");this.bwrap.enableDisplayMode("block");this.header&&(this.header.unselectable(),this.headerAsText&&(this.header.dom.innerHTML='<span class="'+this.headerTextCls+'">'+this.header.dom.innerHTML+"</span>",
this.iconCls&&this.setIconClass(this.iconCls)));this.floating&&this.makeFloating(this.floating);this.collapsible&&(this.titleCollapse&&this.header)&&(this.mon(this.header,"click",this.toggleCollapse,this),this.header.setStyle("cursor","pointer"));g&&this.addTool.apply(this,g);this.fbar&&(this.footer.addClass("x-panel-btns"),this.fbar.ownerCt=this,this.fbar.render(this.footer),this.footer.createChild({cls:"x-clear"}));this.tbar&&this.topToolbar&&(this.topToolbar.ownerCt=this,this.topToolbar.render(this.tbar));
this.bbar&&this.bottomToolbar&&(this.bottomToolbar.ownerCt=this,this.bottomToolbar.render(this.bbar))},setIconClass:function(a){var b=this.iconCls;this.iconCls=a;if(this.rendered&&this.header)if(this.frame)this.header.addClass("x-panel-icon"),this.header.replaceClass(b,this.iconCls);else{var c=this.header,d=c.child("img.x-panel-inline-icon");d?Ext.fly(d).replaceClass(b,this.iconCls):(c=c.child("span."+this.headerTextCls))&&Ext.DomHelper.insertBefore(c.dom,{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-panel-inline-icon "+
this.iconCls})}this.fireEvent("iconchange",this,a,b)},makeFloating:function(a){this.floating=!0;this.el=new Ext.Layer(Ext.apply({},a,{shadow:Ext.isDefined(this.shadow)?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:!1,shim:!1===this.shim?!1:void 0}),this.el)},getTopToolbar:function(){return this.topToolbar},getBottomToolbar:function(){return this.bottomToolbar},getFooterToolbar:function(){return this.fbar},addButton:function(a,b,c){this.fbar||this.createFbar([]);b&&(Ext.isString(a)&&
(a={text:a}),a=Ext.apply({handler:b,scope:c},a));return this.fbar.add(a)},addTool:function(){if(this.rendered){if(this[this.toolTarget]){if(!this.toolTemplate){var a=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');a.disableFormats=!0;a.compile();Ext.Panel.prototype.toolTemplate=a}for(var a=0,b=arguments,c=b.length;a<c;a++){var d=b[a];if(!this.tools[d.id]){var g="x-tool-"+d.id+"-over",h=this.toolTemplate.insertFirst(this[this.toolTarget],d,!0);this.tools[d.id]=h;h.enableDisplayMode("block");
this.mon(h,"click",this.createToolHandler(h,d,g,this));d.on&&this.mon(h,d.on);d.hidden&&h.hide();d.qtip&&(Ext.isObject(d.qtip)?Ext.QuickTips.register(Ext.apply({target:h.id},d.qtip)):h.dom.qtip=d.qtip);h.addClassOnOver(g)}}}}else this.tools||(this.tools=[]),Ext.each(arguments,function(a){this.tools.push(a)},this)},onLayout:function(a,b){Ext.Panel.superclass.onLayout.apply(this,arguments);this.hasLayout&&0<this.toolbars.length&&(Ext.each(this.toolbars,function(a){a.doLayout(void 0,b)}),this.syncHeight())},
syncHeight:function(){var a=this.toolbarHeight,b=this.body,c=this.lastSize.height;!this.autoHeight&&(Ext.isDefined(c)&&"auto"!=c)&&a!=this.getToolbarHeight()&&(a=Math.max(0,c-this.getFrameHeight()),b.setHeight(a),a=b.getSize(),this.toolbarHeight=this.getToolbarHeight(),this.onBodyResize(a.width,a.height))},onShow:function(){if(this.floating)return this.el.show();Ext.Panel.superclass.onShow.call(this)},onHide:function(){if(this.floating)return this.el.hide();Ext.Panel.superclass.onHide.call(this)},
createToolHandler:function(a,b,c,d){return function(g){a.removeClass(c);!1!==b.stopEvent&&g.stopEvent();b.handler&&b.handler.call(b.scope||a,g,a,d,b)}},afterRender:function(){this.floating&&!this.hidden&&this.el.show();this.title&&this.setTitle(this.title);Ext.Panel.superclass.afterRender.call(this);this.collapsed&&(this.collapsed=!1,this.collapse(!1));this.initEvents()},getKeyMap:function(){this.keyMap||(this.keyMap=new Ext.KeyMap(this.el,this.keys));return this.keyMap},initEvents:function(){this.keys&&
this.getKeyMap();this.draggable&&this.initDraggable();0<this.toolbars.length&&(Ext.each(this.toolbars,function(a){a.doLayout();a.on({scope:this,afterlayout:this.syncHeight,remove:this.syncHeight})},this),this.syncHeight())},initDraggable:function(){this.dd=new Ext.Panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},beforeEffect:function(a){this.floating&&this.el.beforeAction();!1!==a&&this.el.addClass("x-panel-animated")},afterEffect:function(){this.syncShadow();this.el.removeClass("x-panel-animated")},
createEffect:function(a,b,c){var d={scope:c,block:!0};if(!0===a)return d.callback=b,d;d.callback=a.callback?function(){b.call(c);Ext.callback(a.callback,a.scope)}:b;return Ext.applyIf(d,a)},collapse:function(a){if(!this.collapsed&&!(this.el.hasFxBlock()||!1===this.fireEvent("beforecollapse",this,a))){var b=!0===a||!1!==a&&this.animCollapse;this.beforeEffect(b);this.onCollapse(b,a);return this}},onCollapse:function(a,b){a?this[this.collapseEl].slideOut(this.slideAnchor,Ext.apply(this.createEffect(b||
!0,this.afterCollapse,this),this.collapseDefaults)):(this[this.collapseEl].hide(this.hideMode),this.afterCollapse(!1))},afterCollapse:function(a){this.collapsed=!0;this.el.addClass(this.collapsedCls);!1!==a&&this[this.collapseEl].hide(this.hideMode);this.afterEffect(a);this.cascade(function(a){a.lastSize&&(a.lastSize={width:void 0,height:void 0})});this.fireEvent("collapse",this)},expand:function(a){if(this.collapsed&&!(this.el.hasFxBlock()||!1===this.fireEvent("beforeexpand",this,a))){var b=!0===
a||!1!==a&&this.animCollapse;this.el.removeClass(this.collapsedCls);this.beforeEffect(b);this.onExpand(b,a);return this}},onExpand:function(a,b){a?this[this.collapseEl].slideIn(this.slideAnchor,Ext.apply(this.createEffect(b||!0,this.afterExpand,this),this.expandDefaults)):(this[this.collapseEl].show(this.hideMode),this.afterExpand(!1))},afterExpand:function(a){this.collapsed=!1;!1!==a&&this[this.collapseEl].show(this.hideMode);this.afterEffect(a);this.deferLayout&&(delete this.deferLayout,this.doLayout(!0));
this.fireEvent("expand",this)},toggleCollapse:function(a){this[this.collapsed?"expand":"collapse"](a);return this},onDisable:function(){this.rendered&&this.maskDisabled&&this.el.mask();Ext.Panel.superclass.onDisable.call(this)},onEnable:function(){this.rendered&&this.maskDisabled&&this.el.unmask();Ext.Panel.superclass.onEnable.call(this)},onResize:function(a,b,c,d){var g=a,h=b;if(Ext.isDefined(g)||Ext.isDefined(h))this.collapsed?(this.queuedBodySize={width:g,height:h},!this.queuedExpand&&!1!==this.allowQueuedExpand&&
(this.queuedExpand=!0,this.on("expand",function(){delete this.queuedExpand;this.onResize(this.queuedBodySize.width,this.queuedBodySize.height)},this,{single:!0}))):(Ext.isNumber(g)?this.body.setWidth(g=this.adjustBodyWidth(g-this.getFrameWidth())):g="auto"==g?this.body.setWidth("auto").dom.offsetWidth:this.body.dom.offsetWidth,this.tbar&&(this.tbar.setWidth(g),this.topToolbar&&this.topToolbar.setSize(g)),this.bbar&&(this.bbar.setWidth(g),this.bottomToolbar&&(this.bottomToolbar.setSize(g),Ext.isIE&&
(this.bbar.setStyle("position","static"),this.bbar.setStyle("position","")))),this.footer&&(this.footer.setWidth(g),this.fbar&&this.fbar.setSize(Ext.isIE?g-this.footer.getFrameWidth("lr"):"auto")),Ext.isNumber(h)?(h=Math.max(0,h-this.getFrameHeight()),this.body.setHeight(h)):"auto"==h&&this.body.setHeight(h),this.disabled&&this.el._mask&&this.el._mask.setSize(this.el.dom.clientWidth,this.el.getHeight())),this.onBodyResize(g,h);this.syncShadow();Ext.Panel.superclass.onResize.call(this,a,b,c,d)},onBodyResize:function(a,
b){this.fireEvent("bodyresize",this,a,b)},getToolbarHeight:function(){var a=0;this.rendered&&Ext.each(this.toolbars,function(b){a+=b.getHeight()},this);return a},adjustBodyHeight:function(a){return a},adjustBodyWidth:function(a){return a},onPosition:function(){this.syncShadow()},getFrameWidth:function(){var a=this.el.getFrameWidth("lr")+this.bwrap.getFrameWidth("lr");if(this.frame)var b=this.bwrap.dom.firstChild,a=a+(Ext.fly(b).getFrameWidth("l")+Ext.fly(b.firstChild).getFrameWidth("r")),a=a+this.mc.getFrameWidth("lr");
return a},getFrameHeight:function(){var a=Math.max(0,this.getHeight()-this.body.getHeight());isNaN(a)&&(a=0);return a},getInnerWidth:function(){return this.getSize().width-this.getFrameWidth()},getInnerHeight:function(){return this.body.getHeight()},syncShadow:function(){this.floating&&this.el.sync(!0)},getLayoutTarget:function(){return this.body},getContentTarget:function(){return this.body},setTitle:function(a,b){this.title=a;this.header&&this.headerAsText&&this.header.child("span").update(a);b&&
this.setIconClass(b);this.fireEvent("titlechange",this,a);return this},getUpdater:function(){return this.body.getUpdater()},load:function(){var a=this.body.getUpdater();a.update.apply(a,arguments);return this},beforeDestroy:function(){Ext.Panel.superclass.beforeDestroy.call(this);this.header&&this.header.removeAllListeners();if(this.tools)for(var a in this.tools)Ext.destroy(this.tools[a]);0<this.toolbars.length&&Ext.each(this.toolbars,function(a){a.un("afterlayout",this.syncHeight,this);a.un("remove",
this.syncHeight,this)},this);if(Ext.isArray(this.buttons))for(;this.buttons.length;)Ext.destroy(this.buttons[0]);this.rendered&&(Ext.destroy(this.ft,this.header,this.footer,this.tbar,this.bbar,this.body,this.mc,this.bwrap,this.dd),this.fbar&&Ext.destroy(this.fbar,this.fbar.el));Ext.destroy(this.toolbars)},createClasses:function(){this.headerCls=this.baseCls+"-header";this.headerTextCls=this.baseCls+"-header-text";this.bwrapCls=this.baseCls+"-bwrap";this.tbarCls=this.baseCls+"-tbar";this.bodyCls=this.baseCls+
"-body";this.bbarCls=this.baseCls+"-bbar";this.footerCls=this.baseCls+"-footer"},createGhost:function(a,b,c){var d=document.createElement("div");d.className="x-panel-ghost "+(a?a:"");this.header&&d.appendChild(this.el.dom.firstChild.cloneNode(!0));Ext.fly(d.appendChild(document.createElement("ul"))).setHeight(this.bwrap.getHeight());d.style.width=this.el.dom.offsetWidth+"px";c?Ext.getDom(c).appendChild(d):this.container.dom.appendChild(d);return!1!==b&&!1!==this.el.useShim?(a=new Ext.Layer({shadow:!1,
useDisplay:!0,constrain:!1},d),a.show(),a):new Ext.Element(d)},doAutoLoad:function(){var a=this.body.getUpdater();this.renderer&&a.setRenderer(this.renderer);a.update(Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad})},getTool:function(a){return this.tools[a]}});Ext.reg("panel",Ext.Panel);Ext.Editor=function(a,b){a.field?(this.field=Ext.create(a.field,"textfield"),b=Ext.apply({},a),delete b.field):this.field=a;Ext.Editor.superclass.constructor.call(this,b)};
Ext.extend(Ext.Editor,Ext.Component,{allowBlur:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,initComponent:function(){Ext.Editor.superclass.initComponent.call(this);this.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onRender:function(a){this.el=new Ext.Layer({shadow:this.shadow,cls:"x-editor",parentEl:a,shim:this.shim,shadowOffset:this.shadowOffset||4,id:this.id,
constrain:this.constrain});this.zIndex&&this.el.setZIndex(this.zIndex);this.el.setStyle("overflow",Ext.isGecko?"auto":"hidden");"title"!=this.field.msgTarget&&(this.field.msgTarget="qtip");this.field.inEditor=!0;this.mon(this.field,{scope:this,blur:this.onBlur,specialkey:this.onSpecialKey});this.field.grow&&this.mon(this.field,"autosize",this.el.sync,this.el,{delay:1});this.field.render(this.el).show();this.field.getEl().dom.name="";this.swallowKeys&&this.field.el.swallowEvent(["keypress","keydown"])},
onSpecialKey:function(a,b){var c=b.getKey(),d=this.completeOnEnter&&c==b.ENTER,c=this.cancelOnEsc&&c==b.ESC;if(d||c)b.stopEvent(),d?this.completeEdit():this.cancelEdit(),a.triggerBlur&&a.triggerBlur();this.fireEvent("specialkey",a,b)},startEdit:function(a,b){this.editing&&this.completeEdit();this.boundEl=Ext.get(a);var c=void 0!==b?b:this.boundEl.dom.innerHTML;this.rendered||this.render(this.parentEl||document.body);!1!==this.fireEvent("beforestartedit",this,this.boundEl,c)&&(this.startValue=c,this.field.reset(),
this.field.setValue(c),this.realign(!0),this.editing=!0,this.show())},doAutoSize:function(){if(this.autoSize){var a=this.boundEl.getSize(),b=this.field.getSize();switch(this.autoSize){case "width":this.setSize(a.width,b.height);break;case "height":this.setSize(b.width,a.height);break;case "none":this.setSize(b.width,b.height);break;default:this.setSize(a.width,a.height)}}},setSize:function(a,b){delete this.field.lastSize;this.field.setSize(a,b);this.el&&((Ext.isGecko2||Ext.isOpera)&&this.el.setSize(a,
b),this.el.sync())},realign:function(a){!0===a&&this.doAutoSize();this.el.alignTo(this.boundEl,this.alignment,this.offsets)},completeEdit:function(a){if(this.editing){this.field.assertValue&&this.field.assertValue();var b=this.getValue();this.field.isValid()?String(b)===String(this.startValue)&&this.ignoreNoChange?this.hideEdit(a):!1!==this.fireEvent("beforecomplete",this,b,this.startValue)&&(b=this.getValue(),this.updateEl&&this.boundEl&&this.boundEl.update(b),this.hideEdit(a),this.fireEvent("complete",
this,b,this.startValue)):!1!==this.revertInvalid&&this.cancelEdit(a)}},onShow:function(){this.el.show();!1!==this.hideEl&&this.boundEl.hide();this.field.show().focus(!1,!0);this.fireEvent("startedit",this.boundEl,this.startValue)},cancelEdit:function(a){if(this.editing){var b=this.getValue();this.setValue(this.startValue);this.hideEdit(a);this.fireEvent("canceledit",this,b,this.startValue)}},hideEdit:function(a){!0!==a&&(this.editing=!1,this.hide())},onBlur:function(){!0===this.allowBlur&&(this.editing&&
!0!==this.selectSameEditor)&&this.completeEdit()},onHide:function(){this.editing?this.completeEdit():(this.field.blur(),this.field.collapse&&this.field.collapse(),this.el.hide(),!1!==this.hideEl&&this.boundEl.show())},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){Ext.destroyMembers(this,"field");delete this.parentEl;delete this.boundEl}});Ext.reg("editor",Ext.Editor);
Ext.ColorPalette=Ext.extend(Ext.Component,{itemCls:"x-color-palette",value:null,clickEvent:"click",ctype:"Ext.ColorPalette",allowReselect:!1,colors:"000000 993300 333300 003300 003366 000080 333399 333333 800000 FF6600 808000 008000 008080 0000FF 666699 808080 FF0000 FF9900 99CC00 339966 33CCCC 3366FF 800080 969696 FF00FF FFCC00 FFFF00 00FF00 00FFFF 00CCFF 993366 C0C0C0 FF99CC FFCC99 FFFF99 CCFFCC CCFFFF 99CCFF CC99FF FFFFFF".split(" "),initComponent:function(){Ext.ColorPalette.superclass.initComponent.call(this);
this.addEvents("select");if(this.handler)this.on("select",this.handler,this.scope,!0)},onRender:function(a,b){this.autoEl={tag:"div",cls:this.itemCls};Ext.ColorPalette.superclass.onRender.call(this,a,b);(this.tpl||new Ext.XTemplate('<tpl for="."><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;</span></em></a></tpl>')).overwrite(this.el,this.colors);this.mon(this.el,this.clickEvent,this.handleClick,this,{delegate:"a"});"click"!=this.clickEvent&&
this.mon(this.el,"click",Ext.emptyFn,this,{delegate:"a",preventDefault:!0})},afterRender:function(){Ext.ColorPalette.superclass.afterRender.call(this);if(this.value){var a=this.value;this.value=null;this.select(a,!0)}},handleClick:function(a,b){a.preventDefault();if(!this.disabled){var c=b.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];this.select(c.toUpperCase())}},select:function(a,b){a=a.replace("#","");if(a!=this.value||this.allowReselect){var c=this.el;this.value&&c.child("a.color-"+this.value).removeClass("x-color-palette-sel");
c.child("a.color-"+a).addClass("x-color-palette-sel");this.value=a;!0!==b&&this.fireEvent("select",this,a)}}});Ext.reg("colorpalette",Ext.ColorPalette);
Ext.DatePicker=Ext.extend(Ext.BoxComponent,{todayText:"Today",okText:"&#160;OK&#160;",cancelText:"Cancel",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",format:"m/d/y",disabledDaysText:"Disabled",disabledDatesText:"Disabled",monthNames:Date.monthNames,dayNames:Date.dayNames,nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:!0,
focusOnSelect:!0,initHour:12,initComponent:function(){Ext.DatePicker.superclass.initComponent.call(this);this.value=this.value?this.value.clearTime(!0):(new Date).clearTime();this.addEvents("select");if(this.handler)this.on("select",this.handler,this.scope||this);this.initDisabledDays()},initDisabledDays:function(){if(!this.disabledDatesRE&&this.disabledDates){var a=this.disabledDates,b=a.length-1,c="(?:";Ext.each(a,function(d,g){c+=Ext.isDate(d)?"^"+Ext.escapeRe(d.dateFormat(this.format))+"$":a[g];
g!=b&&(c+="|")},this);this.disabledDatesRE=RegExp(c+")")}},setDisabledDates:function(a){Ext.isArray(a)?(this.disabledDates=a,this.disabledDatesRE=null):this.disabledDatesRE=a;this.initDisabledDays();this.update(this.value,!0)},setDisabledDays:function(a){this.disabledDays=a;this.update(this.value,!0)},setMinDate:function(a){this.minDate=a;this.update(this.value,!0)},setMaxDate:function(a){this.maxDate=a;this.update(this.value,!0)},setValue:function(a){this.value=a.clearTime(!0);this.update(this.value)},
getValue:function(){return this.value},focus:function(){this.update(this.activeDate)},onEnable:function(a){Ext.DatePicker.superclass.onEnable.call(this);this.doDisabled(!1);this.update(a?this.value:this.activeDate);Ext.isIE&&this.el.repaint()},onDisable:function(){Ext.DatePicker.superclass.onDisable.call(this);this.doDisabled(!0);Ext.isIE&&!Ext.isIE8&&Ext.each([].concat(this.textNodes,this.el.query("th span")),function(a){Ext.fly(a).repaint()})},doDisabled:function(a){this.keyNav.setDisabled(a);this.prevRepeater.setDisabled(a);
this.nextRepeater.setDisabled(a);this.showToday&&(this.todayKeyListener.setDisabled(a),this.todayBtn.setDisabled(a))},onRender:function(a,b){var c=['<table cellspacing="0">','<tr><td class="x-date-left"><a href="#" title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a href="#" title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0"><thead><tr>'],d=this.dayNames,g;for(g=0;7>g;g++){var h=
this.startDay+g;6<h&&(h-=7);c.push("<th><span>",d[h].substr(0,1),"</span></th>")}c[c.length]="</tr></thead><tbody><tr>";for(g=0;42>g;g++)0===g%7&&0!==g&&(c[c.length]="</tr><tr>"),c[c.length]='<td><a href="#" hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>';c.push("</tr></tbody></table></td></tr>",this.showToday?'<tr><td colspan="3" class="x-date-bottom" align="center"></td></tr>':"",'</table><div class="x-date-mp"></div>');d=document.createElement("div");d.className=
"x-date-picker";d.innerHTML=c.join("");a.dom.insertBefore(d,b);this.el=Ext.get(d);this.eventEl=Ext.get(d.firstChild);this.prevRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevMonth,scope:this,preventDefault:!0,stopDefault:!0});this.nextRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextMonth,scope:this,preventDefault:!0,stopDefault:!0});this.monthPicker=this.el.down("div.x-date-mp");this.monthPicker.enableDisplayMode("block");
this.keyNav=new Ext.KeyNav(this.eventEl,{left:function(a){a.ctrlKey?this.showPrevMonth():this.update(this.activeDate.add("d",-1))},right:function(a){a.ctrlKey?this.showNextMonth():this.update(this.activeDate.add("d",1))},up:function(a){a.ctrlKey?this.showNextYear():this.update(this.activeDate.add("d",-7))},down:function(a){a.ctrlKey?this.showPrevYear():this.update(this.activeDate.add("d",7))},pageUp:function(){this.showNextMonth()},pageDown:function(){this.showPrevMonth()},enter:function(a){a.stopPropagation();
return!0},scope:this});this.el.unselectable();this.cells=this.el.select("table.x-date-inner tbody td");this.textNodes=this.el.query("table.x-date-inner tbody span");this.mbtn=new Ext.Button({text:"&#160;",tooltip:this.monthYearText,renderTo:this.el.child("td.x-date-middle",!0)});this.mbtn.el.child("em").addClass("x-btn-arrow");this.showToday&&(this.todayKeyListener=this.eventEl.addKeyListener(Ext.EventObject.SPACE,this.selectToday,this),c=(new Date).dateFormat(this.format),this.todayBtn=new Ext.Button({renderTo:this.el.child("td.x-date-bottom",
!0),text:String.format(this.todayText,c),tooltip:String.format(this.todayTip,c),handler:this.selectToday,scope:this}));this.mon(this.eventEl,"mousewheel",this.handleMouseWheel,this);this.mon(this.eventEl,"click",this.handleDateClick,this,{delegate:"a.x-date-date"});this.mon(this.mbtn,"click",this.showMonthPicker,this);this.onEnable(!0)},createMonthPicker:function(){if(!this.monthPicker.dom.firstChild){for(var a=['<table border="0" cellspacing="0">'],b=0;6>b;b++)a.push('<tr><td class="x-date-mp-month"><a href="#">',
Date.getShortMonthName(b),"</a></td>",'<td class="x-date-mp-month x-date-mp-sep"><a href="#">',Date.getShortMonthName(b+6),"</a></td>",0===b?'<td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-prev"></a></td><td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-next"></a></td></tr>':'<td class="x-date-mp-year"><a href="#"></a></td><td class="x-date-mp-year"><a href="#"></a></td></tr>');a.push('<tr class="x-date-mp-btns"><td colspan="4"><button type="button" class="x-date-mp-ok">',
this.okText,'</button><button type="button" class="x-date-mp-cancel">',this.cancelText,"</button></td></tr>","</table>");this.monthPicker.update(a.join(""));this.mon(this.monthPicker,"click",this.onMonthClick,this);this.mon(this.monthPicker,"dblclick",this.onMonthDblClick,this);this.mpMonths=this.monthPicker.select("td.x-date-mp-month");this.mpYears=this.monthPicker.select("td.x-date-mp-year");this.mpMonths.each(function(a,b,g){g+=1;a.dom.xmonth=0===g%2?5+Math.round(0.5*g):Math.round(0.5*(g-1))})}},
showMonthPicker:function(){if(!this.disabled){this.createMonthPicker();var a=this.el.getSize();this.monthPicker.setSize(a);this.monthPicker.child("table").setSize(a);this.mpSelMonth=(this.activeDate||this.value).getMonth();this.updateMPMonth(this.mpSelMonth);this.mpSelYear=(this.activeDate||this.value).getFullYear();this.updateMPYear(this.mpSelYear);this.monthPicker.slideIn("t",{duration:0.2})}},updateMPYear:function(a){this.mpyear=a;for(var b=this.mpYears.elements,c=1;10>=c;c++){var d=b[c-1],g;g=
0===c%2?a+Math.round(0.5*c):a-(5-Math.round(0.5*c));d.firstChild.innerHTML=g;d.xyear=g;this.mpYears.item(c-1)[g==this.mpSelYear?"addClass":"removeClass"]("x-date-mp-sel")}},updateMPMonth:function(a){this.mpMonths.each(function(b){b[b.dom.xmonth==a?"addClass":"removeClass"]("x-date-mp-sel")})},selectMPMonth:function(){},onMonthClick:function(a,b){a.stopEvent();var c=new Ext.Element(b),d;c.is("button.x-date-mp-cancel")?this.hideMonthPicker():c.is("button.x-date-mp-ok")?(c=new Date(this.mpSelYear,this.mpSelMonth,
(this.activeDate||this.value).getDate()),c.getMonth()!=this.mpSelMonth&&(c=(new Date(this.mpSelYear,this.mpSelMonth,1)).getLastDateOfMonth()),this.update(c),this.hideMonthPicker()):(d=c.up("td.x-date-mp-month",2))?(this.mpMonths.removeClass("x-date-mp-sel"),d.addClass("x-date-mp-sel"),this.mpSelMonth=d.dom.xmonth):(d=c.up("td.x-date-mp-year",2))?(this.mpYears.removeClass("x-date-mp-sel"),d.addClass("x-date-mp-sel"),this.mpSelYear=d.dom.xyear):c.is("a.x-date-mp-prev")?this.updateMPYear(this.mpyear-
10):c.is("a.x-date-mp-next")&&this.updateMPYear(this.mpyear+10)},onMonthDblClick:function(a,b){a.stopEvent();var c=new Ext.Element(b),d;if(d=c.up("td.x-date-mp-month",2))this.update(new Date(this.mpSelYear,d.dom.xmonth,(this.activeDate||this.value).getDate())),this.hideMonthPicker();else if(d=c.up("td.x-date-mp-year",2))this.update(new Date(d.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate())),this.hideMonthPicker()},hideMonthPicker:function(a){this.monthPicker&&(!0===a?this.monthPicker.hide():
this.monthPicker.slideOut("t",{duration:0.2}))},showPrevMonth:function(){this.update(this.activeDate.add("mo",-1))},showNextMonth:function(){this.update(this.activeDate.add("mo",1))},showPrevYear:function(){this.update(this.activeDate.add("y",-1))},showNextYear:function(){this.update(this.activeDate.add("y",1))},handleMouseWheel:function(a){a.stopEvent();this.disabled||(a=a.getWheelDelta(),0<a?this.showPrevMonth():0>a&&this.showNextMonth())},handleDateClick:function(a,b){a.stopEvent();!this.disabled&&
(b.dateValue&&!Ext.fly(b.parentNode).hasClass("x-date-disabled"))&&(this.cancelFocus=!1===this.focusOnSelect,this.setValue(new Date(b.dateValue)),delete this.cancelFocus,this.fireEvent("select",this,this.value))},selectToday:function(){this.todayBtn&&!this.todayBtn.disabled&&(this.setValue((new Date).clearTime()),this.fireEvent("select",this,this.value))},update:function(a,b){if(this.rendered){var c=this.activeDate,d=this.isVisible();this.activeDate=a;if(!b&&c&&this.el){var g=a.getTime();if(c.getMonth()==
a.getMonth()&&c.getFullYear()==a.getFullYear()){this.cells.removeClass("x-date-selected");this.cells.each(function(a){if(a.dom.firstChild.dateValue==g)return a.addClass("x-date-selected"),d&&!this.cancelFocus&&Ext.fly(a.dom.firstChild).focus(50),!1},this);return}}var h=a.getDaysInMonth(),l=a.getFirstDateOfMonth().getDay()-this.startDay;0>l&&(l+=7);var h=h+l,n=a.add("mo",-1),q=n.getDaysInMonth()-l,c=this.cells.elements,r=this.textNodes,s=new Date(n.getFullYear(),n.getMonth(),q,this.initHour),p=(new Date).clearTime().getTime(),
v=a.clearTime(!0).getTime(),t=this.minDate?this.minDate.clearTime(!0):Number.NEGATIVE_INFINITY,A=this.maxDate?this.maxDate.clearTime(!0):Number.POSITIVE_INFINITY,w=this.disabledDatesRE,C=this.disabledDatesText,z=this.disabledDays?this.disabledDays.join(""):!1,D=this.disabledDaysText,G=this.format;this.showToday&&(n=(new Date).clearTime(),n=n<t||n>A||w&&G&&w.test(n.dateFormat(G))||z&&-1!=z.indexOf(n.getDay()),this.disabled||(this.todayBtn.setDisabled(n),this.todayKeyListener[n?"disable":"enable"]()));
for(var n=function(a,b){b.title="";var c=s.clearTime(!0).getTime();b.firstChild.dateValue=c;c==p&&(b.className+=" x-date-today",b.title=a.todayText);c==v&&(b.className+=" x-date-selected",d&&Ext.fly(b.firstChild).focus(50));c<t?(b.className=" x-date-disabled",b.title=a.minText):c>A?(b.className=" x-date-disabled",b.title=a.maxText):(z&&-1!=z.indexOf(s.getDay())&&(b.title=D,b.className=" x-date-disabled"),w&&G&&(c=s.dateFormat(G),w.test(c)&&(b.title=C.replace("%0",c),b.className=" x-date-disabled")))},
E=0;E<l;E++)r[E].innerHTML=++q,s.setDate(s.getDate()+1),c[E].className="x-date-prevday",n(this,c[E]);for(;E<h;E++)r[E].innerHTML=E-l+1,s.setDate(s.getDate()+1),c[E].className="x-date-active",n(this,c[E]);for(h=0;42>E;E++)r[E].innerHTML=++h,s.setDate(s.getDate()+1),c[E].className="x-date-nextday",n(this,c[E]);this.mbtn.setText(this.monthNames[a.getMonth()]+" "+a.getFullYear());this.internalRender||(c=this.el.dom.firstChild,r=c.offsetWidth,this.el.setWidth(r+this.el.getBorderWidth("lr")),Ext.fly(c).setWidth(r),
this.internalRender=!0,Ext.isOpera&&!this.secondPass&&(c.rows[0].cells[1].style.width=r-(c.rows[0].cells[0].offsetWidth+c.rows[0].cells[2].offsetWidth)+"px",this.secondPass=!0,this.update.defer(10,this,[a])))}},beforeDestroy:function(){this.rendered&&(Ext.destroy(this.keyNav,this.monthPicker,this.eventEl,this.mbtn,this.nextRepeater,this.prevRepeater,this.cells.el,this.todayBtn),delete this.textNodes,delete this.cells.elements)}});Ext.reg("datepicker",Ext.DatePicker);
Ext.LoadMask=function(a,b){this.el=Ext.get(a);Ext.apply(this,b);if(this.store)this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad}),this.removeMask=Ext.value(this.removeMask,!1);else{var c=this.el.getUpdater();c.showLoadIndicator=!1;c.on({scope:this,beforeupdate:this.onBeforeLoad,update:this.onLoad,failure:this.onLoad});this.removeMask=Ext.value(this.removeMask,!0)}};
Ext.LoadMask.prototype={msg:"Loading...",msgCls:"x-mask-loading",disabled:!1,disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},onLoad:function(){this.el.unmask(this.removeMask)},onBeforeLoad:function(){this.disabled||this.el.mask(this.msg,this.msgCls)},show:function(){this.onBeforeLoad()},hide:function(){this.onLoad()},destroy:function(){if(this.store)this.store.un("beforeload",this.onBeforeLoad,this),this.store.un("load",this.onLoad,this),this.store.un("exception",this.onLoad,
this);else{var a=this.el.getUpdater();a.un("beforeupdate",this.onBeforeLoad,this);a.un("update",this.onLoad,this);a.un("failure",this.onLoad,this)}}};Ext.ns("Ext.slider");
Ext.slider.Thumb=Ext.extend(Object,{constructor:function(a){Ext.apply(this,a||{},{cls:"x-slider-thumb",constrain:!1});Ext.slider.Thumb.superclass.constructor.call(this,a);this.slider.vertical&&Ext.apply(this,Ext.slider.Thumb.Vertical)},render:function(){this.el=this.slider.innerEl.insertFirst({cls:this.cls});this.initEvents()},enable:function(){this.disabled=!1;this.el.removeClass(this.slider.disabledClass)},disable:function(){this.disabled=!0;this.el.addClass(this.slider.disabledClass)},initEvents:function(){var a=
this.el;a.addClassOnOver("x-slider-thumb-over");this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeDragStart.createDelegate(this),onStart:this.onDragStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onDragEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(a)},onBeforeDragStart:function(){if(this.disabled)return!1;this.slider.promoteThumb(this);return!0},onDragStart:function(a){this.el.addClass("x-slider-thumb-drag");this.dragging=!0;this.dragStartValue=
this.value;this.slider.fireEvent("dragstart",this.slider,a,this)},onDrag:function(a){var b=this.slider,c=this.index,d=this.getNewValue();if(this.constrain){var g=b.thumbs[c+1],h=b.thumbs[c-1];void 0!=h&&d<=h.value&&(d=h.value);void 0!=g&&d>=g.value&&(d=g.value)}b.setValue(c,d,!1);b.fireEvent("drag",b,a,this)},getNewValue:function(){var a=this.slider,b=a.innerEl.translatePoints(this.tracker.getXY());return Ext.util.Format.round(a.reverseValue(b.left),a.decimalPrecision)},onDragEnd:function(a){var b=
this.slider,c=this.value;this.el.removeClass("x-slider-thumb-drag");this.dragging=!1;b.fireEvent("dragend",b,a);this.dragStartValue!=c&&b.fireEvent("changecomplete",b,c,this)}});
Ext.slider.MultiSlider=Ext.extend(Ext.BoxComponent,{vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,topThumbZIndex:1E4,initComponent:function(){Ext.isDefined(this.value)||(this.value=this.minValue);this.thumbs=[];Ext.slider.MultiSlider.superclass.initComponent.call(this);this.keyIncrement=Math.max(this.increment,this.keyIncrement);this.addEvents("beforechange","change","changecomplete","dragstart",
"drag","dragend");if(void 0==this.values||Ext.isEmpty(this.values))this.values=[0];for(var a=this.values,b=0;b<a.length;b++)this.addThumb(a[b]);this.vertical&&Ext.apply(this,Ext.slider.Vertical)},addThumb:function(a){a=new Ext.slider.Thumb({value:a,slider:this,index:this.thumbs.length,constrain:this.constrainThumbs});this.thumbs.push(a);this.rendered&&a.render()},promoteThumb:function(a){for(var b=this.thumbs,c,d,g=0,h=b.length;g<h;g++)d=b[g],c=d==a?this.topThumbZIndex:"",d.el.setStyle("zIndex",c)},
onRender:function(){this.autoEl={cls:"x-slider "+(this.vertical?"x-slider-vert":"x-slider-horz"),cn:{cls:"x-slider-end",cn:{cls:"x-slider-inner",cn:[{tag:"a",cls:"x-slider-focus",href:"#",tabIndex:"-1",hidefocus:"on"}]}}};Ext.slider.MultiSlider.superclass.onRender.apply(this,arguments);this.endEl=this.el.first();this.innerEl=this.endEl.first();this.focusEl=this.innerEl.child(".x-slider-focus");for(var a=0;a<this.thumbs.length;a++)this.thumbs[a].render();a=this.innerEl.child(".x-slider-thumb");this.halfThumb=
(this.vertical?a.getHeight():a.getWidth())/2;this.initEvents()},initEvents:function(){this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown});this.focusEl.swallowEvent("click",!0)},onMouseDown:function(a){if(!this.disabled){for(var b=!1,c=0;c<this.thumbs.length;c++)b=b||a.target==this.thumbs[c].el.dom;this.clickToChange&&!b&&(a=this.innerEl.translatePoints(a.getXY()),this.onClickChange(a));this.focus()}},onClickChange:function(a){if(a.top>this.clickRange[0]&&a.top<this.clickRange[1]){var b=
this.getNearest(a,"left").index;this.setValue(b,Ext.util.Format.round(this.reverseValue(a.left),this.decimalPrecision),void 0,!0)}},getNearest:function(a,b){for(var c="top"==b?this.innerEl.getHeight()-a[b]:a[b],c=this.reverseValue(c),d=this.maxValue-this.minValue+5,g=null,h=0;h<this.thumbs.length;h++){var l=this.thumbs[h],n=Math.abs(l.value-c);Math.abs(n<=d)&&(g=l,d=n)}return g},onKeyDown:function(a){if(this.disabled||1!==this.thumbs.length)a.preventDefault();else switch(a.getKey()){case a.UP:case a.RIGHT:a.stopEvent();
a=a.ctrlKey?this.maxValue:this.getValue(0)+this.keyIncrement;this.setValue(0,a,void 0,!0);break;case a.DOWN:case a.LEFT:a.stopEvent();a=a.ctrlKey?this.minValue:this.getValue(0)-this.keyIncrement;this.setValue(0,a,void 0,!0);break;default:a.preventDefault()}},doSnap:function(a){if(!this.increment||!a)return a;var b=a,c=this.increment,a=a%c;0!=a&&(b-=a,2*a>=c?b+=c:2*a<-c&&(b-=c));return b.constrain(this.minValue,this.maxValue)},afterRender:function(){Ext.slider.MultiSlider.superclass.afterRender.apply(this,
arguments);for(var a=0;a<this.thumbs.length;a++){var b=this.thumbs[a];if(void 0!==b.value){var c=this.normalizeValue(b.value);c!==b.value?this.setValue(a,c,!1):this.moveThumb(a,this.translateValue(c),!1)}}},getRatio:function(){var a=this.innerEl.getWidth(),b=this.maxValue-this.minValue;return 0==b?a:a/b},normalizeValue:function(a){a=this.doSnap(a);a=Ext.util.Format.round(a,this.decimalPrecision);return a=a.constrain(this.minValue,this.maxValue)},setMinValue:function(a){this.minValue=a;for(var b=0,
c=this.thumbs,d=c.length,g;b<d;++b)g=c[b],g.value=g.value<a?a:g.value;this.syncThumb()},setMaxValue:function(a){this.maxValue=a;for(var b=0,c=this.thumbs,d=c.length,g;b<d;++b)g=c[b],g.value=g.value>a?a:g.value;this.syncThumb()},setValue:function(a,b,c,d){var g=this.thumbs[a],b=this.normalizeValue(b);b!==g.value&&!1!==this.fireEvent("beforechange",this,b,g.value,g)&&(g.value=b,this.rendered&&(this.moveThumb(a,this.translateValue(b),!1!==c),this.fireEvent("change",this,b,g),d&&this.fireEvent("changecomplete",
this,b,g)))},translateValue:function(a){var b=this.getRatio();return a*b-this.minValue*b-this.halfThumb},reverseValue:function(a){var b=this.getRatio();return(a+this.minValue*b)/b},moveThumb:function(a,b,c){a=this.thumbs[a].el;!c||!1===this.animate?a.setLeft(b):a.shift({left:b,stopFx:!0,duration:0.35})},focus:function(){this.focusEl.focus(10)},onResize:function(a,b){for(var c=this.thumbs,d=c.length,g=0;g<d;++g)c[g].el.stopFx();this.innerEl.setWidth(a-(this.el.getPadding("l")+this.endEl.getPadding("r")));
this.syncThumb();Ext.slider.MultiSlider.superclass.onResize.apply(this,arguments)},onDisable:function(){Ext.slider.MultiSlider.superclass.onDisable.call(this);for(var a=0;a<this.thumbs.length;a++){var b=this.thumbs[a],c=b.el;b.disable();Ext.isIE&&(b=c.getXY(),c.hide(),this.innerEl.addClass(this.disabledClass).dom.disabled=!0,this.thumbHolder||(this.thumbHolder=this.endEl.createChild({cls:"x-slider-thumb "+this.disabledClass})),this.thumbHolder.show().setXY(b))}},onEnable:function(){Ext.slider.MultiSlider.superclass.onEnable.call(this);
for(var a=0;a<this.thumbs.length;a++){var b=this.thumbs[a],c=b.el;b.enable();Ext.isIE&&(this.innerEl.removeClass(this.disabledClass).dom.disabled=!1,this.thumbHolder&&this.thumbHolder.hide(),c.show(),this.syncThumb())}},syncThumb:function(){if(this.rendered)for(var a=0;a<this.thumbs.length;a++)this.moveThumb(a,this.translateValue(this.thumbs[a].value))},getValue:function(a){return this.thumbs[a].value},getValues:function(){for(var a=[],b=0;b<this.thumbs.length;b++)a.push(this.thumbs[b].value);return a},
beforeDestroy:function(){Ext.destroyMembers(this,"endEl","innerEl","thumb","halfThumb","focusEl","tracker","thumbHolder");Ext.slider.MultiSlider.superclass.beforeDestroy.call(this)}});Ext.reg("multislider",Ext.slider.MultiSlider);
Ext.slider.SingleSlider=Ext.extend(Ext.slider.MultiSlider,{constructor:function(a){a=a||{};Ext.applyIf(a,{values:[a.value||0]});Ext.slider.SingleSlider.superclass.constructor.call(this,a)},getValue:function(){return Ext.slider.SingleSlider.superclass.getValue.call(this,0)},setValue:function(a,b){var c=Ext.toArray(arguments),d=c.length;(1==d||3>=d&&"number"!=typeof arguments[1])&&c.unshift(0);return Ext.slider.SingleSlider.superclass.setValue.apply(this,c)},syncThumb:function(){return Ext.slider.SingleSlider.superclass.syncThumb.apply(this,
[0].concat(arguments))},getNearest:function(){return this.thumbs[0]}});Ext.Slider=Ext.slider.SingleSlider;Ext.reg("slider",Ext.slider.SingleSlider);
Ext.slider.Vertical={onResize:function(a,b){this.innerEl.setHeight(b-(this.el.getPadding("t")+this.endEl.getPadding("b")));this.syncThumb()},getRatio:function(){return this.innerEl.getHeight()/(this.maxValue-this.minValue)},moveThumb:function(a,b,c){a=this.thumbs[a].el;!c||!1===this.animate?a.setBottom(b):a.shift({bottom:b,stopFx:!0,duration:0.35})},onClickChange:function(a){if(a.left>this.clickRange[0]&&a.left<this.clickRange[1]){var b=this.getNearest(a,"top").index,a=this.minValue+this.reverseValue(this.innerEl.getHeight()-
a.top);this.setValue(b,Ext.util.Format.round(a,this.decimalPrecision),void 0,!0)}}};Ext.slider.Thumb.Vertical={getNewValue:function(){var a=this.slider,b=a.innerEl,c=b.translatePoints(this.tracker.getXY()),b=b.getHeight()-c.top;return a.minValue+Ext.util.Format.round(b/a.getRatio(),a.decimalPrecision)}};
Ext.ProgressBar=Ext.extend(Ext.BoxComponent,{baseCls:"x-progress",animate:!1,waitTimer:null,initComponent:function(){Ext.ProgressBar.superclass.initComponent.call(this);this.addEvents("update")},onRender:function(a,b){var c=new Ext.Template('<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar">','<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>",'<div class="{cls}-text {cls}-text-back">',"<div>&#160;</div>","</div>","</div>","</div>");this.el=b?c.insertBefore(b,
{cls:this.baseCls},!0):c.append(a,{cls:this.baseCls},!0);this.id&&(this.el.dom.id=this.id);c=this.el.dom.firstChild;this.progressBar=Ext.get(c.firstChild);if(this.textEl)this.textEl=Ext.get(this.textEl),delete this.textTopEl;else{this.textTopEl=Ext.get(this.progressBar.dom.firstChild);var d=Ext.get(c.childNodes[1]);this.textTopEl.setStyle("z-index",99).addClass("x-hidden");this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild,d.dom.firstChild]);this.textEl.setWidth(c.offsetWidth)}this.progressBar.setHeight(c.offsetHeight)},
afterRender:function(){Ext.ProgressBar.superclass.afterRender.call(this);this.value?this.updateProgress(this.value,this.text):this.updateText(this.text)},updateProgress:function(a,b,c){this.value=a||0;b&&this.updateText(b);if(this.rendered&&!this.isDestroyed){var d=Math.floor(a*this.el.dom.firstChild.offsetWidth);this.progressBar.setWidth(d,!0===c||!1!==c&&this.animate);this.textTopEl&&this.textTopEl.removeClass("x-hidden").setWidth(d)}this.fireEvent("update",this,a,b);return this},wait:function(a){this.waitTimer||
(a=a||{},this.updateText(a.text),this.waitTimer=Ext.TaskMgr.start({run:function(b){var c=a.increment||10;this.updateProgress(0.01*((b-1+c)%c+1)*(100/c),null,a.animate)},interval:a.interval||1E3,duration:a.duration,onStop:function(){a.fn&&a.fn.apply(a.scope||this);this.reset()},scope:this}));return this},isWaiting:function(){return null!==this.waitTimer},updateText:function(a){this.text=a||"&#160;";this.rendered&&this.textEl.update(this.text);return this},syncProgressBar:function(){this.value&&this.updateProgress(this.value,
this.text);return this},setSize:function(a,b){Ext.ProgressBar.superclass.setSize.call(this,a,b);if(this.textTopEl){var c=this.el.dom.firstChild;this.textEl.setSize(c.offsetWidth,c.offsetHeight)}this.syncProgressBar();return this},reset:function(a){this.updateProgress(0);this.textTopEl&&this.textTopEl.addClass("x-hidden");this.clearTimer();!0===a&&this.hide();return this},clearTimer:function(){this.waitTimer&&(this.waitTimer.onStop=null,Ext.TaskMgr.stop(this.waitTimer),this.waitTimer=null)},onDestroy:function(){this.clearTimer();
this.rendered&&(this.textEl.isComposite&&this.textEl.clear(),Ext.destroyMembers(this,"textEl","progressBar","textTopEl"));Ext.ProgressBar.superclass.onDestroy.call(this)}});Ext.reg("progress",Ext.ProgressBar);
(function(){var a=Ext.EventManager,b=Ext.lib.Dom;Ext.dd.DragDrop=function(a,b,g){a&&this.init(a,b,g)};Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,
xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(){},startDrag:function(){},b4Drag:function(){},onDrag:function(){},onDragEnter:function(){},b4DragOver:function(){},onDragOver:function(){},b4DragOut:function(){},onDragOut:function(){},b4DragDrop:function(){},onDragDrop:function(){},onInvalidDrop:function(){},b4EndDrag:function(){},endDrag:function(){},b4MouseDown:function(){},onMouseDown:function(){},onMouseUp:function(){},onAvailable:function(){},
defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(a,b){var g,h,l,n;Ext.isNumber(b)&&(b={left:b,right:b,top:b,bottom:b});var b=b||this.defaultPadding,q=Ext.get(this.getEl()).getBox();g=Ext.get(a);l=g.getScroll();n=g.dom;n==document.body?(g=l.left,h=l.top,l=Ext.lib.Dom.getViewWidth(),n=Ext.lib.Dom.getViewHeight()):(l=g.getXY(),g=l[0],h=l[1],l=n.clientWidth,n=n.clientHeight);h=q.y-h;g=q.x-g;this.resetConstraints();this.setXConstraint(g-(b.left||0),l-g-q.width-(b.right||0),this.xTickSize);
this.setYConstraint(h-(b.top||0),n-h-q.height-(b.bottom||0),this.yTickSize)},getEl:function(){this._domRef||(this._domRef=Ext.getDom(this.id));return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(b,d,g){this.initTarget(b,d,g);a.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(a,b,g){this.config=g||{};this.DDM=Ext.dd.DDM;this.groups={};"string"!==typeof a&&(a=Ext.id(a));this.id=a;this.addToGroup(b?b:"default");this.handleElId=a;this.setDragElId(a);
this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=!1!==this.config.isTarget;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=!1!==this.config.primaryButtonOnly},handleOnAvailable:function(){this.available=!0;this.resetConstraints();this.onAvailable()},setPadding:function(a,b,g,h){this.padding=!b&&0!==b?[a,a,a,a]:!g&&
0!==g?[a,b,a,b]:[a,b,g,h]},setInitPosition:function(a,d){var g=this.getEl();if(this.DDM.verifyEl(g)){var h=a||0,l=d||0,g=b.getXY(g);this.initPageX=g[0]-h;this.initPageY=g[1]-l;this.lastPageX=g[0];this.lastPageY=g[1];this.setStartPosition(g)}},setStartPosition:function(a){a=a||b.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=!0;this.DDM.regDragDrop(this,a)},removeFromGroup:function(a){this.groups[a]&&delete this.groups[a];this.DDM.removeDDFromGroup(this,
a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){"string"!==typeof a&&(a=Ext.id(a));this.handleElId=a;this.DDM.regHandle(this.id,a)},setOuterHandleElId:function(b){"string"!==typeof b&&(b=Ext.id(b));a.on(b,"mousedown",this.handleMouseDown,this);this.setHandleElId(b);this.hasOuterHandles=!0},unreg:function(){a.un(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDM.isLocked()||
this.locked},handleMouseDown:function(a){if(!(this.primaryButtonOnly&&0!=a.button)&&!this.isLocked()){this.DDM.refreshCache(this.groups);var b=new Ext.lib.Point(Ext.lib.Event.getPageX(a),Ext.lib.Event.getPageY(a));if((this.hasOuterHandles||this.DDM.isOverTarget(b,this))&&this.clickValidator(a))this.setStartPosition(),this.b4MouseDown(a),this.onMouseDown(a),this.DDM.handleMouseDown(a,this),this.DDM.stopEvent(a)}},clickValidator:function(a){a=a.getTarget();return this.isValidHandleChild(a)&&(this.id==
this.handleElId||this.DDM.handleWasClicked(a,this.id))},addInvalidHandleType:function(a){a=a.toUpperCase();this.invalidHandleTypes[a]=a},addInvalidHandleId:function(a){"string"!==typeof a&&(a=Ext.id(a));this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){a=a.toUpperCase();delete this.invalidHandleTypes[a]},removeInvalidHandleId:function(a){"string"!==typeof a&&(a=Ext.id(a));delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){for(var b=
0,g=this.invalidHandleClasses.length;b<g;++b)this.invalidHandleClasses[b]==a&&delete this.invalidHandleClasses[b]},isValidHandleChild:function(a){var b=!0,g;try{g=a.nodeName.toUpperCase()}catch(h){g=a.nodeName}b=(b=b&&!this.invalidHandleTypes[g])&&!this.invalidHandleIds[a.id];g=0;for(var l=this.invalidHandleClasses.length;b&&g<l;++g)b=!Ext.fly(a).hasClass(this.invalidHandleClasses[g]);return b},setXTicks:function(a,b){this.xTicks=[];this.xTickSize=b;for(var g={},h=this.initPageX;h>=this.minX;h-=b)g[h]||
(this.xTicks[this.xTicks.length]=h,g[h]=!0);for(h=this.initPageX;h<=this.maxX;h+=b)g[h]||(this.xTicks[this.xTicks.length]=h,g[h]=!0);this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(a,b){this.yTicks=[];this.yTickSize=b;for(var g={},h=this.initPageY;h>=this.minY;h-=b)g[h]||(this.yTicks[this.yTicks.length]=h,g[h]=!0);for(h=this.initPageY;h<=this.maxY;h+=b)g[h]||(this.yTicks[this.yTicks.length]=h,g[h]=!0);this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(a,b,g){this.leftConstraint=
a;this.rightConstraint=b;this.minX=this.initPageX-a;this.maxX=this.initPageX+b;g&&this.setXTicks(this.initPageX,g);this.constrainX=!0},clearConstraints:function(){this.constrainY=this.constrainX=!1;this.clearTicks()},clearTicks:function(){this.yTicks=this.xTicks=null;this.yTickSize=this.xTickSize=0},setYConstraint:function(a,b,g){this.topConstraint=a;this.bottomConstraint=b;this.minY=this.initPageY-a;this.maxY=this.initPageY+b;g&&this.setYTicks(this.initPageY,g);this.constrainY=!0},resetConstraints:function(){this.initPageX||
0===this.initPageX?this.setInitPosition(this.maintainOffset?this.lastPageX-this.initPageX:0,this.maintainOffset?this.lastPageY-this.initPageY:0):this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(a,b){if(b){if(b[0]>=a)return b[0];for(var g=0,h=b.length;g<h;++g){var l=g+1;if(b[l]&&b[l]>=a)return b[l]-a>a-b[g]?b[g]:b[l]}return b[b.length-
1]}return a},toString:function(){return"DragDrop "+this.id}}})();
Ext.dd.DragDropMgr||(Ext.dd.DragDropMgr=function(){var a=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(a,c){for(var d in this.ids)for(var g in this.ids[d]){var h=this.ids[d][g];this.isTypeOfDD(h)&&h[a].apply(h,c)}},_onLoad:function(){this.init();a.on(document,"mouseup",this.handleMouseUp,this,!0);a.on(document,
"mousemove",this.handleMouseMove,this,!0);a.on(window,"unload",this._onUnload,this,!0);a.on(window,"resize",this._onResize,this,!0)},_onResize:function(){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(a,c){this.initialized||this.init();this.ids[c]||(this.ids[c]=
{});this.ids[c][a.id]=a},removeDDFromGroup:function(a,c){this.ids[c]||(this.ids[c]={});var d=this.ids[c];d&&d[a.id]&&delete d[a.id]},_remove:function(a){for(var c in a.groups)c&&(this.ids[c]&&this.ids[c][a.id])&&delete this.ids[c][a.id];delete this.handleIds[a.id]},regHandle:function(a,c){this.handleIds[a]||(this.handleIds[a]={});this.handleIds[a][c]=c},isDragDrop:function(a){return this.getDDById(a)?!0:!1},getRelated:function(a,c){var d=[],g;for(g in a.groups)for(var h in this.ids[g]){var l=this.ids[g][h];
if(this.isTypeOfDD(l)&&(!c||l.isTarget))d[d.length]=l}return d},isLegalTarget:function(a,c){for(var d=this.getRelated(a,!0),g=0,h=d.length;g<h;++g)if(d[g].id==c.id)return!0;return!1},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,c){return this.handleIds[a]&&this.handleIds[a][c]},getDDById:function(a){for(var c in this.ids)if(this.ids[c][a])return this.ids[c][a];return null},handleMouseDown:function(a,c){Ext.QuickTips&&Ext.QuickTips.disable();this.dragCurrent&&this.handleMouseUp(a);
this.currentTarget=a.getTarget();this.dragCurrent=c;var d=c.getEl();this.startX=a.getPageX();this.startY=a.getPageY();this.deltaX=this.startX-d.offsetLeft;this.deltaY=this.startY-d.offsetTop;this.dragThreshMet=!1;this.clickTimeout=setTimeout(function(){var a=Ext.dd.DDM;a.startDrag(a.startX,a.startY)},this.clickTimeThresh)},startDrag:function(a,c){clearTimeout(this.clickTimeout);this.dragCurrent&&(this.dragCurrent.b4StartDrag(a,c),this.dragCurrent.startDrag(a,c));this.dragThreshMet=!0},handleMouseUp:function(a){Ext.QuickTips&&
Ext.QuickTips.enable();this.dragCurrent&&(clearTimeout(this.clickTimeout),this.dragThreshMet&&this.fireEvents(a,!0),this.stopDrag(a),this.stopEvent(a))},stopEvent:function(a){this.stopPropagation&&a.stopPropagation();this.preventDefault&&a.preventDefault()},stopDrag:function(a){this.dragCurrent&&(this.dragThreshMet&&(this.dragCurrent.b4EndDrag(a),this.dragCurrent.endDrag(a)),this.dragCurrent.onMouseUp(a));this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(a){if(!this.dragCurrent)return!0;
if(Ext.isIE&&0!==a.button&&1!==a.button&&2!==a.button)return this.stopEvent(a),this.handleMouseUp(a);if(!this.dragThreshMet){var c=Math.abs(this.startX-a.getPageX()),d=Math.abs(this.startY-a.getPageY());(c>this.clickPixelThresh||d>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY)}this.dragThreshMet&&(this.dragCurrent.b4Drag(a),this.dragCurrent.onDrag(a),this.dragCurrent.moveOnly||this.fireEvents(a,!1));this.stopEvent(a);return!0},fireEvents:function(a,c){var d=this.dragCurrent;if(d&&
!d.isLocked()){var g=a.getPoint(),h=[],l=[],n=[],q=[],r=[],s;for(s in this.dragOvers){var p=this.dragOvers[s];this.isTypeOfDD(p)&&(this.isOverTarget(g,p,this.mode)||l.push(p),h[s]=!0,delete this.dragOvers[s])}for(var v in d.groups)if("string"==typeof v)for(s in this.ids[v])if(p=this.ids[v][s],this.isTypeOfDD(p)&&p.isTarget&&(!p.isLocked()&&(p!=d||!1===d.ignoreSelf))&&this.isOverTarget(g,p,this.mode))c?q.push(p):(h[p.id]?n.push(p):r.push(p),this.dragOvers[p.id]=p);if(this.mode){l.length&&(d.b4DragOut(a,
l),d.onDragOut(a,l));if(r.length)d.onDragEnter(a,r);n.length&&(d.b4DragOver(a,n),d.onDragOver(a,n));q.length&&(d.b4DragDrop(a,q),d.onDragDrop(a,q))}else{s=g=0;for(g=l.length;s<g;++s)d.b4DragOut(a,l[s].id),d.onDragOut(a,l[s].id);s=0;for(g=r.length;s<g;++s)d.onDragEnter(a,r[s].id);s=0;for(g=n.length;s<g;++s)d.b4DragOver(a,n[s].id),d.onDragOver(a,n[s].id);s=0;for(g=q.length;s<g;++s)d.b4DragDrop(a,q[s].id),d.onDragDrop(a,q[s].id)}if(c&&!q.length)d.onInvalidDrop(a)}},getBestMatch:function(a){var c=null,
d=a.length;if(1==d)c=a[0];else for(var g=0;g<d;++g){var h=a[g];if(h.cursorIsOver){c=h;break}else if(!c||c.overlap.getArea()<h.overlap.getArea())c=h}return c},refreshCache:function(a){for(var c in a)if("string"==typeof c)for(var d in this.ids[c])if(a=this.ids[c][d],this.isTypeOfDD(a)){var g=this.getLocation(a);g?this.locationCache[a.id]=g:delete this.locationCache[a.id]}},verifyEl:function(a){if(a){var c;if(Ext.isIE)try{c=a.offsetParent}catch(d){}else c=a.offsetParent;if(c)return!0}return!1},getLocation:function(a){if(!this.isTypeOfDD(a))return null;
var c=a.getEl(),d,g,h;try{d=Ext.lib.Dom.getXY(c)}catch(l){}if(!d)return null;g=d[0];h=g+c.offsetWidth;d=d[1];return new Ext.lib.Region(d-a.padding[0],h+a.padding[1],d+c.offsetHeight+a.padding[2],g-a.padding[3])},isOverTarget:function(a,c,d){var g=this.locationCache[c.id];if(!g||!this.useCache)g=this.getLocation(c),this.locationCache[c.id]=g;if(!g)return!1;c.cursorIsOver=g.contains(a);var h=this.dragCurrent;if(!h||!h.getTargetCoord||!d&&!h.constrainX&&!h.constrainY)return c.cursorIsOver;c.overlap=
null;a=h.getTargetCoord(a.x,a.y);h=h.getDragEl();return(g=(new Ext.lib.Region(a.y,a.x+h.offsetWidth,a.y+h.offsetHeight,a.x)).intersect(g))?(c.overlap=g,d?!0:c.cursorIsOver):!1},_onUnload:function(){Ext.dd.DragDropMgr.unregAll()},unregAll:function(){this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null);this._execOnAll("unreg",[]);for(var a in this.elementCache)delete this.elementCache[a];this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(a){var c=this.elementCache[a];if(!c||
!c.el)c=this.elementCache[a]=new this.ElementWrapper(Ext.getDom(a));return c},getElement:function(a){return Ext.getDom(a)},getCss:function(a){return(a=Ext.getDom(a))?a.style:null},ElementWrapper:function(a){this.id=(this.el=a||null)&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.lib.Dom.getX(a)},getPosY:function(a){return Ext.lib.Dom.getY(a)},swapNode:function(a,c){if(a.swapNode)a.swapNode(c);else{var d=c.parentNode,g=c.nextSibling;g==a?d.insertBefore(a,c):c==a.nextSibling?d.insertBefore(c,
a):(a.parentNode.replaceChild(c,a),d.insertBefore(a,g))}},getScroll:function(){var a,c,d=document.documentElement,g=document.body;d&&(d.scrollTop||d.scrollLeft)?(a=d.scrollTop,c=d.scrollLeft):g&&(a=g.scrollTop,c=g.scrollLeft);return{top:a,left:c}},getStyle:function(a,c){return Ext.fly(a).getStyle(c)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,c){var d=Ext.lib.Dom.getXY(c);Ext.lib.Dom.setXY(a,d)},numericSort:function(a,
c){return a-c},_timeoutCount:0,_addListeners:function(){var a=Ext.dd.DDM;Ext.lib.Event&&document?a._onLoad():2E3<a._timeoutCount||(setTimeout(a._addListeners,10),document&&document.body&&(a._timeoutCount+=1))},handleWasClicked:function(a,c){if(this.isHandle(c,a.id))return!0;for(var d=a.parentNode;d;){if(this.isHandle(c,d.id))return!0;d=d.parentNode}return!1}}}(),Ext.dd.DDM=Ext.dd.DragDropMgr,Ext.dd.DDM._addListeners());Ext.dd.DD=function(a,b,c){a&&this.init(a,b,c)};
Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:!0,autoOffset:function(a,b){this.setDelta(a-this.startPageX,b-this.startPageY)},setDelta:function(a,b){this.deltaX=a;this.deltaY=b},setDragElPos:function(a,b){var c=this.getDragEl();this.alignElWithMouse(c,a,b)},alignElWithMouse:function(a,b,c){var b=this.getTargetCoord(b,c),d=a.dom?a:Ext.fly(a,"_dd");this.deltaSetXY?d.setLeftTop(b.x+this.deltaSetXY[0],b.y+this.deltaSetXY[1]):(d.setXY([b.x,b.y]),c=d.getLeft(!0),d=d.getTop(!0),this.deltaSetXY=[c-b.x,d-b.y]);
this.cachePosition(b.x,b.y);this.autoScroll(b.x,b.y,a.offsetHeight,a.offsetWidth);return b},cachePosition:function(a,b){if(a)this.lastPageX=a,this.lastPageY=b;else{var c=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=c[0];this.lastPageY=c[1]}},autoScroll:function(a,b,c,d){if(this.scroll){var g=Ext.lib.Dom.getViewHeight(),h=Ext.lib.Dom.getViewWidth(),l=this.DDM.getScrollTop(),n=this.DDM.getScrollLeft(),d=d+a,q=g+l-b-this.deltaY,r=h+n-a-this.deltaX,s=document.all?80:30;c+b>g&&40>q&&window.scrollTo(n,
l+s);b<l&&(0<l&&40>b-l)&&window.scrollTo(n,l-s);d>h&&40>r&&window.scrollTo(n+s,l);a<n&&(0<n&&40>a-n)&&window.scrollTo(n-s,l)}},getTargetCoord:function(a,b){var c=a-this.deltaX,d=b-this.deltaY;this.constrainX&&(c<this.minX&&(c=this.minX),c>this.maxX&&(c=this.maxX));this.constrainY&&(d<this.minY&&(d=this.minY),d>this.maxY&&(d=this.maxY));c=this.getTick(c,this.xTicks);d=this.getTick(d,this.yTicks);return{x:c,y:d}},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this);this.scroll=!1!==this.config.scroll},
b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return"DD "+this.id}});Ext.dd.DDProxy=function(a,b,c){a&&(this.init(a,b,c),this.initFrame())};Ext.dd.DDProxy.dragElId="ygddfdiv";
Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:!0,centerFrame:!1,createFrame:function(){var a=this,b=document.body;if(!b||!b.firstChild)setTimeout(function(){a.createFrame()},50);else{var c=this.getDragEl();if(!c){c=document.createElement("div");c.id=this.dragElId;var d=c.style;d.position="absolute";d.visibility="hidden";d.cursor="move";d.border="2px solid #aaa";d.zIndex=999;b.insertBefore(c,b.firstChild)}}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this);
this.resizeFrame=!1!==this.config.resizeFrame;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(a,b){this.getEl();var c=this.getDragEl(),d=c.style;this._resizeProxy();this.centerFrame&&this.setDelta(Math.round(parseInt(d.width,10)/2),Math.round(parseInt(d.height,10)/2));this.setDragElPos(a,b);Ext.fly(c).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},
b4MouseDown:function(a){var b=a.getPageX(),a=a.getPageY();this.autoOffset(b,a);this.setDragElPos(b,a)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(){Ext.fly(this.getDragEl()).hide()},endDrag:function(){var a=this.getEl(),b=this.getDragEl();b.style.visibility="";this.beforeMove();a.style.visibility="hidden";Ext.dd.DDM.moveToEl(a,b);b.style.visibility="hidden";a.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+
this.id}});Ext.dd.DDTarget=function(a,b,c){a&&this.initTarget(a,b,c)};
Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,
setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}});
Ext.dd.DragTracker=Ext.extend(Ext.util.Observable,{active:!1,tolerance:5,autoStart:!1,constructor:function(a){Ext.apply(this,a);this.addEvents("mousedown","mouseup","mousemove","dragstart","dragend","drag");this.dragRegion=new Ext.lib.Region(0,0,0,0);this.el&&this.initEl(this.el);Ext.dd.DragTracker.superclass.constructor.call(this,a)},initEl:function(a){this.el=Ext.get(a);a.on("mousedown",this.onMouseDown,this,this.delegate?{delegate:this.delegate}:void 0)},destroy:function(){this.el.un("mousedown",
this.onMouseDown,this)},onMouseDown:function(a,b){if(!1!==this.fireEvent("mousedown",this,a)&&!1!==this.onBeforeStart(a)){this.startXY=this.lastXY=a.getXY();this.dragTarget=this.delegate?b:this.el.dom;!1!==this.preventDefault&&a.preventDefault();var c=Ext.getDoc();c.on("mouseup",this.onMouseUp,this);c.on("mousemove",this.onMouseMove,this);c.on("selectstart",this.stopSelect,this);this.autoStart&&(this.timer=this.triggerStart.defer(!0===this.autoStart?1E3:this.autoStart,this))}},onMouseMove:function(a){if(this.active&&
Ext.isIE&&!a.browserEvent.button)a.preventDefault(),this.onMouseUp(a);else{a.preventDefault();var b=a.getXY(),c=this.startXY;this.lastXY=b;if(!this.active)if(Math.abs(c[0]-b[0])>this.tolerance||Math.abs(c[1]-b[1])>this.tolerance)this.triggerStart();else return;this.fireEvent("mousemove",this,a);this.onDrag(a);this.fireEvent("drag",this,a)}},onMouseUp:function(a){var b=Ext.getDoc();b.un("mousemove",this.onMouseMove,this);b.un("mouseup",this.onMouseUp,this);b.un("selectstart",this.stopSelect,this);
a.preventDefault();this.clearStart();b=this.active;this.active=!1;delete this.elRegion;this.fireEvent("mouseup",this,a);b&&(this.onEnd(a),this.fireEvent("dragend",this,a))},triggerStart:function(){this.clearStart();this.active=!0;this.onStart(this.startXY);this.fireEvent("dragstart",this,this.startXY)},clearStart:function(){this.timer&&(clearTimeout(this.timer),delete this.timer)},stopSelect:function(a){a.stopEvent();return!1},onBeforeStart:function(){},onStart:function(){},onDrag:function(){},onEnd:function(){},
getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getXY:function(a){return a?this.constrainModes[a].call(this,this.lastXY):this.lastXY},getOffset:function(a){var a=this.getXY(a),b=this.startXY;return[b[0]-a[0],b[1]-a[1]]},constrainModes:{point:function(a){this.elRegion||(this.elRegion=this.getDragCt().getRegion());var b=this.dragRegion;b.left=a[0];b.top=a[1];b.right=a[0];b.bottom=a[1];b.constrainTo(this.elRegion);return[b.left,b.top]}}});
Ext.dd.ScrollManager=function(){var a=Ext.dd.DragDropMgr,b={},c=null,d={},g=function(){a.dragCurrent&&a.refreshCache(a.dragCurrent.groups)},h=function(){if(a.dragCurrent){var b=Ext.dd.ScrollManager,c=d.el.ddScrollConfig?d.el.ddScrollConfig.increment:b.increment;b.animate?d.el.scroll(d.dir,c,!0,b.animDuration,g):d.el.scroll(d.dir,c)&&g()}},l=function(){d.id&&clearInterval(d.id);d.id=0;d.el=null;d.dir=""},n=function(a,b){l();d.el=a;d.dir=b;d.id=setInterval(h,a.ddScrollConfig&&a.ddScrollConfig.frequency?
a.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency)};a.fireEvents=a.fireEvents.createSequence(function(g,h){if(!h&&a.dragCurrent){var s=Ext.dd.ScrollManager;if(!c||c!=a.dragCurrent)c=a.dragCurrent,s.refreshCache();var p=Ext.lib.Event.getXY(g),p=new Ext.lib.Point(p[0],p[1]),v;for(v in b){var t=b[v],A=t._region,w=t.ddScrollConfig?t.ddScrollConfig:s;if(A&&A.contains(p)&&t.isScrollable()){if(A.bottom-p.y<=w.vthresh){d.el!=t&&n(t,"down");return}if(A.right-p.x<=w.hthresh){d.el!=t&&n(t,"left");return}if(p.y-
A.top<=w.vthresh){d.el!=t&&n(t,"up");return}if(p.x-A.left<=w.hthresh){d.el!=t&&n(t,"right");return}}}l()}},a);a.stopDrag=a.stopDrag.createSequence(function(){c=null;l()},a);return{register:function(a){if(Ext.isArray(a))for(var c=0,d=a.length;c<d;c++)this.register(a[c]);else a=Ext.get(a),b[a.id]=a},unregister:function(a){if(Ext.isArray(a))for(var c=0,d=a.length;c<d;c++)this.unregister(a[c]);else a=Ext.get(a),delete b[a.id]},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:0.4,
refreshCache:function(){for(var a in b)"object"==typeof b[a]&&(b[a]._region=b[a].getRegion())}}}();
Ext.dd.Registry=function(){var a={},b={},c=0,d=function(a,b){if("string"==typeof a)return a;var d=a.id;!d&&!1!==b&&(d="extdd-"+ ++c,a.id=d);return d};return{register:function(c,h){h=h||{};"string"==typeof c&&(c=document.getElementById(c));h.ddel=c;a[d(c)]=h;!1!==h.isHandle&&(b[h.ddel.id]=h);if(h.handles)for(var l=h.handles,n=0,q=l.length;n<q;n++)b[d(l[n])]=h},unregister:function(c){var c=d(c,!1),h=a[c];if(h&&(delete a[c],h.handles))for(var c=h.handles,h=0,l=c.length;h<l;h++)delete b[d(c[h],!1)]},
getHandle:function(a){"string"!=typeof a&&(a=a.id);return b[a]},getHandleFromEvent:function(a){return(a=Ext.lib.Event.getTarget(a))?b[a.id]:null},getTarget:function(b){"string"!=typeof b&&(b=b.id);return a[b]},getTargetFromEvent:function(c){return(c=Ext.lib.Event.getTarget(c))?a[c.id]||b[c.id]:null}}}();
Ext.dd.StatusProxy=function(a){Ext.apply(this,a);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!a||!1!==a.shadow});this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed};
Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;this.dropStatus!=a&&(this.el.replaceClass(this.dropStatus,a),this.dropStatus=a)},reset:function(a){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;a&&this.ghost.update("")},update:function(a){"string"==typeof a?this.ghost.update(a):(this.ghost.update(""),a.style.margin="0",this.ghost.dom.appendChild(a));(a=this.ghost.dom.firstChild)&&
Ext.fly(a).setStyle("float","none")},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(a){this.el.hide();a&&this.reset(!0)},stop:function(){this.anim&&(this.anim.isAnimated&&this.anim.isAnimated())&&this.anim.stop()},show:function(){this.el.show()},sync:function(){this.el.sync()},repair:function(a,b,c){this.callback=b;this.scope=c;a&&!1!==this.animRepair?(this.el.addClass("x-dd-drag-repair"),this.el.hideUnders(!0),this.anim=this.el.shift({duration:this.repairDuration||
0.5,easing:"easeOut",xy:a,stopFx:!0,callback:this.afterRepair,scope:this})):this.afterRepair()},afterRepair:function(){this.hide(!0);"function"==typeof this.callback&&this.callback.call(this.scope||this);this.scope=this.callback=null},destroy:function(){Ext.destroy(this.ghost,this.el)}};
Ext.dd.DragSource=function(a,b){this.el=Ext.get(a);this.dragData||(this.dragData={});Ext.apply(this,b);this.proxy||(this.proxy=new Ext.dd.StatusProxy);Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:!0===this.scroll});this.dragging=!1};
Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(){return this.dragData},onDragEnter:function(a,b){var c=Ext.dd.DragDropMgr.getDDById(b);this.cachedTarget=c;if(!1!==this.beforeDragEnter(c,a,b)){if(c.isNotifyTarget){var d=c.notifyEnter(this,a,this.dragData);this.proxy.setStatus(d)}else this.proxy.setStatus(this.dropAllowed);this.afterDragEnter&&this.afterDragEnter(c,a,b)}},beforeDragEnter:function(){return!0},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,
arguments);this.proxy.sync()},onDragOver:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(b);if(!1!==this.beforeDragOver(c,a,b)){if(c.isNotifyTarget){var d=c.notifyOver(this,a,this.dragData);this.proxy.setStatus(d)}this.afterDragOver&&this.afterDragOver(c,a,b)}},beforeDragOver:function(){return!0},onDragOut:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(b);!1!==this.beforeDragOut(c,a,b)&&(c.isNotifyTarget&&c.notifyOut(this,a,this.dragData),this.proxy.reset(),
this.afterDragOut&&this.afterDragOut(c,a,b));this.cachedTarget=null},beforeDragOut:function(){return!0},onDragDrop:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(b);if(!1!==this.beforeDragDrop(c,a,b)){if(c.isNotifyTarget)if(c.notifyDrop(this,a,this.dragData))this.onValidDrop(c,a,b);else this.onInvalidDrop(c,a,b);else this.onValidDrop(c,a,b);this.afterDragDrop&&this.afterDragDrop(c,a,b)}delete this.cachedTarget},beforeDragDrop:function(){return!0},onValidDrop:function(a,b,c){this.hideProxy();
this.afterValidDrop&&this.afterValidDrop(a,b,c)},getRepairXY:function(){return this.el.getXY()},onInvalidDrop:function(a,b,c){this.beforeInvalidDrop(a,b,c);this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,b,this.dragData),this.cacheTarget=null);this.proxy.repair(this.getRepairXY(b,this.dragData),this.afterRepair,this);this.afterInvalidDrop&&this.afterInvalidDrop(b,c)},afterRepair:function(){Ext.enableFx&&this.el.highlight(this.hlColor||"c3daf9");this.dragging=
!1},beforeInvalidDrop:function(){return!0},handleMouseDown:function(a){if(!this.dragging){var b=this.getDragData(a);b&&!1!==this.onBeforeDrag(b,a)&&(this.dragData=b,this.proxy.stop(),Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments))}},onBeforeDrag:function(){return!0},onStartDrag:Ext.emptyFn,startDrag:function(a,b){this.proxy.reset();this.dragging=!0;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,b){var c=this.el.dom.cloneNode(!0);c.id=Ext.id();
this.proxy.update(c);this.onStartDrag(a,b);return!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(!0);this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(){},autoOffset:function(){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DragSource.superclass.destroy.call(this);Ext.destroy(this.proxy)}});
Ext.dd.DropTarget=function(a,b){this.el=Ext.get(a);Ext.apply(this,b);this.containerScroll&&Ext.dd.ScrollManager.register(this.el);Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:!0})};
Ext.extend(Ext.dd.DropTarget,Ext.dd.DDTarget,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(){this.overClass&&this.el.addClass(this.overClass);return this.dropAllowed},notifyOver:function(){return this.dropAllowed},notifyOut:function(){this.overClass&&this.el.removeClass(this.overClass)},notifyDrop:function(){return!1}});Ext.dd.DragZone=function(a,b){Ext.dd.DragZone.superclass.constructor.call(this,a,b);this.containerScroll&&Ext.dd.ScrollManager.register(this.el)};
Ext.extend(Ext.dd.DragZone,Ext.dd.DragSource,{getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(!0));this.onStartDrag(a,b);return!0},afterRepair:function(){Ext.enableFx&&Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9");this.dragging=!1},getRepairXY:function(){return Ext.Element.fly(this.dragData.ddel).getXY()}});
Ext.dd.DropZone=function(a,b){Ext.dd.DropZone.superclass.constructor.call(this,a,b)};
Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(){},onNodeOver:function(){return this.dropAllowed},onNodeOut:function(){},onNodeDrop:function(){return!1},onContainerOver:function(){return this.dropNotAllowed},onContainerDrop:function(){return!1},notifyEnter:function(){return this.dropNotAllowed},notifyOver:function(a,b,c){var d=this.getTargetFromEvent(b);if(!d)return this.lastOverNode&&(this.onNodeOut(this.lastOverNode,
a,b,c),this.lastOverNode=null),this.onContainerOver(a,b,c);if(this.lastOverNode!=d){if(this.lastOverNode)this.onNodeOut(this.lastOverNode,a,b,c);this.onNodeEnter(d,a,b,c);this.lastOverNode=d}return this.onNodeOver(d,a,b,c)},notifyOut:function(a,b,c){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null)},notifyDrop:function(a,b,c){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null);var d=this.getTargetFromEvent(b);return d?this.onNodeDrop(d,
a,b,c):this.onContainerDrop(a,b,c)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.Element.addMethods({initDD:function(a,b,c){a=new Ext.dd.DD(Ext.id(this.dom),a,b);return Ext.apply(a,c)},initDDProxy:function(a,b,c){a=new Ext.dd.DDProxy(Ext.id(this.dom),a,b);return Ext.apply(a,c)},initDDTarget:function(a,b,c){a=new Ext.dd.DDTarget(Ext.id(this.dom),a,b);return Ext.apply(a,c)}});
Ext.data.Api=function(){var a={};return{actions:{create:"create",read:"read",update:"update",destroy:"destroy"},restActions:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},isAction:function(a){return Ext.data.Api.actions[a]?!0:!1},getVerb:function(b){if(a[b])return a[b];for(var c in this.actions)if(this.actions[c]===b){a[b]=c;break}return void 0!==a[b]?a[b]:null},isValid:function(a){var c=[],d=this.actions,g;for(g in a)g in d||c.push(g);return!c.length?!0:c},hasUniqueUrl:function(a,c){var d=
a.api[c]?a.api[c].url:null,g=!0,h;for(h in a.api)if(!1===(g=h===c?!0:a.api[h].url!=d?!0:!1))break;return g},prepare:function(a){a.api||(a.api={});for(var c in this.actions){var d=this.actions[c];a.api[d]=a.api[d]||a.url||a.directFn;"string"==typeof a.api[d]&&(a.api[d]={url:a.api[d],method:!0===a.restful?Ext.data.Api.restActions[d]:void 0})}},restify:function(a){a.restful=!0;for(var c in this.restActions)a.api[this.actions[c]].method||(a.api[this.actions[c]].method=this.restActions[c]);a.onWrite=a.onWrite.createInterceptor(function(a,
b,c,l){var n=new Ext.data.Response({action:a,raw:c});switch(c.status){case 200:return!0;case 201:if(Ext.isEmpty(n.raw.responseText))n.success=!0;else return!0;break;case 204:n.success=!0;n.data=null;break;default:return!0}!0===n.success?this.fireEvent("write",this,a,n.data,n,l,b.request.arg):this.fireEvent("exception",this,"remote",a,b,n,l);b.request.callback.call(b.request.scope,n.data,n,n.success);return!1},a)}}}();Ext.data.Response=function(a,b){Ext.apply(this,a,{raw:b})};
Ext.data.Response.prototype={message:null,success:!1,status:null,root:null,raw:null,getMessage:function(){return this.message},getSuccess:function(){return this.success},getStatus:function(){return this.status},getRoot:function(){return this.root},getRawResponse:function(){return this.raw}};Ext.data.Api.Error=Ext.extend(Ext.Error,{constructor:function(a,b){this.arg=b;Ext.Error.call(this,a)},name:"Ext.data.Api"});
Ext.apply(Ext.data.Api.Error.prototype,{lang:{"action-url-undefined":"No fallback url defined for this action.  When defining a DataProxy api, please be sure to define an url for each CRUD action in Ext.data.Api.actions or define a default url in addition to your api-configuration.",invalid:"received an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions defined in Ext.data.Api.actions","invalid-url":"Invalid url.  Please review your proxy configuration.",
execute:'Attempted to execute an unknown action.  Valid API actions are defined in Ext.data.Api.actions"'}});
Ext.data.SortTypes={none:function(a){return a},stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){return!a?0:Ext.isDate(a)?a.getTime():Date.parse(String(a))},asFloat:function(a){a=parseFloat(String(a).replace(/,/g,""));return isNaN(a)?0:a},asInt:function(a){a=parseInt(String(a).replace(/,/g,""),10);return isNaN(a)?
0:a}};Ext.data.Record=function(a,b){this.id=b||0===b?b:Ext.data.Record.id(this);this.data=a||{}};Ext.data.Record.create=function(a){var b=Ext.extend(Ext.data.Record,{}),c=b.prototype;c.fields=new Ext.util.MixedCollection(!1,function(a){return a.name});for(var d=0,g=a.length;d<g;d++)c.fields.add(new Ext.data.Field(a[d]));b.getField=function(a){return c.fields.get(a)};return b};Ext.data.Record.PREFIX="ext-record";Ext.data.Record.AUTO_ID=1;Ext.data.Record.EDIT="edit";Ext.data.Record.REJECT="reject";
Ext.data.Record.COMMIT="commit";Ext.data.Record.id=function(a){a.phantom=!0;return[Ext.data.Record.PREFIX,"-",Ext.data.Record.AUTO_ID++].join("")};
Ext.data.Record.prototype={dirty:!1,editing:!1,error:null,modified:null,phantom:!1,join:function(a){this.store=a},set:function(a,b){var c=Ext.isPrimitive(b)?String:Ext.encode;c(this.data[a])!=c(b)&&(this.dirty=!0,this.modified||(this.modified={}),void 0===this.modified[a]&&(this.modified[a]=this.data[a]),this.data[a]=b,this.editing||this.afterEdit())},afterEdit:function(){void 0!=this.store&&"function"==typeof this.store.afterEdit&&this.store.afterEdit(this)},afterReject:function(){this.store&&this.store.afterReject(this)},
afterCommit:function(){this.store&&this.store.afterCommit(this)},get:function(a){return this.data[a]},beginEdit:function(){this.editing=!0;this.modified=this.modified||{}},cancelEdit:function(){this.editing=!1;delete this.modified},endEdit:function(){this.editing=!1;this.dirty&&this.afterEdit()},reject:function(a){var b=this.modified,c;for(c in b)"function"!=typeof b[c]&&(this.data[c]=b[c]);this.dirty=!1;delete this.modified;this.editing=!1;!0!==a&&this.afterReject()},commit:function(a){this.dirty=
!1;delete this.modified;this.editing=!1;!0!==a&&this.afterCommit()},getChanges:function(){var a=this.modified,b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=this.data[c]);return b},hasError:function(){return null!==this.error},clearError:function(){this.error=null},copy:function(a){return new this.constructor(Ext.apply({},this.data),a||this.id)},isModified:function(a){return!(!this.modified||!this.modified.hasOwnProperty(a))},isValid:function(){return this.fields.find(function(a){return!1===a.allowBlank&&
Ext.isEmpty(this.data[a.name])?!0:!1},this)?!1:!0},markDirty:function(){this.dirty=!0;this.modified||(this.modified={});this.fields.each(function(a){this.modified[a.name]=this.data[a.name]},this)}};
Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection,{register:function(){for(var a=0,b;b=arguments[a];a++)this.add(b)},unregister:function(){for(var a=0,b;b=arguments[a];a++)this.remove(this.lookup(b))},lookup:function(a){if(Ext.isArray(a)){var b=["field1"],c=!Ext.isArray(a[0]);if(!c)for(var d=2,g=a[0].length;d<=g;++d)b.push("field"+d);return new Ext.data.ArrayStore({fields:b,data:a,expandData:c,autoDestroy:!0,autoCreated:!0})}return Ext.isObject(a)?a.events?a:Ext.create(a,"store"):this.get(a)},getKey:function(a){return a.storeId}});
Ext.data.Store=Ext.extend(Ext.util.Observable,{writer:void 0,remoteSort:!1,autoDestroy:!1,pruneModifiedRecords:!1,lastOptions:null,autoSave:!0,batch:!0,restful:!1,paramNames:void 0,defaultParamNames:{start:"start",limit:"limit",sort:"sort",dir:"dir"},isDestroyed:!1,hasMultiSort:!1,batchKey:"_ext_batch_",constructor:function(a){this.data=new Ext.util.MixedCollection(!1);this.data.getKey=function(a){return a.id};this.removed=[];a&&a.data&&(this.inlineData=a.data,delete a.data);Ext.apply(this,a);this.baseParams=
Ext.isObject(this.baseParams)?this.baseParams:{};this.paramNames=Ext.applyIf(this.paramNames||{},this.defaultParamNames);if((this.url||this.api)&&!this.proxy)this.proxy=new Ext.data.HttpProxy({url:this.url,api:this.api});!0===this.restful&&this.proxy&&(this.batch=!1,Ext.data.Api.restify(this.proxy));this.reader&&(this.recordType||(this.recordType=this.reader.recordType),this.reader.onMetaChange&&(this.reader.onMetaChange=this.reader.onMetaChange.createSequence(this.onMetaChange,this)),this.writer&&
(!1===this.writer instanceof Ext.data.DataWriter&&(this.writer=this.buildWriter(this.writer)),this.writer.meta=this.reader.meta,this.pruneModifiedRecords=!0));this.recordType&&(this.fields=this.recordType.prototype.fields);this.modified=[];this.addEvents("datachanged","metachange","add","remove","update","clear","exception","beforeload","load","loadexception","beforewrite","write","beforesave","save");this.proxy&&this.relayEvents(this.proxy,["loadexception","exception"]);if(this.writer)this.on({scope:this,
add:this.createRecords,remove:this.destroyRecord,update:this.updateRecord,clear:this.onClear});this.sortToggle={};this.sortField?this.setDefaultSort(this.sortField,this.sortDir):this.sortInfo&&this.setDefaultSort(this.sortInfo.field,this.sortInfo.direction);Ext.data.Store.superclass.constructor.call(this);this.id&&(this.storeId=this.id,delete this.id);this.storeId&&Ext.StoreMgr.register(this);this.inlineData?(this.loadData(this.inlineData),delete this.inlineData):this.autoLoad&&this.load.defer(10,
this,["object"==typeof this.autoLoad?this.autoLoad:void 0]);this.batchCounter=0;this.batches={}},buildWriter:function(a){var b=void 0;switch((a.format||"json").toLowerCase()){case "json":b=Ext.data.JsonWriter;break;case "xml":b=Ext.data.XmlWriter;break;default:b=Ext.data.JsonWriter}return new b(a)},destroy:function(){this.isDestroyed||(this.storeId&&Ext.StoreMgr.unregister(this),this.clearData(),this.data=null,Ext.destroy(this.proxy),this.reader=this.writer=null,this.purgeListeners(),this.isDestroyed=
!0)},add:function(a){a=[].concat(a);if(!(1>a.length)){for(var b=0,c=a.length;b<c;b++)a[b].join(this);b=this.data.length;this.data.addAll(a);this.snapshot&&this.snapshot.addAll(a);this.fireEvent("add",this,a,b)}},addSorted:function(a){var b=this.findInsertIndex(a);this.insert(b,a)},remove:function(a){if(Ext.isArray(a))Ext.each(a,function(a){this.remove(a)},this);else{var b=this.data.indexOf(a);-1<b&&(a.join(null),this.data.removeAt(b));this.pruneModifiedRecords&&this.modified.remove(a);this.snapshot&&
this.snapshot.remove(a);-1<b&&this.fireEvent("remove",this,a,b)}},removeAt:function(a){this.remove(this.getAt(a))},removeAll:function(a){var b=[];this.each(function(a){b.push(a)});this.clearData();this.snapshot&&this.snapshot.clear();this.pruneModifiedRecords&&(this.modified=[]);!0!==a&&this.fireEvent("clear",this,b)},onClear:function(a,b){Ext.each(b,function(a,b){this.destroyRecord(this,a,b)},this)},insert:function(a,b){for(var b=[].concat(b),c=0,d=b.length;c<d;c++)this.data.insert(a,b[c]),b[c].join(this);
this.snapshot&&this.snapshot.addAll(b);this.fireEvent("add",this,b,a)},indexOf:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},getById:function(a){return(this.snapshot||this.data).key(a)},getAt:function(a){return this.data.itemAt(a)},getRange:function(a,b){return this.data.getRange(a,b)},storeOptions:function(a){a=Ext.apply({},a);delete a.callback;delete a.scope;this.lastOptions=a},clearData:function(){this.data.each(function(a){a.join(null)});this.data.clear()},
load:function(a){a=Ext.apply({},a);this.storeOptions(a);if(this.sortInfo&&this.remoteSort){var b=this.paramNames;a.params=Ext.apply({},a.params);a.params[b.sort]=this.sortInfo.field;a.params[b.dir]=this.sortInfo.direction}try{return this.execute("read",null,a)}catch(c){return this.handleException(c),!1}},updateRecord:function(a,b,c){c==Ext.data.Record.EDIT&&(!0===this.autoSave&&(!b.phantom||b.phantom&&b.isValid()))&&this.save()},createRecords:function(a,b){for(var c=0,d=b.length;c<d;c++)b[c].phantom&&
b[c].isValid()&&(b[c].markDirty(),this.modified.push(b[c]));!0===this.autoSave&&this.save()},destroyRecord:function(a,b,c){-1!=this.modified.indexOf(b)&&this.modified.remove(b);b.phantom||(this.removed.push(b),b.lastIndex=c,!0===this.autoSave&&this.save())},execute:function(a,b,c,d){if(!Ext.data.Api.isAction(a))throw new Ext.data.Api.Error("execute",a);c=Ext.applyIf(c||{},{params:{}});void 0!==d&&this.addToBatch(d);var g=!0;"read"===a?(g=this.fireEvent("beforeload",this,c),Ext.applyIf(c.params,this.baseParams)):
(!0===this.writer.listful&&!0!==this.restful?b=Ext.isArray(b)?b:[b]:Ext.isArray(b)&&1==b.length&&(b=b.shift()),!1!==(g=this.fireEvent("beforewrite",this,a,b,c))&&this.writer.apply(c.params,this.baseParams,a,b));!1!==g&&(this.writer&&(this.proxy.url&&!this.proxy.restful&&!Ext.data.Api.hasUniqueUrl(this.proxy,a))&&(c.params.xaction=a),this.proxy.request(Ext.data.Api.actions[a],b,c.params,this.reader,this.createCallback(a,b,d),this,c));return g},save:function(){if(!this.writer)throw new Ext.data.Store.Error("writer-undefined");
var a=[],b,c,d,g={};this.removed.length&&a.push(["destroy",this.removed]);b=[].concat(this.getModifiedRecords());if(b.length){c=[];for(var h=b.length-1;0<=h;h--)!0===b[h].phantom?(d=b.splice(h,1).shift(),d.isValid()&&c.push(d)):b[h].isValid()||b.splice(h,1);c.length&&a.push(["create",c]);b.length&&a.push(["update",b])}if(b=a.length){d=++this.batchCounter;for(h=0;h<b;++h)c=a[h],g[c[0]]=c[1];if(!1!==this.fireEvent("beforesave",this,g)){for(h=0;h<b;++h)c=a[h],this.doTransaction(c[0],c[1],d);return d}}return-1},
doTransaction:function(a,b,c){if(!1===this.batch)for(var d=0,g=b.length;d<g;d++)try{this.execute(a,b[d],void 0,c)}catch(h){this.handleException(h)}else try{this.execute(a,b,void 0,c)}catch(l){this.handleException(l)}},addToBatch:function(a){var b=this.batches,c=this.batchKey+a,d=b[c];d||(b[c]=d={id:a,count:0,data:{}});++d.count},removeFromBatch:function(a,b,c){var d=this.batches,g=this.batchKey+a,h=d[g],l;h&&(l=h.data[b]||[],h.data[b]=l.concat(c),1===h.count?(c=h.data,delete d[g],this.fireEvent("save",
this,a,c)):--h.count)},createCallback:function(a,b,c){return"read"==a?this.loadRecords:function(d,g,h){this["on"+Ext.util.Format.capitalize(a)+"Records"](h,b,[].concat(d));!0===h&&this.fireEvent("write",this,a,d,g,b);this.removeFromBatch(c,a,d)}},clearModified:function(a){if(Ext.isArray(a))for(var b=a.length-1;0<=b;b--)this.modified.splice(this.modified.indexOf(a[b]),1);else this.modified.splice(this.modified.indexOf(a),1)},reMap:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;b<c;b++)this.reMap(a[b]);
else delete this.data.map[a._phid],this.data.map[a.id]=a,b=this.data.keys.indexOf(a._phid),this.data.keys.splice(b,1,a.id),delete a._phid},onCreateRecords:function(a,b,c){if(!0===a)try{this.reader.realize(b,c),this.reMap(b)}catch(d){if(this.handleException(d),Ext.isArray(b))this.onCreateRecords(a,b,c)}},onUpdateRecords:function(a,b,c){if(!0===a)try{this.reader.update(b,c)}catch(d){if(this.handleException(d),Ext.isArray(b))this.onUpdateRecords(a,b,c)}},onDestroyRecords:function(a,b){for(var b=b instanceof
Ext.data.Record?[b]:[].concat(b),c=0,d=b.length;c<d;c++)this.removed.splice(this.removed.indexOf(b[c]),1);if(!1===a)for(c=b.length-1;0<=c;c--)this.insert(b[c].lastIndex,b[c])},handleException:function(a){Ext.handleError(a)},reload:function(a){this.load(Ext.applyIf(a||{},this.lastOptions))},loadRecords:function(a,b,c){if(!0!==this.isDestroyed)if(!a||!1===c)!1!==c&&this.fireEvent("load",this,[],b),b.callback&&b.callback.call(b.scope||this,[],b,!1,a);else{c=a.records;a=a.totalRecords||c.length;if(!b||
!0!==b.add){this.pruneModifiedRecords&&(this.modified=[]);for(var d=0,g=c.length;d<g;d++)c[d].join(this);this.snapshot&&(this.data=this.snapshot,delete this.snapshot);this.clearData();this.data.addAll(c);this.totalLength=a;this.applySort();this.fireEvent("datachanged",this)}else this.totalLength=Math.max(a,this.data.length+c.length),this.add(c);this.fireEvent("load",this,c,b);b.callback&&b.callback.call(b.scope||this,c,b,!0)}},loadData:function(a,b){var c=this.reader.readRecords(a);this.loadRecords(c,
{add:b},!0)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalLength||0},getSortState:function(){return this.sortInfo},applySort:function(){(this.sortInfo||this.multiSortInfo)&&!this.remoteSort&&this.sortData()},sortData:function(){var a=this.hasMultiSort?this.multiSortInfo:this.sortInfo,b=a.direction||"ASC",c=a.sorters,d=[];this.hasMultiSort||(c=[{direction:b,field:a.field}]);for(var a=0,g=c.length;a<g;a++)d.push(this.createSortFunction(c[a].field,c[a].direction));
if(0!=d.length){var h="DESC"==b.toUpperCase()?-1:1,c=function(a,b){var c=d[0].call(this,a,b);if(1<d.length)for(var g=1,s=d.length;g<s;g++)c=c||d[g].call(this,a,b);return h*c};this.data.sort(b,c);this.snapshot&&this.snapshot!=this.data&&this.snapshot.sort(b,c)}},createSortFunction:function(a,b){var c="DESC"==(b||"ASC").toUpperCase()?-1:1,d=this.fields.get(a).sortType;return function(b,h){var l=d(b.data[a]),n=d(h.data[a]);return c*(l>n?1:l<n?-1:0)}},setDefaultSort:function(a,b){b=b?b.toUpperCase():
"ASC";this.sortInfo={field:a,direction:b};this.sortToggle[a]=b},sort:function(a,b){return Ext.isArray(a)?this.multiSort.call(this,a,b):this.singleSort(a,b)},singleSort:function(a,b){var c=this.fields.get(a);if(!c)return!1;var d=c.name,g=this.sortInfo||null,h=this.sortToggle?this.sortToggle[d]:null;b||(b=g&&g.field==d?(this.sortToggle[d]||"ASC").toggle("ASC","DESC"):c.sortDir);this.sortToggle[d]=b;this.sortInfo={field:d,direction:b};this.hasMultiSort=!1;this.remoteSort?this.load(this.lastOptions)||
(h&&(this.sortToggle[d]=h),g&&(this.sortInfo=g)):(this.applySort(),this.fireEvent("datachanged",this))},multiSort:function(a,b){this.hasMultiSort=!0;b=b||"ASC";this.multiSortInfo&&b==this.multiSortInfo.direction&&(b=b.toggle("ASC","DESC"));this.multiSortInfo={sorters:a,direction:b};this.remoteSort?this.singleSort(a[0].field,a[0].direction):(this.applySort(),this.fireEvent("datachanged",this))},each:function(a,b){this.data.each(a,b)},getModifiedRecords:function(){return this.modified},sum:function(a,
b,c){for(var d=this.data.items,g=0,c=c||0===c?c:d.length-1,b=b||0;b<=c;b++)g+=d[b].data[a]||0;return g},createFilterFn:function(a,b,c,d,g){if(Ext.isEmpty(b,!1))return!1;b=this.data.createValueMatcher(b,c,d,g);return function(c){return b.test(c.data[a])}},createMultipleFilterFn:function(a){return function(b){for(var c=!0,d=0,g=a.length;d<g;d++)var h=a[d],l=h.fn,h=h.scope,c=c&&l.call(h,b);return c}},filter:function(a,b,c,d,g){Ext.isObject(a)&&(a=[a]);if(Ext.isArray(a)){b=[];c=0;for(d=a.length;c<d;c++){var g=
a[c],h=g.fn,l=g.scope||this;Ext.isFunction(h)||(h=this.createFilterFn(g.property,g.value,g.anyMatch,g.caseSensitive,g.exactMatch));b.push({fn:h,scope:l})}a=this.createMultipleFilterFn(b)}else a=this.createFilterFn(a,b,c,d,g);return a?this.filterBy(a):this.clearFilter()},filterBy:function(a,b){this.snapshot=this.snapshot||this.data;this.data=this.queryBy(a,b||this);this.fireEvent("datachanged",this)},clearFilter:function(a){this.isFiltered()&&(this.data=this.snapshot,delete this.snapshot,!0!==a&&this.fireEvent("datachanged",
this))},isFiltered:function(){return!!this.snapshot&&this.snapshot!=this.data},query:function(a,b,c,d){return(a=this.createFilterFn(a,b,c,d))?this.queryBy(a):this.data.clone()},queryBy:function(a,b){return(this.snapshot||this.data).filterBy(a,b||this)},find:function(a,b,c,d,g){return(a=this.createFilterFn(a,b,d,g))?this.data.findIndexBy(a,null,c):-1},findExact:function(a,b,c){return this.data.findIndexBy(function(c){return c.get(a)===b},this,c)},findBy:function(a,b,c){return this.data.findIndexBy(a,
b,c)},collect:function(a,b,c){for(var c=!0===c&&this.snapshot?this.snapshot.items:this.data.items,d,g,h=[],l={},n=0,q=c.length;n<q;n++)if(d=c[n].data[a],g=String(d),(b||!Ext.isEmpty(d))&&!l[g])l[g]=!0,h[h.length]=d;return h},afterEdit:function(a){-1==this.modified.indexOf(a)&&this.modified.push(a);this.fireEvent("update",this,a,Ext.data.Record.EDIT)},afterReject:function(a){this.modified.remove(a);this.fireEvent("update",this,a,Ext.data.Record.REJECT)},afterCommit:function(a){this.modified.remove(a);
this.fireEvent("update",this,a,Ext.data.Record.COMMIT)},commitChanges:function(){var a=this.modified.slice(0);this.modified=[];for(var b=0,c=a.length;b<c;b++)a[b].commit()},rejectChanges:function(){var a=this.modified.slice(0);this.modified=[];for(var b=0,c=a.length;b<c;b++)a[b].reject();a=this.removed.slice(0).reverse();this.removed=[];b=0;for(c=a.length;b<c;b++)this.insert(a[b].lastIndex||0,a[b]),a[b].reject()},onMetaChange:function(){this.recordType=this.reader.recordType;this.fields=this.recordType.prototype.fields;
delete this.snapshot;this.reader.meta.sortInfo?this.sortInfo=this.reader.meta.sortInfo:this.sortInfo&&!this.fields.get(this.sortInfo.field)&&delete this.sortInfo;this.writer&&(this.writer.meta=this.reader.meta);this.modified=[];this.fireEvent("metachange",this,this.reader.meta)},findInsertIndex:function(a){this.suspendEvents();var b=this.data.clone();this.data.add(a);this.applySort();a=this.data.indexOf(a);this.data=b;this.resumeEvents();return a},setBaseParam:function(a,b){this.baseParams=this.baseParams||
{};this.baseParams[a]=b}});Ext.reg("store",Ext.data.Store);Ext.data.Store.Error=Ext.extend(Ext.Error,{name:"Ext.data.Store"});Ext.apply(Ext.data.Store.Error.prototype,{lang:{"writer-undefined":"Attempted to execute a write-action without a DataWriter installed."}});
Ext.data.Field=Ext.extend(Object,{constructor:function(a){Ext.isString(a)&&(a={name:a});Ext.apply(this,a);var a=Ext.data.Types,b=this.sortType;this.type?Ext.isString(this.type)&&(this.type=Ext.data.Types[this.type.toUpperCase()]||a.AUTO):this.type=a.AUTO;Ext.isString(b)?this.sortType=Ext.data.SortTypes[b]:Ext.isEmpty(b)&&(this.sortType=this.type.sortType);this.convert||(this.convert=this.type.convert)},dateFormat:null,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0});
Ext.data.DataReader=function(a,b){this.meta=a;(this.recordType=Ext.isArray(b)?Ext.data.Record.create(b):b)&&this.buildExtractors()};
Ext.data.DataReader.prototype={getTotal:Ext.emptyFn,getRoot:Ext.emptyFn,getMessage:Ext.emptyFn,getSuccess:Ext.emptyFn,getId:Ext.emptyFn,buildExtractors:Ext.emptyFn,extractValues:Ext.emptyFn,realize:function(a,b){if(Ext.isArray(a))for(var c=a.length-1;0<=c;c--)Ext.isArray(b)?this.realize(a.splice(c,1).shift(),b.splice(c,1).shift()):this.realize(a.splice(c,1).shift(),b);else{Ext.isArray(b)&&1==b.length&&(b=b.shift());if(!this.isData(b))throw new Ext.data.DataReader.Error("realize",a);a.phantom=!1;a._phid=
a.id;a.id=this.getId(b);a.data=b;a.commit()}},update:function(a,b){if(Ext.isArray(a))for(var c=a.length-1;0<=c;c--)Ext.isArray(b)?this.update(a.splice(c,1).shift(),b.splice(c,1).shift()):this.update(a.splice(c,1).shift(),b);else Ext.isArray(b)&&1==b.length&&(b=b.shift()),this.isData(b)&&(a.data=Ext.apply(a.data,b)),a.commit()},extractData:function(a,b){var c=this instanceof Ext.data.JsonReader?"json":"node",d=[];this.isData(a)&&!(this instanceof Ext.data.XmlReader)&&(a=[a]);var d=this.recordType.prototype.fields,
g=d.items,h=d.length,d=[];if(!0===b)for(var l=this.recordType,n=0;n<a.length;n++){var q=a[n],r=new l(this.extractValues(q,g,h),this.getId(q));r[c]=q;d.push(r)}else for(n=0;n<a.length;n++)c=this.extractValues(a[n],g,h),c[this.meta.idProperty]=this.getId(a[n]),d.push(c);return d},isData:function(a){return a&&Ext.isObject(a)&&!Ext.isEmpty(this.getId(a))?!0:!1},onMetaChange:function(a){delete this.ef;this.meta=a;this.recordType=Ext.data.Record.create(a.fields);this.buildExtractors()}};
Ext.data.DataReader.Error=Ext.extend(Ext.Error,{constructor:function(a,b){this.arg=b;Ext.Error.call(this,a)},name:"Ext.data.DataReader"});Ext.apply(Ext.data.DataReader.Error.prototype,{lang:{update:"#update received invalid data from server.  Please see docs for DataReader#update and review your DataReader configuration.",realize:"#realize was called with invalid remote-data.  Please see the docs for DataReader#realize and review your DataReader configuration.","invalid-response":"#readResponse received an invalid response from the server."}});
Ext.data.DataWriter=function(a){Ext.apply(this,a)};
Ext.data.DataWriter.prototype={writeAllFields:!1,listful:!1,apply:function(a,b,c,d){var g=[],h=c+"Record";Ext.isArray(d)?Ext.each(d,function(a){g.push(this[h](a))},this):d instanceof Ext.data.Record&&(g=this[h](d));this.render(a,b,g)},render:Ext.emptyFn,updateRecord:Ext.emptyFn,createRecord:Ext.emptyFn,destroyRecord:Ext.emptyFn,toHash:function(a){var b=a.fields.map,c={},d=!1===this.writeAllFields&&!1===a.phantom?a.getChanges():a.data,g;Ext.iterate(d,function(a,d){if(g=b[a])c[g.mapping?g.mapping:g.name]=
d});a.phantom?a.fields.containsKey(this.meta.idProperty)&&Ext.isEmpty(a.data[this.meta.idProperty])&&delete c[this.meta.idProperty]:c[this.meta.idProperty]=a.id;return c},toArray:function(a){var b=[];Ext.iterate(a,function(a,d){b.push({name:a,value:d})},this);return b}};
Ext.data.DataProxy=function(a){a=a||{};this.api=a.api;this.url=a.url;this.restful=a.restful;this.listeners=a.listeners;this.prettyUrls=a.prettyUrls;this.addEvents("exception","beforeload","load","loadexception","beforewrite","write");Ext.data.DataProxy.superclass.constructor.call(this);try{Ext.data.Api.prepare(this)}catch(b){b instanceof Ext.data.Api.Error&&b.toConsole()}Ext.data.DataProxy.relayEvents(this,["beforewrite","write","exception"])};
Ext.extend(Ext.data.DataProxy,Ext.util.Observable,{restful:!1,setApi:function(){if(1==arguments.length){var a=Ext.data.Api.isValid(arguments[0]);if(!0===a)this.api=arguments[0];else throw new Ext.data.Api.Error("invalid",a);}else if(2==arguments.length){if(!Ext.data.Api.isAction(arguments[0]))throw new Ext.data.Api.Error("invalid",arguments[0]);this.api[arguments[0]]=arguments[1]}Ext.data.Api.prepare(this)},isApiAction:function(a){return this.api[a]?!0:!1},request:function(a,b,c,d,g,h,l){if(!this.api[a]&&
!this.load)throw new Ext.data.DataProxy.Error("action-undefined",a);c=c||{};(a===Ext.data.Api.actions.read?this.fireEvent("beforeload",this,c):!1!==this.fireEvent("beforewrite",this,a,b,c))?this.doRequest.apply(this,arguments):g.call(h||this,null,l,!1)},load:null,doRequest:function(a,b,c,d,g,h,l){this.load(c,d,g,h,l)},onRead:Ext.emptyFn,onWrite:Ext.emptyFn,buildUrl:function(a,b){var b=b||null,c=this.conn&&this.conn.url?this.conn.url:this.api[a]?this.api[a].url:this.url;if(!c)throw new Ext.data.Api.Error("invalid-url",
a);var d=null,g=c.match(/(.*)(\.json|\.xml|\.html)$/);g&&(d=g[2],c=g[1]);if((!0===this.restful||!0===this.prettyUrls)&&b instanceof Ext.data.Record&&!b.phantom)c+="/"+b.id;return null===d?c:c+d},destroy:function(){this.purgeListeners()}});Ext.apply(Ext.data.DataProxy,Ext.util.Observable.prototype);Ext.util.Observable.call(Ext.data.DataProxy);Ext.data.DataProxy.Error=Ext.extend(Ext.Error,{constructor:function(a,b){this.arg=b;Ext.Error.call(this,a)},name:"Ext.data.DataProxy"});
Ext.apply(Ext.data.DataProxy.Error.prototype,{lang:{"action-undefined":"DataProxy attempted to execute an API-action but found an undefined url / function.  Please review your Proxy url/api-configuration.","api-invalid":"Recieved an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions from Ext.data.Api.actions."}});Ext.data.Request=function(a){Ext.apply(this,a)};
Ext.data.Request.prototype={action:void 0,rs:void 0,params:void 0,callback:Ext.emptyFn,scope:void 0,reader:void 0};Ext.data.Response=function(a){Ext.apply(this,a)};Ext.data.Response.prototype={action:void 0,success:void 0,message:void 0,data:void 0,raw:void 0,records:void 0};Ext.data.ScriptTagProxy=function(a){Ext.apply(this,a);Ext.data.ScriptTagProxy.superclass.constructor.call(this,a);this.head=document.getElementsByTagName("head")[0]};Ext.data.ScriptTagProxy.TRANS_ID=1E3;
Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:3E4,callbackParam:"callback",nocache:!0,doRequest:function(a,b,c,d,g,h,l){var n=Ext.urlEncode(Ext.apply(c,this.extraParams)),q=this.buildUrl(a,b);if(!q)throw new Ext.data.Api.Error("invalid-url",q);q=Ext.urlAppend(q,n);this.nocache&&(q=Ext.urlAppend(q,"_dc="+(new Date).getTime()));n=++Ext.data.ScriptTagProxy.TRANS_ID;c={id:n,action:a,cb:"stcCallback"+n,scriptId:"stcScript"+n,params:c,arg:l,url:q,callback:g,scope:h,reader:d};window[c.cb]=
this.createCallback(a,b,c);q+=String.format("&{0}={1}",this.callbackParam,c.cb);!1!==this.autoAbort&&this.abort();c.timeoutId=this.handleFailure.defer(this.timeout,this,[c]);a=document.createElement("script");a.setAttribute("src",q);a.setAttribute("type","text/javascript");a.setAttribute("id",c.scriptId);this.head.appendChild(a);this.trans=c},createCallback:function(a,b,c){var d=this;return function(g){d.trans=!1;d.destroyTrans(c,!0);a===Ext.data.Api.actions.read?d.onRead.call(d,a,c,g):d.onWrite.call(d,
a,c,g,b)}},onRead:function(a,b,c){var d;try{d=b.reader.readRecords(c)}catch(g){this.fireEvent("loadexception",this,b,c,g);this.fireEvent("exception",this,"response",a,b,c,g);b.callback.call(b.scope||window,null,b.arg,!1);return}!1===d.success?(this.fireEvent("loadexception",this,b,c),this.fireEvent("exception",this,"remote",a,b,c,null)):this.fireEvent("load",this,c,b.arg);b.callback.call(b.scope||window,d,b.arg,d.success)},onWrite:function(a,b,c,d){var g=b.reader;try{var h=g.readResponse(a,c)}catch(l){this.fireEvent("exception",
this,"response",a,b,h,l);b.callback.call(b.scope||window,null,h,!1);return}!0===!h.success?(this.fireEvent("exception",this,"remote",a,b,h,d),b.callback.call(b.scope||window,null,h,!1)):(this.fireEvent("write",this,a,h.data,h,d,b.arg),b.callback.call(b.scope||window,h.data,h,!0))},isLoading:function(){return this.trans?!0:!1},abort:function(){this.isLoading()&&this.destroyTrans(this.trans)},destroyTrans:function(a,b){this.head.removeChild(document.getElementById(a.scriptId));clearTimeout(a.timeoutId);
if(b){window[a.cb]=void 0;try{delete window[a.cb]}catch(c){}}else window[a.cb]=function(){window[a.cb]=void 0;try{delete window[a.cb]}catch(b){}}},handleFailure:function(a){this.trans=!1;this.destroyTrans(a,!1);a.action===Ext.data.Api.actions.read&&this.fireEvent("loadexception",this,null,a.arg);this.fireEvent("exception",this,"response",a.action,{response:null,options:a.arg});a.callback.call(a.scope||window,null,a.arg,!1)},destroy:function(){this.abort();Ext.data.ScriptTagProxy.superclass.destroy.call(this)}});
Ext.data.HttpProxy=function(a){Ext.data.HttpProxy.superclass.constructor.call(this,a);this.conn=a;this.conn.url=null;this.useAjax=!a||!a.events;a=Ext.data.Api.actions;this.activeRequest={};for(var b in a)this.activeRequest[a[b]]=void 0};
Ext.extend(Ext.data.HttpProxy,Ext.data.DataProxy,{getConnection:function(){return this.useAjax?Ext.Ajax:this.conn},setUrl:function(a,b){this.conn.url=a;!0===b&&(this.url=a,this.api=null,Ext.data.Api.prepare(this))},doRequest:function(a,b,c,d,g,h,l){d={method:this.api[a]?this.api[a].method:void 0,request:{callback:g,scope:h,arg:l},reader:d,callback:this.createCallback(a,b),scope:this};c.jsonData?d.jsonData=c.jsonData:c.xmlData?d.xmlData=c.xmlData:d.params=c||{};this.conn.url=this.buildUrl(a,b);this.useAjax?
(Ext.applyIf(d,this.conn),this.activeRequest[a]=Ext.Ajax.request(d)):this.conn.request(d);this.conn.url=null},createCallback:function(a,b){return function(c,d,g){this.activeRequest[a]=void 0;if(d)if(a===Ext.data.Api.actions.read)this.onRead(a,c,g);else this.onWrite(a,c,g,b);else a===Ext.data.Api.actions.read&&this.fireEvent("loadexception",this,c,g),this.fireEvent("exception",this,"response",a,c,g),c.request.callback.call(c.request.scope,null,c.request.arg,!1)}},onRead:function(a,b,c){var d;try{d=
b.reader.read(c)}catch(g){this.fireEvent("loadexception",this,b,c,g);this.fireEvent("exception",this,"response",a,b,c,g);b.request.callback.call(b.request.scope,null,b.request.arg,!1);return}!1===d.success?(this.fireEvent("loadexception",this,b,c),c=b.reader.readResponse(a,c),this.fireEvent("exception",this,"remote",a,b,c,null)):this.fireEvent("load",this,b,b.request.arg);b.request.callback.call(b.request.scope,d,b.request.arg,d.success)},onWrite:function(a,b,c,d){var g=b.reader,h;try{h=g.readResponse(a,
c)}catch(l){this.fireEvent("exception",this,"response",a,b,c,l);b.request.callback.call(b.request.scope,null,b.request.arg,!1);return}!0===h.success?this.fireEvent("write",this,a,h.data,h,d,b.request.arg):this.fireEvent("exception",this,"remote",a,b,h,d);b.request.callback.call(b.request.scope,h.data,h,h.success)},destroy:function(){if(this.useAjax){if(this.activeRequest){var a=Ext.data.Api.actions,b;for(b in a)this.activeRequest[a[b]]&&Ext.Ajax.abort(this.activeRequest[a[b]])}}else this.conn.abort();
Ext.data.HttpProxy.superclass.destroy.call(this)}});Ext.data.MemoryProxy=function(a){var b={};b[Ext.data.Api.actions.read]=!0;Ext.data.MemoryProxy.superclass.constructor.call(this,{api:b});this.data=a};Ext.extend(Ext.data.MemoryProxy,Ext.data.DataProxy,{doRequest:function(a,b,c,d,g,h,l){var n;try{n=d.readRecords(this.data)}catch(q){this.fireEvent("loadexception",this,null,l,q);this.fireEvent("exception",this,"response",a,l,null,q);g.call(h,null,l,!1);return}g.call(h,n,l,!0)}});
Ext.data.Types=new function(){var a=Ext.data.SortTypes;Ext.apply(this,{stripRe:/[\$,%]/g,AUTO:{convert:function(a){return a},sortType:a.none,type:"auto"},STRING:{convert:function(a){return void 0===a||null===a?"":String(a)},sortType:a.asUCString,type:"string"},INT:{convert:function(a){return void 0!==a&&null!==a&&""!==a?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):0},sortType:a.none,type:"int"},FLOAT:{convert:function(a){return void 0!==a&&null!==a&&""!==a?parseFloat(String(a).replace(Ext.data.Types.stripRe,
""),10):0},sortType:a.none,type:"float"},BOOL:{convert:function(a){return!0===a||"true"===a||1==a},sortType:a.none,type:"bool"},DATE:{convert:function(a){var c=this.dateFormat;return!a?null:Ext.isDate(a)?a:c?"timestamp"==c?new Date(1E3*a):"time"==c?new Date(parseInt(a,10)):Date.parseDate(a,c):(a=Date.parse(a))?new Date(a):null},sortType:a.asDate,type:"date"}});Ext.apply(this,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})};
Ext.data.JsonWriter=Ext.extend(Ext.data.DataWriter,{encode:!0,encodeDelete:!1,constructor:function(a){Ext.data.JsonWriter.superclass.constructor.call(this,a)},render:function(a,b,c){!0===this.encode?(Ext.apply(a,b),a[this.meta.root]=Ext.encode(c)):(b=Ext.apply({},b),b[this.meta.root]=c,a.jsonData=b)},createRecord:function(a){return this.toHash(a)},updateRecord:function(a){return this.toHash(a)},destroyRecord:function(a){if(this.encodeDelete){var b={};b[this.meta.idProperty]=a.id;return b}return a.id}});
Ext.data.JsonReader=function(a,b){a=a||{};Ext.applyIf(a,{idProperty:"id",successProperty:"success",totalProperty:"total"});Ext.data.JsonReader.superclass.constructor.call(this,a,b||a.fields)};
Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(a){a=Ext.decode(a.responseText);if(!a)throw{message:"JsonReader.read: Json object not found"};return this.readRecords(a)},readResponse:function(a,b){var c=void 0!==b.responseText?Ext.decode(b.responseText):b;if(!c)throw new Ext.data.JsonReader.Error("response");var d=this.getRoot(c);if(a===Ext.data.Api.actions.create){var g=Ext.isDefined(d);if(g&&Ext.isEmpty(d))throw new Ext.data.JsonReader.Error("root-empty",this.meta.root);if(!g)throw new Ext.data.JsonReader.Error("root-undefined-response",
this.meta.root);}c=new Ext.data.Response({action:a,success:this.getSuccess(c),data:d?this.extractData(d,!1):[],message:this.getMessage(c),raw:c});if(Ext.isEmpty(c.success))throw new Ext.data.JsonReader.Error("successProperty-response",this.meta.successProperty);return c},readRecords:function(a){this.jsonData=a;if(a.metaData)this.onMetaChange(a.metaData);var b=this.meta,c,d=this.getRoot(a),g=d.length,h=!0;b.totalProperty&&(c=parseInt(this.getTotal(a),10),isNaN(c)||(g=c));if(b.successProperty&&(c=this.getSuccess(a),
!1===c||"false"===c))h=!1;return{success:h,records:this.extractData(d,!0),totalRecords:g}},buildExtractors:function(){if(!this.ef){var a=this.meta,b=this.recordType.prototype.fields,c=b.items,d=b.length;a.totalProperty&&(this.getTotal=this.createAccessor(a.totalProperty));a.successProperty&&(this.getSuccess=this.createAccessor(a.successProperty));a.messageProperty&&(this.getMessage=this.createAccessor(a.messageProperty));this.getRoot=a.root?this.createAccessor(a.root):function(a){return a};if(a.id||
a.idProperty){var g=this.createAccessor(a.id||a.idProperty);this.getId=function(a){a=g(a);return void 0===a||""===a?null:a}}else this.getId=function(){return null};for(var a=[],h=0;h<d;h++)b=c[h],a.push(this.createAccessor(void 0!==b.mapping&&null!==b.mapping?b.mapping:b.name));this.ef=a}},simpleAccess:function(a,b){return a[b]},createAccessor:function(){var a=/[\[\.]/;return function(b){if(Ext.isEmpty(b))return Ext.emptyFn;if(Ext.isFunction(b))return b;var c=String(b).search(a);return 0<=c?new Function("obj",
"return obj"+(0<c?".":"")+b):function(a){return a[b]}}}(),extractValues:function(a,b,c){for(var d,g={},h=0;h<c;h++){d=b[h];var l=this.ef[h](a);g[d.name]=d.convert(void 0!==l?l:d.defaultValue,a)}return g}});Ext.data.JsonReader.Error=Ext.extend(Ext.Error,{constructor:function(a,b){this.arg=b;Ext.Error.call(this,a)},name:"Ext.data.JsonReader"});
Ext.apply(Ext.data.JsonReader.Error.prototype,{lang:{response:"An error occurred while json-decoding your server response","successProperty-response":'Could not locate your "successProperty" in your server response.  Please review your JsonReader config to ensure the config-property "successProperty" matches the property in your server-response.  See the JsonReader docs.',"root-undefined-config":'Your JsonReader was configured without a "root" property.  Please review your JsonReader config and make sure to define the root property.  See the JsonReader docs.',
"idProperty-undefined":'Your JsonReader was configured without an "idProperty"  Please review your JsonReader configuration and ensure the "idProperty" is set (e.g.: "id").  See the JsonReader docs.',"root-empty":'Data was expected to be returned by the server in the "root" property of the response.  Please review your JsonReader configuration to ensure the "root" property matches that returned in the server-response.  See JsonReader docs.'}});
Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{readRecords:function(a){this.arrayData=a;for(var b=this.meta,c=b?Ext.num(b.idIndex,b.id):null,d=this.recordType,g=d.prototype.fields,h=[],l=!0,n,q=this.getRoot(a),r=0,s=q.length;r<s;r++){for(var p=q[r],v={},t=(c||0===c)&&void 0!==p[c]&&""!==p[c]?p[c]:null,A=0,w=g.length;A<w;A++){var C=g.items[A];n=void 0!==C.mapping&&null!==C.mapping?C.mapping:A;n=void 0!==p[n]?p[n]:C.defaultValue;n=C.convert(n,p);v[C.name]=n}n=new d(v,t);n.json=p;h[h.length]=n}c=
h.length;b.totalProperty&&(n=parseInt(this.getTotal(a),10),isNaN(n)||(c=n));if(b.successProperty&&(n=this.getSuccess(a),!1===n||"false"===n))l=!1;return{success:l,records:h,totalRecords:c}}});
Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.ArrayStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.ArrayReader(a)}))},loadData:function(a,b){if(!0===this.expandData){for(var c=[],d=0,g=a.length;d<g;d++)c[c.length]=[a[d]];a=c}Ext.data.ArrayStore.superclass.loadData.call(this,a,b)}});Ext.reg("arraystore",Ext.data.ArrayStore);Ext.data.SimpleStore=Ext.data.ArrayStore;Ext.reg("simplestore",Ext.data.SimpleStore);
Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.JsonStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.JsonReader(a)}))}});Ext.reg("jsonstore",Ext.data.JsonStore);Ext.data.XmlWriter=function(a){Ext.data.XmlWriter.superclass.constructor.apply(this,arguments);this.tpl="string"===typeof this.tpl?(new Ext.XTemplate(this.tpl)).compile():this.tpl.compile()};
Ext.extend(Ext.data.XmlWriter,Ext.data.DataWriter,{documentRoot:"xrequest",forceDocumentRoot:!1,root:"records",xmlVersion:"1.0",xmlEncoding:"ISO-8859-15",tpl:'<tpl for="."><?xml version="{version}" encoding="{encoding}"?><tpl if="documentRoot"><{documentRoot}><tpl for="baseParams"><tpl for="."><{name}>{value}</{name}</tpl></tpl></tpl><tpl if="records.length&gt;1"><{root}></tpl><tpl for="records"><{parent.record}><tpl for="."><{name}>{value}</{name}></tpl></{parent.record}></tpl><tpl if="records.length&gt;1"></{root}></tpl><tpl if="documentRoot"></{documentRoot}></tpl></tpl>',
render:function(a,b,c){b=this.toArray(b);a.xmlData=this.tpl.applyTemplate({version:this.xmlVersion,encoding:this.xmlEncoding,documentRoot:0<b.length||!0===this.forceDocumentRoot?this.documentRoot:!1,record:this.meta.record,root:this.root,baseParams:b,records:Ext.isArray(c[0])?c:[c]})},createRecord:function(a){return this.toArray(this.toHash(a))},updateRecord:function(a){return this.toArray(this.toHash(a))},destroyRecord:function(a){var b={};b[this.meta.idProperty]=a.id;return this.toArray(b)}});
Ext.data.XmlReader=function(a,b){a=a||{};Ext.applyIf(a,{idProperty:a.idProperty||a.idPath||a.id,successProperty:a.successProperty||a.success});Ext.data.XmlReader.superclass.constructor.call(this,a,b||a.fields)};
Ext.extend(Ext.data.XmlReader,Ext.data.DataReader,{read:function(a){a=a.responseXML;if(!a)throw{message:"XmlReader.read: XML Document not available"};return this.readRecords(a)},readRecords:function(a){this.xmlData=a;var b=a.documentElement||a,c=Ext.DomQuery,a=0,d=!0;this.meta.totalProperty&&(a=this.getTotal(b,0));this.meta.successProperty&&(d=this.getSuccess(b));b=this.extractData(c.select(this.meta.record,b),!0);return{success:d,records:b,totalRecords:a||b.length}},readResponse:function(a,b){var c=
Ext.DomQuery,d=b.responseXML,c=new Ext.data.Response({action:a,success:this.getSuccess(d),message:this.getMessage(d),data:this.extractData(c.select(this.meta.record,d)||c.select(this.meta.root,d),!1),raw:d});if(Ext.isEmpty(c.success))throw new Ext.data.DataReader.Error("successProperty-response",this.meta.successProperty);if(a===Ext.data.Api.actions.create){if((d=Ext.isDefined(c.data))&&Ext.isEmpty(c.data))throw new Ext.data.JsonReader.Error("root-empty",this.meta.root);if(!d)throw new Ext.data.JsonReader.Error("root-undefined-response",
this.meta.root);}return c},getSuccess:function(){return!0},buildExtractors:function(){if(!this.ef){var a=this.meta,b=this.recordType.prototype.fields,c=b.items,d=b.length;a.totalProperty&&(this.getTotal=this.createAccessor(a.totalProperty));a.successProperty&&(this.getSuccess=this.createAccessor(a.successProperty));a.messageProperty&&(this.getMessage=this.createAccessor(a.messageProperty));this.getRoot=function(a){return!Ext.isEmpty(a[this.meta.record])?a[this.meta.record]:a[this.meta.root]};if(a.idPath||
a.idProperty){var g=this.createAccessor(a.idPath||a.idProperty);this.getId=function(a){a=g(a)||a.id;return void 0===a||""===a?null:a}}else this.getId=function(){return null};for(var a=[],h=0;h<d;h++)b=c[h],a.push(this.createAccessor(void 0!==b.mapping&&null!==b.mapping?b.mapping:b.name));this.ef=a}},createAccessor:function(){var a=Ext.DomQuery;return function(b){switch(b){case this.meta.totalProperty:return function(c,d){return a.selectNumber(b,c,d)};case this.meta.successProperty:return function(c){c=
a.selectValue(b,c,!0);return!1!==c&&"false"!==c};default:return function(c,d){return a.selectValue(b,c,d)}}}}(),extractValues:function(a,b,c){for(var d,g={},h=0;h<c;h++){d=b[h];var l=this.ef[h](a);g[d.name]=d.convert(void 0!==l?l:d.defaultValue,a)}return g}});Ext.data.XmlStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.XmlStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.XmlReader(a)}))}});Ext.reg("xmlstore",Ext.data.XmlStore);
Ext.data.GroupingStore=Ext.extend(Ext.data.Store,{constructor:function(a){a=a||{};this.hasMultiSort=!0;this.multiSortInfo=this.multiSortInfo||{sorters:[]};var b=this.multiSortInfo.sorters,c=a.groupField||this.groupField,d=a.sortInfo||this.sortInfo,g=a.groupDir||this.groupDir;c&&b.push({field:c,direction:g});d&&b.push(d);Ext.data.GroupingStore.superclass.constructor.call(this,a);this.addEvents("groupchange");this.applyGroupField()},remoteGroup:!1,groupOnSort:!1,groupDir:"ASC",clearGrouping:function(){this.groupField=
!1;if(this.remoteGroup){this.baseParams&&(delete this.baseParams.groupBy,delete this.baseParams.groupDir);var a=this.lastOptions;a&&a.params&&(delete a.params.groupBy,delete a.params.groupDir);this.reload()}else this.sort(),this.fireEvent("datachanged",this)},groupBy:function(a,b,c){c=c?"DESC"==String(c).toUpperCase()?"DESC":"ASC":this.groupDir;this.groupField==a&&this.groupDir==c&&!b||(sorters=this.multiSortInfo.sorters,0<sorters.length&&sorters[0].field==this.groupField&&sorters.shift(),this.groupField=
a,this.groupDir=c,this.applyGroupField(),b=function(){this.fireEvent("groupchange",this,this.getGroupState())},this.groupOnSort?(this.sort(a,c),b.call(this)):this.remoteGroup?(this.on("load",b,this,{single:!0}),this.reload()):(this.sort(sorters),b.call(this)))},sort:function(a,b){if(this.remoteSort)return Ext.data.GroupingStore.superclass.sort.call(this,a,b);var c=[];if(Ext.isArray(a))c=a;else if(void 0==a)c=this.sortInfo?[this.sortInfo]:[];else{c=this.fields.get(a);if(!c)return!1;var d=c.name,g=
this.sortInfo||null;b||(b=g&&g.field==d?(this.sortToggle[d]||"ASC").toggle("ASC","DESC"):c.sortDir);this.sortToggle[d]=b;this.sortInfo={field:d,direction:b};c=[this.sortInfo]}this.groupField&&c.unshift({direction:this.groupDir,field:this.groupField});return this.multiSort.call(this,c,b)},applyGroupField:function(){if(this.remoteGroup){this.baseParams||(this.baseParams={});Ext.apply(this.baseParams,{groupBy:this.groupField,groupDir:this.groupDir});var a=this.lastOptions;a&&a.params&&(a.params.groupDir=
this.groupDir,delete a.params.groupBy)}},applyGrouping:function(a){if(!1!==this.groupField)return this.groupBy(this.groupField,!0,this.groupDir),!0;!0===a&&this.fireEvent("datachanged",this);return!1},getGroupState:function(){return this.groupOnSort&&!1!==this.groupField?this.sortInfo?this.sortInfo.field:void 0:this.groupField}});Ext.reg("groupingstore",Ext.data.GroupingStore);
Ext.data.DirectProxy=function(a){Ext.apply(this,a);"string"==typeof this.paramOrder&&(this.paramOrder=this.paramOrder.split(/[\s,|]/));Ext.data.DirectProxy.superclass.constructor.call(this,a)};
Ext.extend(Ext.data.DirectProxy,Ext.data.DataProxy,{paramOrder:void 0,paramsAsHash:!0,directFn:void 0,doRequest:function(a,b,c,d,g,h,l){var n=[],q=this.api[a]||this.directFn;switch(a){case Ext.data.Api.actions.create:n.push(c.jsonData);break;case Ext.data.Api.actions.read:if(0<q.directCfg.method.len)if(this.paramOrder)for(var r=0,s=this.paramOrder.length;r<s;r++)n.push(c[this.paramOrder[r]]);else this.paramsAsHash&&n.push(c);break;case Ext.data.Api.actions.update:n.push(c.jsonData);break;case Ext.data.Api.actions.destroy:n.push(c.jsonData)}n.push(this.createCallback(a,
b,{params:c||{},request:{callback:g,scope:h,arg:l},reader:d}),this);q.apply(window,n)},createCallback:function(a,b,c){var d=this;return function(g,h){if(h.status)if(a===Ext.data.Api.actions.read)d.onRead(a,c,g,h);else d.onWrite(a,c,g,h,b);else a===Ext.data.Api.actions.read&&d.fireEvent("loadexception",d,c,h,null),d.fireEvent("exception",d,"remote",a,c,h,null),c.request.callback.call(c.request.scope,null,c.request.arg,!1)}},onRead:function(a,b,c,d){var g;try{g=b.reader.readRecords(c)}catch(h){this.fireEvent("loadexception",
this,b,d,h);this.fireEvent("exception",this,"response",a,b,d,h);b.request.callback.call(b.request.scope,null,b.request.arg,!1);return}this.fireEvent("load",this,d,b.request.arg);b.request.callback.call(b.request.scope,g,b.request.arg,!0)},onWrite:function(a,b,c,d,g){var h=b.reader.extractData(b.reader.getRoot(c),!1),l=b.reader.getSuccess(c);(l=!1!==l)?this.fireEvent("write",this,a,h,d,g,b.request.arg):this.fireEvent("exception",this,"remote",a,b,c,g);b.request.callback.call(b.request.scope,h,d,l)}});
Ext.data.DirectStore=Ext.extend(Ext.data.Store,{constructor:function(a){a=Ext.apply({},{batchTransactions:!1},a);Ext.data.DirectStore.superclass.constructor.call(this,Ext.apply(a,{proxy:Ext.isDefined(a.proxy)?a.proxy:new Ext.data.DirectProxy(Ext.copyTo({},a,"paramOrder,paramsAsHash,directFn,api")),reader:!Ext.isDefined(a.reader)&&a.fields?new Ext.data.JsonReader(Ext.copyTo({},a,"totalProperty,root,idProperty"),a.fields):a.reader}))}});Ext.reg("directstore",Ext.data.DirectStore);
Ext.Direct=Ext.extend(Ext.util.Observable,{exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){this.addEvents("event","exception");this.transactions={};this.providers={}},addProvider:function(a){var b=arguments;if(1<b.length)for(var c=0,d=b.length;c<d;c++)this.addProvider(b[c]);else return a.events||(a=new Ext.Direct.PROVIDERS[a.type](a)),a.id=a.id||Ext.id(),this.providers[a.id]=a,a.on("data",this.onProviderData,this),a.on("exception",this.onProviderException,
this),a.isConnected()||a.connect(),a},getProvider:function(a){return this.providers[a]},removeProvider:function(a){a=a.id?a:this.providers[a];a.un("data",this.onProviderData,this);a.un("exception",this.onProviderException,this);delete this.providers[a.id];return a},addTransaction:function(a){return this.transactions[a.tid]=a},removeTransaction:function(a){delete this.transactions[a.tid||a];return a},getTransaction:function(a){return this.transactions[a.tid||a]},onProviderData:function(a,b){if(Ext.isArray(b))for(var c=
0,d=b.length;c<d;c++)this.onProviderData(a,b[c]);else b.name&&"event"!=b.name&&"exception"!=b.name?this.fireEvent(b.name,b):"exception"==b.type&&this.fireEvent("exception",b),this.fireEvent("event",b,a)},createEvent:function(a,b){return new Ext.Direct.eventTypes[a.type](Ext.apply(a,b))}});Ext.Direct=new Ext.Direct;Ext.Direct.TID=1;Ext.Direct.PROVIDERS={};Ext.Direct.Transaction=function(a){Ext.apply(this,a);this.tid=++Ext.Direct.TID;this.retryCount=0};
Ext.Direct.Transaction.prototype={send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++;this.send()},getProvider:function(){return this.provider}};Ext.Direct.Event=function(a){Ext.apply(this,a)};Ext.Direct.Event.prototype={status:!0,getData:function(){return this.data}};Ext.Direct.RemotingEvent=Ext.extend(Ext.Direct.Event,{type:"rpc",getTransaction:function(){return this.transaction||Ext.Direct.getTransaction(this.tid)}});
Ext.Direct.ExceptionEvent=Ext.extend(Ext.Direct.RemotingEvent,{status:!1,type:"exception"});Ext.Direct.eventTypes={rpc:Ext.Direct.RemotingEvent,event:Ext.Direct.Event,exception:Ext.Direct.ExceptionEvent};Ext.direct.Provider=Ext.extend(Ext.util.Observable,{priority:1,constructor:function(a){Ext.apply(this,a);this.addEvents("connect","disconnect","data","exception");Ext.direct.Provider.superclass.constructor.call(this,a)},isConnected:function(){return!1},connect:Ext.emptyFn,disconnect:Ext.emptyFn});
Ext.direct.JsonProvider=Ext.extend(Ext.direct.Provider,{parseResponse:function(a){return!Ext.isEmpty(a.responseText)?"object"==typeof a.responseText?a.responseText:Ext.decode(a.responseText):null},getEvents:function(a){var b=null;try{b=this.parseResponse(a)}catch(c){return[new Ext.Direct.ExceptionEvent({data:c,xhr:a,code:Ext.Direct.exceptions.PARSE,message:"Error parsing json response: \n\n "+b})]}a=[];if(Ext.isArray(b))for(var d=0,g=b.length;d<g;d++)a.push(Ext.Direct.createEvent(b[d]));else a.push(Ext.Direct.createEvent(b));
return a}});
Ext.direct.PollingProvider=Ext.extend(Ext.direct.JsonProvider,{priority:3,interval:3E3,constructor:function(a){Ext.direct.PollingProvider.superclass.constructor.call(this,a);this.addEvents("beforepoll","poll")},isConnected:function(){return!!this.pollTask},connect:function(){if(this.url&&!this.pollTask)this.pollTask=Ext.TaskMgr.start({run:function(){!1!==this.fireEvent("beforepoll",this)&&("function"==typeof this.url?this.url(this.baseParams):Ext.Ajax.request({url:this.url,callback:this.onData,scope:this,
params:this.baseParams}))},interval:this.interval,scope:this}),this.fireEvent("connect",this);else if(!this.url)throw"Error initializing PollingProvider, no url configured.";},disconnect:function(){this.pollTask&&(Ext.TaskMgr.stop(this.pollTask),delete this.pollTask,this.fireEvent("disconnect",this))},onData:function(a,b,c){if(b){a=this.getEvents(c);b=0;for(c=a.length;b<c;b++){var d=a[b];this.fireEvent("data",this,d)}}else d=new Ext.Direct.ExceptionEvent({data:d,code:Ext.Direct.exceptions.TRANSPORT,
message:"Unable to connect to the server.",xhr:c}),this.fireEvent("data",this,d)}});Ext.Direct.PROVIDERS.polling=Ext.direct.PollingProvider;
Ext.direct.RemotingProvider=Ext.extend(Ext.direct.JsonProvider,{enableBuffer:10,maxRetries:1,timeout:void 0,constructor:function(a){Ext.direct.RemotingProvider.superclass.constructor.call(this,a);this.addEvents("beforecall","call");this.namespace=Ext.isString(this.namespace)?Ext.ns(this.namespace):this.namespace||window;this.transactions={};this.callBuffer=[]},initAPI:function(){var a=this.actions,b;for(b in a)for(var c=this.namespace[b]||(this.namespace[b]={}),d=a[b],g=0,h=d.length;g<h;g++){var l=
d[g];c[l.name]=this.createMethod(b,l)}},isConnected:function(){return!!this.connected},connect:function(){if(this.url)this.initAPI(),this.connected=!0,this.fireEvent("connect",this);else if(!this.url)throw"Error initializing RemotingProvider, no url configured.";},disconnect:function(){this.connected&&(this.connected=!1,this.fireEvent("disconnect",this))},onData:function(a,b,c){if(b){c=this.getEvents(c);a=0;for(b=c.length;a<b;a++){var d=c[a],g=this.getTransaction(d);this.fireEvent("data",this,d);
g&&(this.doCallback(g,d,!0),Ext.Direct.removeTransaction(g))}}else for(var h=[].concat(a.ts),a=0,b=h.length;a<b;a++)(g=this.getTransaction(h[a]))&&g.retryCount<this.maxRetries?g.retry():(d=new Ext.Direct.ExceptionEvent({data:d,transaction:g,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:c}),this.fireEvent("data",this,d),g&&(this.doCallback(g,d,!1),Ext.Direct.removeTransaction(g)))},getCallData:function(a){return{action:a.action,method:a.method,data:a.data,type:"rpc",
tid:a.tid}},doSend:function(a){var b={url:this.url,callback:this.onData,scope:this,ts:a,timeout:this.timeout},c;if(Ext.isArray(a)){c=[];for(var d=0,g=a.length;d<g;d++)c.push(this.getCallData(a[d]))}else c=this.getCallData(a);this.enableUrlEncode?(a={},a[Ext.isString(this.enableUrlEncode)?this.enableUrlEncode:"data"]=Ext.encode(c),b.params=a):b.jsonData=c;Ext.Ajax.request(b)},combineAndSend:function(){var a=this.callBuffer.length;0<a&&(this.doSend(1==a?this.callBuffer[0]:this.callBuffer),this.callBuffer=
[])},queueTransaction:function(a){a.form?this.processForm(a):(this.callBuffer.push(a),this.enableBuffer?(this.callTask||(this.callTask=new Ext.util.DelayedTask(this.combineAndSend,this)),this.callTask.delay(Ext.isNumber(this.enableBuffer)?this.enableBuffer:10)):this.combineAndSend())},doCall:function(a,b,c){var d=null,g=c[b.len],h=c[b.len+1];0!==b.len&&(d=c.slice(0,b.len));a=new Ext.Direct.Transaction({provider:this,args:c,action:a,method:b.name,data:d,cb:h&&Ext.isFunction(g)?g.createDelegate(h):
g});!1!==this.fireEvent("beforecall",this,a)&&(Ext.Direct.addTransaction(a),this.queueTransaction(a),this.fireEvent("call",this,a))},doForm:function(a,b,c,d,g){g=new Ext.Direct.Transaction({provider:this,action:a,method:b.name,args:[c,d,g],cb:g&&Ext.isFunction(d)?d.createDelegate(g):d,isForm:!0});if(!1!==this.fireEvent("beforecall",this,g)){Ext.Direct.addTransaction(g);var h="multipart/form-data"==String(c.getAttribute("enctype")).toLowerCase(),a={extTID:g.tid,extAction:a,extMethod:b.name,extType:"rpc",
extUpload:String(h)};Ext.apply(g,{form:Ext.getDom(c),isUpload:h,params:d&&Ext.isObject(d.params)?Ext.apply(a,d.params):a});this.fireEvent("call",this,g);this.processForm(g)}},processForm:function(a){Ext.Ajax.request({url:this.url,params:a.params,callback:this.onData,scope:this,form:a.form,isUpload:a.isUpload,ts:a})},createMethod:function(a,b){var c;c=b.formHandler?function(c,g,h){this.doForm(a,b,c,g,h)}.createDelegate(this):function(){this.doCall(a,b,Array.prototype.slice.call(arguments,0))}.createDelegate(this);
c.directCfg={action:a,method:b};return c},getTransaction:function(a){return a&&a.tid?Ext.Direct.getTransaction(a.tid):null},doCallback:function(a,b){var c=b.status?"success":"failure";if(a&&a.cb){var d=a.cb,g=Ext.isDefined(b.result)?b.result:b.data;Ext.isFunction(d)?d(g,b):(Ext.callback(d[c],d.scope,[g,b]),Ext.callback(d.callback,d.scope,[g,b]))}}});Ext.Direct.PROVIDERS.remoting=Ext.direct.RemotingProvider;
Ext.Resizable=Ext.extend(Ext.util.Observable,{constructor:function(a,b){this.el=Ext.get(a);if(b&&b.wrap){b.resizeChild=this.el;this.el=this.el.wrap("object"==typeof b.wrap?b.wrap:{cls:"xresizable-wrap"});this.el.id=this.el.dom.id=b.resizeChild.id+"-rzwrap";this.el.setStyle("overflow","hidden");this.el.setPositioning(b.resizeChild.getPositioning());b.resizeChild.clearPositioning();if(!b.width||!b.height){var c=b.resizeChild.getSize();this.el.setSize(c.width,c.height)}b.pinned&&!b.adjustments&&(b.adjustments=
"auto")}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"},Ext.getBody());this.proxy.unselectable();this.proxy.enableDisplayMode("block");Ext.apply(this,b);this.pinned&&(this.disableTrackOver=!0,this.el.addClass("x-resizable-pinned"));c=this.el.getStyle("position");"absolute"!=c&&"fixed"!=c&&this.el.setStyle("position","relative");this.handles||(this.handles="s,e,se",this.multiDirectional&&(this.handles+=",n,w"));"all"==this.handles&&(this.handles="n s e w ne nw se sw");
for(var c=this.handles.split(/\s*?[,;]\s*?| /),d=Ext.Resizable.positions,g=0,h=c.length;g<h;g++)if(c[g]&&d[c[g]]){var l=d[c[g]];this[l]=new Ext.Resizable.Handle(this,l,this.disableTrackOver,this.transparent,this.handleCls)}this.corner=this.southeast;if(-1!=this.handles.indexOf("n")||-1!=this.handles.indexOf("w"))this.updateBox=!0;this.activeHandle=null;this.resizeChild&&(this.resizeChild="boolean"==typeof this.resizeChild?Ext.get(this.el.dom.firstChild,!0):Ext.get(this.resizeChild,!0));if("auto"==
this.adjustments){d=this.resizeChild;g=this.west;h=this.east;l=this.north;c=this.south;if(d&&(g||l))d.position("relative"),d.setLeft(g?g.el.getWidth():0),d.setTop(l?l.el.getHeight():0);this.adjustments=[(h?-h.el.getWidth():0)+(g?-g.el.getWidth():0),(l?-l.el.getHeight():0)+(c?-c.el.getHeight():0)-1]}this.draggable&&(this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id}),this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id),this.constrainTo&&this.dd.constrainTo(this.constrainTo));
this.addEvents("beforeresize","resize");null!==this.width&&null!==this.height?this.resizeTo(this.width,this.height):this.updateChildSize();Ext.isIE&&(this.el.dom.style.zoom=1);Ext.Resizable.superclass.constructor.call(this)},adjustments:[0,0],animate:!1,disableTrackOver:!1,draggable:!1,duration:0.35,dynamic:!1,easing:"easeOutStrong",enabled:!0,handles:!1,multiDirectional:!1,height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:5,minWidth:5,maxHeight:1E4,maxWidth:1E4,minX:0,minY:0,pinned:!1,
preserveRatio:!1,resizeChild:!1,transparent:!1,resizeTo:function(a,b){this.el.setSize(a,b);this.updateChildSize();this.fireEvent("resize",this,a,b,null)},startSizing:function(a,b){this.fireEvent("beforeresize",this,a);if(this.enabled){this.overlay||(this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"},Ext.getBody()),this.overlay.unselectable(),this.overlay.enableDisplayMode("block"),this.overlay.on({scope:this,mousemove:this.onMouseMove,mouseup:this.onMouseUp}));this.overlay.setStyle("cursor",
b.el.getStyle("cursor"));this.resizing=!0;this.startBox=this.el.getBox();this.startPoint=a.getXY();this.offsets=[this.startBox.x+this.startBox.width-this.startPoint[0],this.startBox.y+this.startBox.height-this.startPoint[1]];this.overlay.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0));this.overlay.show();if(this.constrainTo){var c=Ext.get(this.constrainTo);this.resizeRegion=c.getRegion().adjust(c.getFrameWidth("t"),c.getFrameWidth("l"),-c.getFrameWidth("b"),-c.getFrameWidth("r"))}this.proxy.setStyle("visibility",
"hidden");this.proxy.show();this.proxy.setBox(this.startBox);this.dynamic||this.proxy.setStyle("visibility","visible")}},onMouseDown:function(a,b){this.enabled&&(b.stopEvent(),this.activeHandle=a,this.startSizing(b,a))},onMouseUp:function(a){this.activeHandle=null;var b=this.resizeElement();this.resizing=!1;this.handleOut();this.overlay.hide();this.proxy.hide();this.fireEvent("resize",this,b.width,b.height,a)},updateChildSize:function(){if(this.resizeChild){var a=this.el,b=this.resizeChild,c=this.adjustments;
if(a.dom.offsetWidth){var d=a.getSize(!0);b.setSize(d.width+c[0],d.height+c[1])}Ext.isIE&&setTimeout(function(){if(a.dom.offsetWidth){var d=a.getSize(!0);b.setSize(d.width+c[0],d.height+c[1])}},10)}},snap:function(a,b,c){if(!b||!a)return a;var d=a,g=a%b;0<g&&(d=g>b/2?a+(b-g):a-g);return Math.max(c,d)},resizeElement:function(){var a=this.proxy.getBox();this.updateBox?this.el.setBox(a,!1,this.animate,this.duration,null,this.easing):this.el.setSize(a.width,a.height,this.animate,this.duration,null,this.easing);
this.updateChildSize();this.dynamic||this.proxy.hide();this.draggable&&this.constrainTo&&(this.dd.resetConstraints(),this.dd.constrainTo(this.constrainTo));return a},constrain:function(a,b,c,d){a-b<c?b=a-c:a-b>d&&(b=a-d);return b},onMouseMove:function(a){if(this.enabled&&this.activeHandle)try{if(!this.resizeRegion||this.resizeRegion.contains(a.getPoint())){var b=this.curSize||this.startBox,c=this.startBox.x,d=this.startBox.y,g=b.width,h=b.height,b=g,l=h,n=this.minWidth,q=this.minHeight,r=this.maxWidth,
s=this.maxHeight,p=this.widthIncrement,v=this.heightIncrement,t=a.getXY(),A=-(this.startPoint[0]-Math.max(this.minX,t[0])),w=-(this.startPoint[1]-Math.max(this.minY,t[1])),C=this.activeHandle.position,z,D;switch(C){case "east":g+=A;g=Math.min(Math.max(n,g),r);break;case "south":h+=w;h=Math.min(Math.max(q,h),s);break;case "southeast":g+=A;h+=w;g=Math.min(Math.max(n,g),r);h=Math.min(Math.max(q,h),s);break;case "north":w=this.constrain(h,w,q,s);d+=w;h-=w;break;case "west":A=this.constrain(g,A,n,r);c+=
A;g-=A;break;case "northeast":g+=A;g=Math.min(Math.max(n,g),r);w=this.constrain(h,w,q,s);d+=w;h-=w;break;case "northwest":A=this.constrain(g,A,n,r);w=this.constrain(h,w,q,s);d+=w;h-=w;c+=A;g-=A;break;case "southwest":A=this.constrain(g,A,n,r),h+=w,h=Math.min(Math.max(q,h),s),c+=A,g-=A}var G=this.snap(g,p,n),E=this.snap(h,v,q);if(G!=g||E!=h){switch(C){case "northeast":d-=E-h;break;case "north":d-=E-h;break;case "southwest":c-=G-g;break;case "west":c-=G-g;break;case "northwest":c-=G-g,d-=E-h}g=G;h=
E}if(this.preserveRatio)switch(C){case "southeast":case "east":h=l*(g/b);h=Math.min(Math.max(q,h),s);g=b*(h/l);break;case "south":g=b*(h/l);g=Math.min(Math.max(n,g),r);h=l*(g/b);break;case "northeast":g=b*(h/l);g=Math.min(Math.max(n,g),r);h=l*(g/b);break;case "north":z=g;g=b*(h/l);g=Math.min(Math.max(n,g),r);h=l*(g/b);c+=(z-g)/2;break;case "southwest":h=l*(g/b);h=Math.min(Math.max(q,h),s);z=g;g=b*(h/l);c+=z-g;break;case "west":D=h;h=l*(g/b);h=Math.min(Math.max(q,h),s);d+=(D-h)/2;z=g;g=b*(h/l);c+=
z-g;break;case "northwest":z=g,D=h,h=l*(g/b),h=Math.min(Math.max(q,h),s),g=b*(h/l),d+=D-h,c+=z-g}this.proxy.setBounds(c,d,g,h);this.dynamic&&this.resizeElement()}}catch(F){}},handleOver:function(){this.enabled&&this.el.addClass("x-resizable-over")},handleOut:function(){this.resizing||this.el.removeClass("x-resizable-over")},getEl:function(){return this.el},getResizeChild:function(){return this.resizeChild},destroy:function(a){Ext.destroy(this.dd,this.overlay,this.proxy);this.proxy=this.overlay=null;
var b=Ext.Resizable.positions,c;for(c in b)"function"!=typeof b[c]&&this[b[c]]&&this[b[c]].destroy();a&&(this.el.update(""),Ext.destroy(this.el),this.el=null);this.purgeListeners()},syncHandleHeight:function(){var a=this.el.getHeight(!0);this.west&&this.west.el.setHeight(a);this.east&&this.east.el.setHeight(a)}});Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"};
Ext.Resizable.Handle=Ext.extend(Object,{constructor:function(a,b,c,d,g){if(!this.tpl){var h=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});h.compile();Ext.Resizable.Handle.prototype.tpl=h}this.position=b;this.rz=a;this.el=this.tpl.append(a.el.dom,[this.position],!0);this.el.unselectable();d&&this.el.setOpacity(0);Ext.isEmpty(g)||this.el.addClass(g);this.el.on("mousedown",this.onMouseDown,this);if(!c)this.el.on({scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut})},
afterResize:function(){},onMouseDown:function(a){this.rz.onMouseDown(this,a)},onMouseOver:function(a){this.rz.handleOver(this,a)},onMouseOut:function(a){this.rz.handleOut(this,a)},destroy:function(){Ext.destroy(this.el);this.el=null}});
Ext.Window=Ext.extend(Ext.Panel,{baseCls:"x-window",resizable:!0,draggable:!0,closable:!0,closeAction:"close",constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:100,minWidth:200,expandOnShow:!0,collapsible:!1,initHidden:void 0,hidden:!0,elements:"header,body",frame:!0,floating:!0,initComponent:function(){this.initTools();Ext.Window.superclass.initComponent.call(this);this.addEvents("resize","maximize","minimize","restore");Ext.isDefined(this.initHidden)&&(this.hidden=
this.initHidden);!1===this.hidden&&(this.hidden=!0,this.show())},getState:function(){return Ext.apply(Ext.Window.superclass.getState.call(this)||{},this.getBox(!0))},onRender:function(a,b){Ext.Window.superclass.onRender.call(this,a,b);this.plain&&this.el.addClass("x-window-plain");this.focusEl=this.el.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1",html:"&#160;"});this.focusEl.swallowEvent("click",!0);this.proxy=this.el.createProxy("x-window-proxy");this.proxy.enableDisplayMode("block");
this.modal&&(this.mask=this.container.createChild({cls:"ext-el-mask"},this.el.dom),this.mask.enableDisplayMode("block"),this.mask.hide(),this.mon(this.mask,"click",this.focus,this));this.maximizable&&this.mon(this.header,"dblclick",this.toggleMaximize,this)},initEvents:function(){Ext.Window.superclass.initEvents.call(this);this.animateTarget&&this.setAnimateTarget(this.animateTarget);this.resizable&&(this.resizer=new Ext.Resizable(this.el,{minWidth:this.minWidth,minHeight:this.minHeight,handles:this.resizeHandles||
"all",pinned:!0,resizeElement:this.resizerAction,handleCls:"x-window-handle"}),this.resizer.window=this,this.mon(this.resizer,"beforeresize",this.beforeResize,this));this.draggable&&this.header.addClass("x-window-draggable");this.mon(this.el,"mousedown",this.toFront,this);this.manager=this.manager||Ext.WindowMgr;this.manager.register(this);this.maximized&&(this.maximized=!1,this.maximize());if(this.closable){var a=this.getKeyMap();a.on(27,this.onEsc,this);a.disable()}},initDraggable:function(){this.dd=
new Ext.Window.DD(this)},onEsc:function(a,b){b.stopEvent();this[this.closeAction]()},beforeDestroy:function(){this.rendered&&(this.hide(),this.clearAnchor(),Ext.destroy(this.focusEl,this.resizer,this.dd,this.proxy,this.mask));Ext.Window.superclass.beforeDestroy.call(this)},onDestroy:function(){this.manager&&this.manager.unregister(this);Ext.Window.superclass.onDestroy.call(this)},initTools:function(){this.minimizable&&this.addTool({id:"minimize",handler:this.minimize.createDelegate(this,[])});this.maximizable&&
(this.addTool({id:"maximize",handler:this.maximize.createDelegate(this,[])}),this.addTool({id:"restore",handler:this.restore.createDelegate(this,[]),hidden:!0}));this.closable&&this.addTool({id:"close",handler:this[this.closeAction].createDelegate(this,[])})},resizerAction:function(){var a=this.proxy.getBox();this.proxy.hide();this.window.handleResize(a);return a},beforeResize:function(){this.resizer.minHeight=Math.max(this.minHeight,this.getFrameHeight()+40);this.resizer.minWidth=Math.max(this.minWidth,
this.getFrameWidth()+40);this.resizeBox=this.el.getBox()},updateHandles:function(){Ext.isIE&&this.resizer&&(this.resizer.syncHandleHeight(),this.el.repaint())},handleResize:function(a){var b=this.resizeBox;b.x!=a.x||b.y!=a.y?this.updateBox(a):(this.setSize(a),Ext.isIE6&&Ext.isStrict&&this.doLayout());this.focus();this.updateHandles();this.saveState()},focus:function(){var a=this.focusEl,b=this.defaultButton,c;if(Ext.isDefined(b)&&(a=Ext.isNumber(b)&&this.fbar?this.fbar.items.get(b):Ext.isString(b)?
Ext.getCmp(b):b,b=a.getEl(),c=Ext.getDom(this.container),b&&c&&!Ext.lib.Region.getRegion(c).contains(Ext.lib.Region.getRegion(b.dom))))return;a=a||this.focusEl;a.focus.defer(10,a)},setAnimateTarget:function(a){this.animateTarget=a=Ext.get(a)},beforeShow:function(){delete this.el.lastXY;delete this.el.lastLT;if(void 0===this.x||void 0===this.y){var a=this.el.getAlignToXY(this.container,"c-c"),a=this.el.translatePoints(a[0],a[1]);this.x=void 0===this.x?a.left:this.x;this.y=void 0===this.y?a.top:this.y}this.el.setLeftTop(this.x,
this.y);this.expandOnShow&&this.expand(!1);this.modal&&(Ext.getBody().addClass("x-body-masked"),this.mask.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0)),this.mask.show())},show:function(a,b,c){this.rendered||this.render(Ext.getBody());if(!1===this.hidden)return this.toFront(),this;if(!1===this.fireEvent("beforeshow",this))return this;if(b)this.on("show",b,c,{single:!0});this.hidden=!1;Ext.isDefined(a)&&this.setAnimateTarget(a);this.beforeShow();this.animateTarget?this.animShow():
this.afterShow();return this},afterShow:function(a){if(this.isDestroyed)return!1;this.proxy.hide();this.el.setStyle("display","block");this.el.show();this.maximized&&this.fitContainer();Ext.isMac&&Ext.isGecko2&&this.cascade(this.setAutoScroll);if(this.monitorResize||this.modal||this.constrain||this.constrainHeader)Ext.EventManager.onWindowResize(this.onWindowResize,this);this.doConstrain();this.doLayout();this.keyMap&&this.keyMap.enable();this.toFront();this.updateHandles();if(a&&(Ext.isIE||Ext.isWebKit))a=
this.getSize(),this.onResize(a.width,a.height);this.onShow();this.fireEvent("show",this)},animShow:function(){this.proxy.show();this.proxy.setBox(this.animateTarget.getBox());this.proxy.setOpacity(0);var a=this.getBox();this.el.setStyle("display","none");this.proxy.shift(Ext.apply(a,{callback:this.afterShow.createDelegate(this,[!0],!1),scope:this,easing:"easeNone",duration:0.25,opacity:0.5}))},hide:function(a,b,c){if(this.hidden||!1===this.fireEvent("beforehide",this))return this;if(b)this.on("hide",
b,c,{single:!0});this.hidden=!0;void 0!==a&&this.setAnimateTarget(a);this.modal&&(this.mask.hide(),Ext.getBody().removeClass("x-body-masked"));this.animateTarget?this.animHide():(this.el.hide(),this.afterHide());return this},afterHide:function(){this.proxy.hide();(this.monitorResize||this.modal||this.constrain||this.constrainHeader)&&Ext.EventManager.removeResizeListener(this.onWindowResize,this);this.keyMap&&this.keyMap.disable();this.onHide();this.fireEvent("hide",this)},animHide:function(){this.proxy.setOpacity(0.5);
this.proxy.show();var a=this.getBox(!1);this.proxy.setBox(a);this.el.hide();this.proxy.shift(Ext.apply(this.animateTarget.getBox(),{callback:this.afterHide,scope:this,duration:0.25,easing:"easeNone",opacity:0}))},onShow:Ext.emptyFn,onHide:Ext.emptyFn,onWindowResize:function(){this.maximized&&this.fitContainer();this.modal&&(this.mask.setSize("100%","100%"),this.mask.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0)));this.doConstrain()},doConstrain:function(){if(this.constrain||this.constrainHeader){var a;
this.constrain?a={right:this.el.shadowOffset,left:this.el.shadowOffset,bottom:this.el.shadowOffset}:(a=this.getSize(),a={right:-(a.width-100),bottom:-(a.height-25)});(a=this.el.getConstrainToXY(this.container,!0,a))&&this.setPosition(a[0],a[1])}},ghost:function(a){var a=this.createGhost(a),b=this.getBox(!0);a.setLeftTop(b.x,b.y);a.setWidth(b.width);this.el.hide();return this.activeGhost=a},unghost:function(a,b){this.activeGhost&&(!1!==a&&(this.el.show(),this.focus.defer(10,this),Ext.isMac&&Ext.isGecko2&&
this.cascade(this.setAutoScroll)),!1!==b&&this.setPosition(this.activeGhost.getLeft(!0),this.activeGhost.getTop(!0)),this.activeGhost.hide(),this.activeGhost.remove(),delete this.activeGhost)},minimize:function(){this.fireEvent("minimize",this);return this},close:function(){!1!==this.fireEvent("beforeclose",this)&&(this.hidden?this.doClose():this.hide(null,this.doClose,this))},doClose:function(){this.fireEvent("close",this);this.destroy()},maximize:function(){this.maximized||(this.expand(!1),this.restoreSize=
this.getSize(),this.restorePos=this.getPosition(!0),this.maximizable&&(this.tools.maximize.hide(),this.tools.restore.show()),this.maximized=!0,this.el.disableShadow(),this.dd&&this.dd.lock(),this.collapsible&&this.tools.toggle.hide(),this.el.addClass("x-window-maximized"),this.container.addClass("x-window-maximized-ct"),this.setPosition(0,0),this.fitContainer(),this.fireEvent("maximize",this));return this},restore:function(){if(this.maximized){var a=this.tools;this.el.removeClass("x-window-maximized");
a.restore&&a.restore.hide();a.maximize&&a.maximize.show();this.setPosition(this.restorePos[0],this.restorePos[1]);this.setSize(this.restoreSize.width,this.restoreSize.height);delete this.restorePos;delete this.restoreSize;this.maximized=!1;this.el.enableShadow(!0);this.dd&&this.dd.unlock();this.collapsible&&a.toggle&&a.toggle.show();this.container.removeClass("x-window-maximized-ct");this.doConstrain();this.fireEvent("restore",this)}return this},toggleMaximize:function(){return this[this.maximized?
"restore":"maximize"]()},fitContainer:function(){var a=this.container.getViewSize(!1);this.setSize(a.width,a.height)},setZIndex:function(a){this.modal&&this.mask.setStyle("z-index",a);this.el.setZIndex(++a);a+=5;this.resizer&&this.resizer.proxy.setStyle("z-index",++a);this.lastZIndex=a},alignTo:function(a,b,c){a=this.el.getAlignToXY(a,b,c);this.setPagePosition(a[0],a[1]);return this},anchorTo:function(a,b,c,d){this.clearAnchor();this.anchorTarget={el:a,alignment:b,offsets:c};Ext.EventManager.onWindowResize(this.doAnchor,
this);a=typeof d;if("undefined"!=a)Ext.EventManager.on(window,"scroll",this.doAnchor,this,{buffer:"number"==a?d:50});return this.doAnchor()},doAnchor:function(){var a=this.anchorTarget;this.alignTo(a.el,a.alignment,a.offsets);return this},clearAnchor:function(){this.anchorTarget&&(Ext.EventManager.removeResizeListener(this.doAnchor,this),Ext.EventManager.un(window,"scroll",this.doAnchor,this),delete this.anchorTarget);return this},toFront:function(a){this.manager.bringToFront(this)&&(!a||!a.getTarget().focus)&&
this.focus();return this},setActive:function(a){a?(this.maximized||this.el.enableShadow(!0),this.fireEvent("activate",this)):(this.el.disableShadow(),this.fireEvent("deactivate",this))},toBack:function(){this.manager.sendToBack(this);return this},center:function(){var a=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(a[0],a[1]);return this}});Ext.reg("window",Ext.Window);
Ext.Window.DD=function(a){this.win=a;Ext.Window.DD.superclass.constructor.call(this,a.el.id,"WindowDD-"+a.id);this.setHandleElId(a.header.id);this.scroll=!1};
Ext.extend(Ext.Window.DD,Ext.dd.DD,{moveOnly:!0,headerOffsets:[100,25],startDrag:function(){var a=this.win;this.proxy=a.ghost();if(!1!==a.constrain){var b=a.el.shadowOffset;this.constrainTo(a.container,{right:b,left:b,bottom:b})}else!1!==a.constrainHeader&&(b=this.proxy.getSize(),this.constrainTo(a.container,{right:-(b.width-this.headerOffsets[0]),bottom:-(b.height-this.headerOffsets[1])}))},b4Drag:Ext.emptyFn,onDrag:function(a){this.alignElWithMouse(this.proxy,a.getPageX(),a.getPageY())},endDrag:function(){this.win.unghost();
this.win.saveState()}});
Ext.WindowGroup=function(){var a={},b=[],c=null,d=function(a,b){return!a._lastAccess||a._lastAccess<b._lastAccess?-1:1},g=function(){var a=b.length;if(0<a){b.sort(d);for(var c=b[0].manager.zseed,g=0;g<a;g++){var h=b[g];h&&!h.hidden&&h.setZIndex(c+10*g)}}l()},h=function(a){a!=c&&(c&&c.setActive(!1),(c=a)&&a.setActive(!0))},l=function(){for(var a=b.length-1;0<=a;--a)if(!b[a].hidden){h(b[a]);return}h(null)};return{zseed:9E3,register:function(c){c.manager&&c.manager.unregister(c);c.manager=this;a[c.id]=
c;b.push(c);c.on("hide",l)},unregister:function(c){delete c.manager;delete a[c.id];c.un("hide",l);b.remove(c)},get:function(b){return"object"==typeof b?b:a[b]},bringToFront:function(a){a=this.get(a);return a!=c?(a._lastAccess=(new Date).getTime(),g(),!0):!1},sendToBack:function(a){a=this.get(a);a._lastAccess=-(new Date).getTime();g();return a},hideAll:function(){for(var b in a)a[b]&&("function"!=typeof a[b]&&a[b].isVisible())&&a[b].hide()},getActive:function(){return c},getBy:function(a,c){for(var d=
[],g=b.length-1;0<=g;--g){var h=b[g];!1!==a.call(c||h,h)&&d.push(h)}return d},each:function(b,c){for(var d in a)if(a[d]&&"function"!=typeof a[d]&&!1===b.call(c||a[d],a[d]))break}}};Ext.WindowMgr=new Ext.WindowGroup;
Ext.MessageBox=function(){var a,b,c,d,g,h,l,n,q,r,s,p,v="",t="",A=["ok","yes","no","cancel"],w=function(c){r[c].blur();a.isVisible()&&(a.hide(),C(),Ext.callback(b.fn,b.scope||window,[c,s.dom.value,b],1))},C=function(){b&&b.cls&&a.el.removeClass(b.cls);n.reset()};return{getDialog:function(p){if(!a){var s=[];r={};Ext.each(A,function(a){s.push(r[a]=new Ext.Button({text:this.buttonText[a],handler:w.createCallback(a),hideMode:"offsets"}))},this);a=new Ext.Window({autoCreate:!0,title:p,resizable:!1,constrain:!0,
constrainHeader:!0,minimizable:!1,maximizable:!1,stateful:!1,modal:!0,shim:!0,buttonAlign:"center",width:400,height:100,minHeight:80,plain:!0,footer:!0,closable:!0,close:function(){b&&b.buttons&&b.buttons.no&&!b.buttons.cancel?w("no"):w("cancel")},fbar:new Ext.Toolbar({items:s,enableOverflow:!1})});a.render(document.body);a.getEl().addClass("x-window-dlg");c=a.mask;d=a.body.createChild({html:'<div class="ext-mb-icon"></div><div class="ext-mb-content"><span class="ext-mb-text"></span><br /><div class="ext-mb-fix-cursor"><input type="text" class="ext-mb-input" /><textarea class="ext-mb-textarea"></textarea></div></div>'});
q=Ext.get(d.dom.firstChild);p=d.dom.childNodes[1];g=Ext.get(p.firstChild);h=Ext.get(p.childNodes[2].firstChild);h.enableDisplayMode();h.addKeyListener([10,13],function(){a.isVisible()&&(b&&b.buttons)&&(b.buttons.ok?w("ok"):b.buttons.yes&&w("yes"))});l=Ext.get(p.childNodes[2].childNodes[1]);l.enableDisplayMode();n=new Ext.ProgressBar({renderTo:d});d.createChild({cls:"x-clear"})}return a},updateText:function(c){!a.isVisible()&&!b.width&&a.setSize(this.maxWidth,100);g.update(c||"&#160;");var c=""!=t?
q.getWidth()+q.getMargins("lr"):0,d=g.getWidth()+g.getMargins("lr"),h=a.getFrameWidth("lr"),l=a.body.getFrameWidth("lr");Ext.isIE&&0<c&&(c+=3);d=Math.max(Math.min(b.width||c+d+h+l,b.maxWidth||this.maxWidth),Math.max(b.minWidth||this.minWidth,p||0));!0===b.prompt&&s.setWidth(d-c-h-l);(!0===b.progress||!0===b.wait)&&n.setSize(d-c-h-l);Ext.isIE&&d==p&&(d+=4);a.setSize(d,"auto").center();return this},updateProgress:function(a,b,c){n.updateProgress(a,b);c&&this.updateText(c);return this},isVisible:function(){return a&&
a.isVisible()},hide:function(){var b=a?a.activeGhost:null;if(this.isVisible()||b)a.hide(),C(),b&&a.unghost(!1,!1);return this},show:function(d){this.isVisible()&&this.hide();b=d;var g=this.getDialog(b.title||"&#160;");g.setTitle(b.title||"&#160;");var q=!1!==b.closable&&!0!==b.progress&&!0!==b.wait;g.tools.close.setDisplayed(q);s=h;b.prompt=b.prompt||(b.multiline?!0:!1);b.prompt?b.multiline?(h.hide(),l.show(),l.setHeight(Ext.isNumber(b.multiline)?b.multiline:this.defaultTextHeight),s=l):(h.show(),
l.hide()):(h.hide(),l.hide());s.dom.value=b.value||"";if(b.prompt)g.focusEl=s;else{var d=b.buttons,t=null;d&&d.ok?t=r.ok:d&&d.yes&&(t=r.yes);t&&(g.focusEl=t)}b.iconCls&&g.setIconClass(b.iconCls);this.setIcon(Ext.isDefined(b.icon)?b.icon:v);var w=b.buttons,C=0,R;w?(a.footer.dom.style.display="",Ext.iterate(r,function(a,b){(R=w[a])?(b.show(),b.setText(Ext.isString(R)?R:Ext.MessageBox.buttonText[a]),C+=b.getEl().getWidth()+15):b.hide()})):Ext.each(A,function(a){r[a].hide()});p=C;n.setVisible(!0===b.progress||
!0===b.wait);this.updateProgress(0,b.progressText);this.updateText(b.msg);b.cls&&g.el.addClass(b.cls);g.proxyDrag=!0===b.proxyDrag;g.modal=!1!==b.modal;g.mask=!1!==b.modal?c:!1;g.isVisible()||(document.body.appendChild(a.el.dom),g.setAnimateTarget(b.animEl),g.on("show",function(){!0===q?g.keyMap.enable():g.keyMap.disable()},this,{single:!0}),g.show(b.animEl));!0===b.wait&&n.wait(b.waitConfig);return this},setIcon:function(b){if(a)return v=void 0,b&&""!=b?(q.removeClass("x-hidden"),q.replaceClass(t,
b),d.addClass("x-dlg-icon"),t=b):(q.replaceClass(t,"x-hidden"),d.removeClass("x-dlg-icon"),t=""),this;v=b},progress:function(a,b,c){this.show({title:a,msg:b,buttons:!1,progress:!0,closable:!1,minWidth:this.minProgressWidth,progressText:c});return this},wait:function(a,b,c){this.show({title:b,msg:a,buttons:!1,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:c});return this},alert:function(a,b,c,d){this.show({title:a,msg:b,buttons:this.OK,fn:c,scope:d,minWidth:this.minWidth});
return this},confirm:function(a,b,c,d){this.show({title:a,msg:b,buttons:this.YESNO,fn:c,scope:d,icon:this.QUESTION,minWidth:this.minWidth});return this},prompt:function(a,b,c,d,g,h){this.show({title:a,msg:b,buttons:this.OKCANCEL,fn:c,minWidth:this.minPromptWidth,scope:d,prompt:!0,multiline:g,value:h});return this},OK:{ok:!0},CANCEL:{cancel:!0},OKCANCEL:{ok:!0,cancel:!0},YESNO:{yes:!0,no:!0},YESNOCANCEL:{yes:!0,no:!0,cancel:!0},INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",
ERROR:"ext-mb-error",defaultTextHeight:75,maxWidth:600,minWidth:100,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}}}();Ext.Msg=Ext.MessageBox;Ext.dd.PanelProxy=function(a,b){this.panel=a;this.id=this.panel.id+"-ddproxy";Ext.apply(this,b)};
Ext.dd.PanelProxy.prototype={insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){this.ghost&&(this.proxy&&(this.proxy.remove(),delete this.proxy),this.panel.el.dom.style.display="",this.ghost.remove(),delete this.ghost)},show:function(){this.ghost||(this.ghost=this.panel.createGhost(void 0,void 0,Ext.getBody()),this.ghost.setXY(this.panel.el.getXY()),
this.insertProxy&&(this.proxy=this.panel.el.insertSibling({cls:"x-panel-dd-spacer"}),this.proxy.setSize(this.panel.getSize())),this.panel.el.dom.style.display="none")},repair:function(a,b,c){this.hide();"function"==typeof b&&b.call(c||this)},moveProxy:function(a,b){this.proxy&&a.insertBefore(this.proxy.dom,b)}};
Ext.Panel.DD=function(a,b){this.panel=a;this.dragData={panel:a};this.proxy=new Ext.dd.PanelProxy(a,b);Ext.Panel.DD.superclass.constructor.call(this,a.el,b);var c=a.header;c&&this.setHandleElId(c.id);(c?c:this.panel.body).setStyle("cursor","move");this.scroll=!1};
Ext.extend(Ext.Panel.DD,Ext.dd.DragSource,{showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(){this.proxy.show()},b4MouseDown:function(a){var b=a.getPageX(),a=a.getPageY();this.autoOffset(b,a)},onInitDrag:function(a,b){this.onStartDrag(a,b);return!0},createFrame:Ext.emptyFn,getDragEl:function(){return this.proxy.ghost.dom},endDrag:function(){this.proxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)}});
Ext.state.Provider=function(){this.addEvents("statechange");this.state={};Ext.state.Provider.superclass.constructor.call(this)};
Ext.extend(Ext.state.Provider,Ext.util.Observable,{get:function(a,b){return"undefined"==typeof this.state[a]?b:this.state[a]},clear:function(a){delete this.state[a];this.fireEvent("statechange",this,a,null)},set:function(a,b){this.state[a]=b;this.fireEvent("statechange",this,a,b)},decodeValue:function(a){if((a=/^(a|n|d|b|s|o)\:(.*)$/.exec(unescape(a)))&&a[1]){var b=a[2];switch(a[1]){case "n":return parseFloat(b);case "d":return new Date(Date.parse(b));case "b":return"1"==b;case "a":var c=[];""!=b&&
Ext.each(b.split("^"),function(a){c.push(this.decodeValue(a))},this);return c;case "o":return c={},""!=b&&Ext.each(b.split("^"),function(a){a=a.split("=");c[a[0]]=this.decodeValue(a[1])},this),c;default:return b}}},encodeValue:function(a){if("number"==typeof a)a="n:"+a;else if("boolean"==typeof a)a="b:"+(a?"1":"0");else if(Ext.isDate(a))a="d:"+a.toGMTString();else if(Ext.isArray(a)){for(var b="",c=0,d=a.length;c<d;c++)b+=this.encodeValue(a[c]),c!=d-1&&(b+="^");a="a:"+b}else if("object"==typeof a){b=
"";for(c in a)"function"!=typeof a[c]&&void 0!==a[c]&&(b+=c+"="+this.encodeValue(a[c])+"^");a="o:"+b.substring(0,b.length-1)}else a="s:"+a;return escape(a)}});Ext.state.Manager=function(){var a=new Ext.state.Provider;return{setProvider:function(b){a=b},get:function(b,c){return a.get(b,c)},set:function(b,c){a.set(b,c)},clear:function(b){a.clear(b)},getProvider:function(){return a}}}();
Ext.state.CookieProvider=function(a){Ext.state.CookieProvider.superclass.constructor.call(this);this.path="/";this.expires=new Date((new Date).getTime()+6048E5);this.domain=null;this.secure=!1;Ext.apply(this,a);this.state=this.readCookies()};
Ext.extend(Ext.state.CookieProvider,Ext.state.Provider,{set:function(a,b){"undefined"==typeof b||null===b?this.clear(a):(this.setCookie(a,b),Ext.state.CookieProvider.superclass.set.call(this,a,b))},clear:function(a){this.clearCookie(a);Ext.state.CookieProvider.superclass.clear.call(this,a)},readCookies:function(){for(var a={},b=document.cookie+";",c=/\s?(.*?)=(.*?);/g,d;null!=(d=c.exec(b));){var g=d[1];d=d[2];g&&"ys-"==g.substring(0,3)&&(a[g.substr(3)]=this.decodeValue(d))}return a},setCookie:function(a,
b){document.cookie="ys-"+a+"="+this.encodeValue(b)+(null==this.expires?"":"; expires="+this.expires.toGMTString())+(null==this.path?"":"; path="+this.path)+(null==this.domain?"":"; domain="+this.domain)+(!0==this.secure?"; secure":"")},clearCookie:function(a){document.cookie="ys-"+a+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(null==this.path?"":"; path="+this.path)+(null==this.domain?"":"; domain="+this.domain)+(!0==this.secure?"; secure":"")}});
Ext.DataView=Ext.extend(Ext.BoxComponent,{selectedClass:"x-view-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,last:!1,initComponent:function(){Ext.DataView.superclass.initComponent.call(this);if(Ext.isString(this.tpl)||Ext.isArray(this.tpl))this.tpl=new Ext.XTemplate(this.tpl);this.addEvents("beforeclick","click","mouseenter","mouseleave","containerclick","dblclick","contextmenu","containercontextmenu","selectionchange","beforeselect");this.store=Ext.StoreMgr.lookup(this.store);
this.all=new Ext.CompositeElementLite;this.selected=new Ext.CompositeElementLite},afterRender:function(){Ext.DataView.superclass.afterRender.call(this);this.mon(this.getTemplateTarget(),{click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu,scope:this});(this.overClass||this.trackOver)&&this.mon(this.getTemplateTarget(),{mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this});this.store&&this.bindStore(this.store,!0)},refresh:function(){this.clearSelections(!1,!0);var a=
this.getTemplateTarget();a.update("");var b=this.store.getRange();1>b.length?((!this.deferEmptyText||this.hasSkippedEmptyText)&&a.update(this.emptyText),this.all.clear()):(this.tpl.overwrite(a,this.collectData(b,0)),this.all.fill(Ext.query(this.itemSelector,a.dom)),this.updateIndexes(0));this.hasSkippedEmptyText=!0},getTemplateTarget:function(){return this.el},prepareData:function(a){return a},collectData:function(a,b){for(var c=[],d=0,g=a.length;d<g;d++)c[c.length]=this.prepareData(a[d].data,b+d,
a[d]);return c},bufferRender:function(a){var b=document.createElement("div");this.tpl.overwrite(b,this.collectData(a));return Ext.query(this.itemSelector,b)},onUpdate:function(a,b){var c=this.store.indexOf(b);if(-1<c){var d=this.isSelected(c),g=this.all.elements[c],h=this.bufferRender([b],c)[0];this.all.replaceElement(c,h,!0);d&&(this.selected.replaceElement(g,h),this.all.item(c).addClass(this.selectedClass));this.updateIndexes(c,c)}},onAdd:function(a,b,c){0===this.all.getCount()?this.refresh():(a=
this.bufferRender(b,c),b=this.all.elements,c<this.all.getCount()?(this.all.item(c).insertSibling(a,"before",!0),b.splice.apply(b,[c,0].concat(a))):(this.all.last().insertSibling(a,"after",!0),b.push.apply(b,a)),this.updateIndexes(c))},onRemove:function(a,b,c){this.deselect(c);this.all.removeElement(c,!0);this.updateIndexes(c);0===this.store.getCount()&&this.refresh()},refreshNode:function(a){this.onUpdate(this.store,this.store.getAt(a))},updateIndexes:function(a,b){for(var c=this.all.elements,b=b||
(0===b?0:c.length-1),d=a||0;d<=b;d++)c[d].viewIndex=d},getStore:function(){return this.store},bindStore:function(a,b){!b&&this.store&&(a!==this.store&&this.store.autoDestroy?this.store.destroy():(this.store.un("beforeload",this.onBeforeLoad,this),this.store.un("datachanged",this.onDataChanged,this),this.store.un("add",this.onAdd,this),this.store.un("remove",this.onRemove,this),this.store.un("update",this.onUpdate,this),this.store.un("clear",this.refresh,this)),a||(this.store=null));a&&(a=Ext.StoreMgr.lookup(a),
a.on({scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh}));(this.store=a)&&this.refresh()},onDataChanged:function(){!0!==this.blockRefresh&&this.refresh.apply(this,arguments)},findItemFromChild:function(a){return Ext.fly(a).findParent(this.itemSelector,this.getTemplateTarget())},onClick:function(a){var b=a.getTarget(this.itemSelector,this.getTemplateTarget());if(b){var c=this.indexOf(b);!1!==this.onItemClick(b,
c,a)&&this.fireEvent("click",this,c,b,a)}else if(!1!==this.fireEvent("containerclick",this,a))this.onContainerClick(a)},onContainerClick:function(){this.clearSelections()},onContextMenu:function(a){var b=a.getTarget(this.itemSelector,this.getTemplateTarget());b?this.fireEvent("contextmenu",this,this.indexOf(b),b,a):this.fireEvent("containercontextmenu",this,a)},onDblClick:function(a){var b=a.getTarget(this.itemSelector,this.getTemplateTarget());b&&this.fireEvent("dblclick",this,this.indexOf(b),b,
a)},onMouseOver:function(a){var b=a.getTarget(this.itemSelector,this.getTemplateTarget());b&&b!==this.lastItem&&(this.lastItem=b,Ext.fly(b).addClass(this.overClass),this.fireEvent("mouseenter",this,this.indexOf(b),b,a))},onMouseOut:function(a){this.lastItem&&!a.within(this.lastItem,!0,!0)&&(Ext.fly(this.lastItem).removeClass(this.overClass),this.fireEvent("mouseleave",this,this.indexOf(this.lastItem),this.lastItem,a),delete this.lastItem)},onItemClick:function(a,b,c){if(!1===this.fireEvent("beforeclick",
this,b,a,c))return!1;this.multiSelect?(this.doMultiSelection(a,b,c),c.preventDefault()):this.singleSelect&&(this.doSingleSelection(a,b,c),c.preventDefault());return!0},doSingleSelection:function(a,b,c){c.ctrlKey&&this.isSelected(b)?this.deselect(b):this.select(b,!1)},doMultiSelection:function(a,b,c){c.shiftKey&&!1!==this.last?(a=this.last,this.selectRange(a,b,c.ctrlKey),this.last=a):(c.ctrlKey||this.simpleSelect)&&this.isSelected(b)?this.deselect(b):this.select(b,c.ctrlKey||c.shiftKey||this.simpleSelect)},
getSelectionCount:function(){return this.selected.getCount()},getSelectedNodes:function(){return this.selected.elements},getSelectedIndexes:function(){for(var a=[],b=this.selected.elements,c=0,d=b.length;c<d;c++)a.push(b[c].viewIndex);return a},getSelectedRecords:function(){for(var a=[],b=this.selected.elements,c=0,d=b.length;c<d;c++)a[a.length]=this.store.getAt(b[c].viewIndex);return a},getRecords:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b[b.length]=this.store.getAt(a[c].viewIndex);return b},
getRecord:function(a){return this.store.getAt(a.viewIndex)},clearSelections:function(a,b){if((this.multiSelect||this.singleSelect)&&0<this.selected.getCount())b||this.selected.removeClass(this.selectedClass),this.selected.clear(),this.last=!1,a||this.fireEvent("selectionchange",this,this.selected.elements)},isSelected:function(a){return this.selected.contains(this.getNode(a))},deselect:function(a){this.isSelected(a)&&(a=this.getNode(a),this.selected.removeElement(a),this.last==a.viewIndex&&(this.last=
!1),Ext.fly(a).removeClass(this.selectedClass),this.fireEvent("selectionchange",this,this.selected.elements))},select:function(a,b,c){if(Ext.isArray(a)){b||this.clearSelections(!0);for(var b=0,d=a.length;b<d;b++)this.select(a[b],!0,!0);c||this.fireEvent("selectionchange",this,this.selected.elements)}else a=this.getNode(a),b||this.clearSelections(!0),a&&!this.isSelected(a)&&!1!==this.fireEvent("beforeselect",this,a,this.selected.elements)&&(Ext.fly(a).addClass(this.selectedClass),this.selected.add(a),
this.last=a.viewIndex,c||this.fireEvent("selectionchange",this,this.selected.elements))},selectRange:function(a,b,c){c||this.clearSelections(!0);this.select(this.getNodes(a,b),!0)},getNode:function(a){return Ext.isString(a)?document.getElementById(a):Ext.isNumber(a)?this.all.elements[a]:a instanceof Ext.data.Record?(a=this.store.indexOf(a),this.all.elements[a]):a},getNodes:function(a,b){var c=this.all.elements,a=a||0,b=!Ext.isDefined(b)?Math.max(c.length-1,0):b,d=[],g;if(a<=b)for(g=a;g<=b&&c[g];g++)d.push(c[g]);
else for(g=a;g>=b&&c[g];g--)d.push(c[g]);return d},indexOf:function(a){a=this.getNode(a);return Ext.isNumber(a.viewIndex)?a.viewIndex:this.all.indexOf(a)},onBeforeLoad:function(){this.loadingText&&(this.clearSelections(!1,!0),this.getTemplateTarget().update('<div class="loading-indicator">'+this.loadingText+"</div>"),this.all.clear())},onDestroy:function(){this.all.clear();this.selected.clear();Ext.DataView.superclass.onDestroy.call(this);this.bindStore(null)}});Ext.DataView.prototype.setStore=Ext.DataView.prototype.bindStore;
Ext.reg("dataview",Ext.DataView);
Ext.list.ListView=Ext.extend(Ext.DataView,{itemSelector:"dl",selectedClass:"x-list-selected",overClass:"x-list-over",scrollOffset:void 0,columnResize:!0,columnSort:!0,maxWidth:Ext.isIE?99:100,initComponent:function(){this.columnResize&&(this.colResizer=new Ext.list.ColumnResizer(this.colResizer),this.colResizer.init(this));this.columnSort&&(this.colSorter=new Ext.list.Sorter(this.columnSort),this.colSorter.init(this));this.internalTpl||(this.internalTpl=new Ext.XTemplate('<div class="x-list-header"><div class="x-list-header-inner">','<tpl for="columns">',
'<div style="width:{[values.width*100]}%;text-align:{align};"><em unselectable="on" id="',this.id,'-xlhd-{#}">',"{header}","</em></div>","</tpl>",'<div class="x-clear"></div>',"</div></div>",'<div class="x-list-body"><div class="x-list-body-inner">',"</div></div>"));this.tpl||(this.tpl=new Ext.XTemplate('<tpl for="rows">',"<dl>",'<tpl for="parent.columns">','<dt style="width:{[values.width*100]}%;text-align:{align};">','<em unselectable="on"<tpl if="cls"> class="{cls}</tpl>">',"{[values.tpl.apply(parent)]}",
"</em></dt>","</tpl>",'<div class="x-clear"></div>',"</dl>","</tpl>"));for(var a=this.columns,b=0,c=0,d=a.length,g=[],h=0;h<d;h++){var l=a[h];l.isColumn||(l.xtype=l.xtype?/^lv/.test(l.xtype)?l.xtype:"lv"+l.xtype:"lvcolumn",l=Ext.create(l));l.width&&(b+=100*l.width,c++);g.push(l)}a=this.columns=g;if(c<d&&(l=d-c,b<this.maxWidth)){b=(this.maxWidth-b)/l/100;for(c=0;c<d;c++)l=a[c],l.width||(l.width=b)}Ext.list.ListView.superclass.initComponent.call(this)},onRender:function(){this.autoEl={cls:"x-list-wrap"};
Ext.list.ListView.superclass.onRender.apply(this,arguments);this.internalTpl.overwrite(this.el,{columns:this.columns});this.innerBody=Ext.get(this.el.dom.childNodes[1].firstChild);this.innerHd=Ext.get(this.el.dom.firstChild.firstChild);this.hideHeaders&&(this.el.dom.firstChild.style.display="none")},getTemplateTarget:function(){return this.innerBody},collectData:function(){var a=Ext.list.ListView.superclass.collectData.apply(this,arguments);return{columns:this.columns,rows:a}},verifyInternalSize:function(){if(this.lastSize)this.onResize(this.lastSize.width,
this.lastSize.height)},onResize:function(a,b){var c=this.innerBody.dom,d=this.innerHd.dom;if(c){var g=c.parentNode;if(Ext.isNumber(a)){var h=a-Ext.num(this.scrollOffset,Ext.getScrollBarWidth());this.reserveScrollOffset||10<g.offsetWidth-g.clientWidth?(c.style.width=h+"px",d.style.width=h+"px"):(c.style.width=a+"px",d.style.width=a+"px",setTimeout(function(){10<g.offsetWidth-g.clientWidth&&(c.style.width=h+"px",d.style.width=h+"px")},10))}Ext.isNumber(b)&&(g.style.height=b-d.parentNode.offsetHeight+
"px")}},updateIndexes:function(){Ext.list.ListView.superclass.updateIndexes.apply(this,arguments);this.verifyInternalSize()},findHeaderIndex:function(a){for(var a=a.dom||a,a=a.parentNode,b=a.parentNode.childNodes,c=0,d;d=b[c];c++)if(d==a)return c;return-1},setHdWidths:function(){for(var a=this.innerHd.dom.getElementsByTagName("div"),b=0,c=this.columns,d=c.length;b<d;b++)a[b].style.width=100*c[b].width+"%"}});Ext.reg("listview",Ext.list.ListView);Ext.ListView=Ext.list.ListView;
Ext.list.Column=Ext.extend(Object,{isColumn:!0,align:"left",header:"",width:null,cls:"",constructor:function(a){a.tpl?Ext.isString(a.tpl)&&(a.tpl=new Ext.XTemplate(a.tpl)):a.tpl=new Ext.XTemplate("{"+a.dataIndex+"}");Ext.apply(this,a)}});Ext.reg("lvcolumn",Ext.list.Column);
Ext.list.NumberColumn=Ext.extend(Ext.list.Column,{format:"0,000.00",constructor:function(a){a.tpl=a.tpl||new Ext.XTemplate("{"+a.dataIndex+':number("'+(a.format||this.format)+'")}');Ext.list.NumberColumn.superclass.constructor.call(this,a)}});Ext.reg("lvnumbercolumn",Ext.list.NumberColumn);
Ext.list.DateColumn=Ext.extend(Ext.list.Column,{format:"m/d/Y",constructor:function(a){a.tpl=a.tpl||new Ext.XTemplate("{"+a.dataIndex+':date("'+(a.format||this.format)+'")}');Ext.list.DateColumn.superclass.constructor.call(this,a)}});Ext.reg("lvdatecolumn",Ext.list.DateColumn);
Ext.list.BooleanColumn=Ext.extend(Ext.list.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(a){a.tpl=a.tpl||new Ext.XTemplate("{"+a.dataIndex+":this.format}");var b=this.trueText,c=this.falseText,d=this.undefinedText;a.tpl.format=function(a){return void 0===a?d:!a||"false"===a?c:b};Ext.list.DateColumn.superclass.constructor.call(this,a)}});Ext.reg("lvbooleancolumn",Ext.list.BooleanColumn);
Ext.list.ColumnResizer=Ext.extend(Ext.util.Observable,{minPct:0.05,constructor:function(a){Ext.apply(this,a);Ext.list.ColumnResizer.superclass.constructor.call(this)},init:function(a){this.view=a;a.on("render",this.initEvents,this)},initEvents:function(a){a.mon(a.innerHd,"mousemove",this.handleHdMove,this);this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeStart.createDelegate(this),onStart:this.onStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onEnd.createDelegate(this),
tolerance:3,autoStart:300});this.tracker.initEl(a.innerHd);a.on("beforedestroy",this.tracker.destroy,this.tracker)},handleHdMove:function(a){var b=a.getPageX();if(a=a.getTarget("em",3,!0)){var c=a.getRegion(),d=a.dom.style,g=a.dom.parentNode;5>=b-c.left&&g!=g.parentNode.firstChild?(this.activeHd=Ext.get(g.previousSibling.firstChild),d.cursor=Ext.isWebKit?"e-resize":"col-resize"):5>=c.right-b&&g!=g.parentNode.lastChild.previousSibling?(this.activeHd=a,d.cursor=Ext.isWebKit?"w-resize":"col-resize"):
(delete this.activeHd,d.cursor="")}},onBeforeStart:function(){this.dragHd=this.activeHd;return!!this.dragHd},onStart:function(){this.view.disableHeaders=!0;this.proxy=this.view.el.createChild({cls:"x-list-resizer"});this.proxy.setHeight(this.view.el.getHeight());var a=this.tracker.getXY()[0],b=this.view.innerHd.getWidth();this.hdX=this.dragHd.getX();this.hdIndex=this.view.findHeaderIndex(this.dragHd);this.proxy.setX(this.hdX);this.proxy.setWidth(a-this.hdX);this.minWidth=b*this.minPct;this.maxWidth=
b-this.minWidth*(this.view.columns.length-1-this.hdIndex)},onDrag:function(){var a=this.tracker.getXY()[0];this.proxy.setWidth((a-this.hdX).constrain(this.minWidth,this.maxWidth))},onEnd:function(){var a=this.proxy.getWidth();this.proxy.remove();for(var b=this.hdIndex,c=this.view,d=c.columns,g=d.length,h=this.view.innerHd.getWidth(),l=100*this.minPct,a=Math.ceil(a*c.maxWidth/h),n=100*d[b].width-a,h=Math.floor(n/(g-1-b)),n=n-h*(g-1-b),q=b+1;q<g;q++){var r=100*d[q].width+h,s=Math.max(l,r);r!=s&&(n+=
r-s);d[q].width=s/100}d[b].width=a/100;d[b+1].width+=n/100;delete this.dragHd;c.setHdWidths();c.refresh();setTimeout(function(){c.disableHeaders=!1},100)}});Ext.ListView.ColumnResizer=Ext.list.ColumnResizer;
Ext.list.Sorter=Ext.extend(Ext.util.Observable,{sortClasses:["sort-asc","sort-desc"],constructor:function(a){Ext.apply(this,a);Ext.list.Sorter.superclass.constructor.call(this)},init:function(a){this.view=a;a.on("render",this.initEvents,this)},initEvents:function(a){a.mon(a.innerHd,"click",this.onHdClick,this);a.innerHd.setStyle("cursor","pointer");a.mon(a.store,"datachanged",this.updateSortState,this);this.updateSortState.defer(10,this,[a.store])},updateSortState:function(a){if(a=a.getSortState()){this.sortState=
a;for(var b=this.view.columns,c=-1,d=0,g=b.length;d<g;d++)if(b[d].dataIndex==a.field){c=d;break}-1!=c&&this.updateSortIcon(c,a.direction)}},updateSortIcon:function(a,b){var c=this.sortClasses;this.view.innerHd.select("em").removeClass(c).item(a).addClass(c["DESC"==b?1:0])},onHdClick:function(a){if((a=a.getTarget("em",3))&&!this.view.disableHeaders)a=this.view.findHeaderIndex(a),this.view.store.sort(this.view.columns[a].dataIndex)}});Ext.ListView.Sorter=Ext.list.Sorter;
Ext.TabPanel=Ext.extend(Ext.Panel,{deferredRender:!0,tabWidth:120,minTabWidth:30,resizeTabs:!1,enableTabScroll:!1,scrollIncrement:0,scrollRepeatInterval:400,scrollDuration:0.35,animScroll:!0,tabPosition:"top",baseCls:"x-tab-panel",autoTabs:!1,autoTabSelector:"div.x-tab",activeTab:void 0,tabMargin:2,plain:!1,wheelIncrement:20,idDelimiter:"__",itemCls:"x-tab-item",elements:"body",headerAsText:!1,frame:!1,hideBorders:!0,initComponent:function(){this.frame=!1;Ext.TabPanel.superclass.initComponent.call(this);
this.addEvents("beforetabchange","tabchange","contextmenu");this.setLayout(new Ext.layout.CardLayout(Ext.apply({layoutOnCardChange:this.layoutOnTabChange,deferredRender:this.deferredRender},this.layoutConfig)));"top"==this.tabPosition?(this.elements+=",header",this.stripTarget="header"):(this.elements+=",footer",this.stripTarget="footer");this.stack||(this.stack=Ext.TabPanel.AccessStack());this.initItems()},onRender:function(a,b){Ext.TabPanel.superclass.onRender.call(this,a,b);if(this.plain){var c=
"top"==this.tabPosition?"header":"footer";this[c].addClass("x-tab-panel-"+c+"-plain")}c=this[this.stripTarget];this.stripWrap=c.createChild({cls:"x-tab-strip-wrap",cn:{tag:"ul",cls:"x-tab-strip x-tab-strip-"+this.tabPosition}});c.createChild({cls:"x-tab-strip-spacer"},"bottom"==this.tabPosition?this.stripWrap:null);this.strip=new Ext.Element(this.stripWrap.dom.firstChild);this.edge=this.strip.createChild({tag:"li",cls:"x-tab-edge",cn:[{tag:"span",cls:"x-tab-strip-text",cn:"&#160;"}]});this.strip.createChild({cls:"x-clear"});
this.body.addClass("x-tab-panel-body-"+this.tabPosition);this.itemTpl||(c=new Ext.Template('<li class="{cls}" id="{id}"><a class="x-tab-strip-close"></a>','<a class="x-tab-right" href="#"><em class="x-tab-left">','<span class="x-tab-strip-inner"><span class="x-tab-strip-text {iconCls}">{text}</span></span>',"</em></a></li>"),c.disableFormats=!0,c.compile(),Ext.TabPanel.prototype.itemTpl=c);this.items.each(this.initTab,this)},afterRender:function(){Ext.TabPanel.superclass.afterRender.call(this);this.autoTabs&&
this.readTabs(!1);if(void 0!==this.activeTab){var a=Ext.isObject(this.activeTab)?this.activeTab:this.items.get(this.activeTab);delete this.activeTab;this.setActiveTab(a)}},initEvents:function(){Ext.TabPanel.superclass.initEvents.call(this);this.mon(this.strip,{scope:this,mousedown:this.onStripMouseDown,contextmenu:this.onStripContextMenu});this.enableTabScroll&&this.mon(this.strip,"mousewheel",this.onWheel,this)},findTargets:function(a){var b=null,c=a.getTarget("li:not(.x-tab-edge)",this.strip);return c&&
(b=this.getComponent(c.id.split(this.idDelimiter)[1]),b.disabled)?{close:null,item:null,el:null}:{close:a.getTarget(".x-tab-strip-close",this.strip),item:b,el:c}},onStripMouseDown:function(a){0===a.button&&(a.preventDefault(),a=this.findTargets(a),a.close?!1!==a.item.fireEvent("beforeclose",a.item)&&(a.item.fireEvent("close",a.item),this.remove(a.item)):a.item&&a.item!=this.activeTab&&this.setActiveTab(a.item))},onStripContextMenu:function(a){a.preventDefault();var b=this.findTargets(a);b.item&&this.fireEvent("contextmenu",
this,b.item,a)},readTabs:function(a){!0===a&&this.items.each(function(a){this.remove(a)},this);for(var a=this.el.query(this.autoTabSelector),b=0,c=a.length;b<c;b++){var d=a[b],g=d.getAttribute("title");d.removeAttribute("title");this.add({title:g,contentEl:d})}},initTab:function(a,b){var c=this.strip.dom.childNodes[b],d=this.getTemplateArgs(a),c=c?this.itemTpl.insertBefore(c,d):this.itemTpl.append(this.strip,d),g=Ext.get(c);g.hover(function(){a.disabled||g.addClass("x-tab-strip-over")},function(){g.removeClass("x-tab-strip-over")});
a.tabTip&&(g.child("span.x-tab-strip-text",!0).qtip=a.tabTip);a.tabEl=c;g.select("a").on("click",function(a){if(!a.getPageX())this.onStripMouseDown(a)},this,{preventDefault:!0});a.on({scope:this,disable:this.onItemDisabled,enable:this.onItemEnabled,titlechange:this.onItemTitleChanged,iconchange:this.onItemIconChanged,beforeshow:this.onBeforeShowItem})},getTemplateArgs:function(a){var b=a.closable?"x-tab-strip-closable":"";a.disabled&&(b+=" x-item-disabled");a.iconCls&&(b+=" x-tab-with-icon");a.tabCls&&
(b+=" "+a.tabCls);return{id:this.id+this.idDelimiter+a.getItemId(),text:a.title,cls:b,iconCls:a.iconCls||""}},onAdd:function(a){Ext.TabPanel.superclass.onAdd.call(this,a);this.rendered&&(this.initTab(a,this.items.indexOf(a)),this.delegateUpdates())},onBeforeAdd:function(a){if(a.events?this.items.containsKey(a.getItemId())&&a:this.items.get(a))return this.setActiveTab(a),!1;Ext.TabPanel.superclass.onBeforeAdd.apply(this,arguments);var b=a.elements;a.elements=b?b.replace(",header",""):b;a.border=!0===
a.border},onRemove:function(a){var b=Ext.get(a.tabEl);b&&(b.select("a").removeAllListeners(),Ext.destroy(b));Ext.TabPanel.superclass.onRemove.call(this,a);this.stack.remove(a);delete a.tabEl;a.un("disable",this.onItemDisabled,this);a.un("enable",this.onItemEnabled,this);a.un("titlechange",this.onItemTitleChanged,this);a.un("iconchange",this.onItemIconChanged,this);a.un("beforeshow",this.onBeforeShowItem,this);a==this.activeTab&&((a=this.stack.next())?this.setActiveTab(a):0<this.items.getCount()?this.setActiveTab(0):
this.setActiveTab(null));this.destroying||this.delegateUpdates()},onBeforeShowItem:function(a){if(a!=this.activeTab)return this.setActiveTab(a),!1},onItemDisabled:function(a){var b=this.getTabEl(a);b&&Ext.fly(b).addClass("x-item-disabled");this.stack.remove(a)},onItemEnabled:function(a){(a=this.getTabEl(a))&&Ext.fly(a).removeClass("x-item-disabled")},onItemTitleChanged:function(a){var b=this.getTabEl(a);b&&(Ext.fly(b).child("span.x-tab-strip-text",!0).innerHTML=a.title)},onItemIconChanged:function(a,
b,c){if(a=this.getTabEl(a))a=Ext.get(a),a.child("span.x-tab-strip-text").replaceClass(c,b),a[Ext.isEmpty(b)?"removeClass":"addClass"]("x-tab-with-icon")},getTabEl:function(a){return(a=this.getComponent(a))?a.tabEl:null},onResize:function(){Ext.TabPanel.superclass.onResize.apply(this,arguments);this.delegateUpdates()},beginUpdate:function(){this.suspendUpdates=!0},endUpdate:function(){this.suspendUpdates=!1;this.delegateUpdates()},hideTabStripItem:function(a){var a=this.getComponent(a),b=this.getTabEl(a);
b&&(b.style.display="none",this.delegateUpdates());this.stack.remove(a)},unhideTabStripItem:function(a){a=this.getComponent(a);if(a=this.getTabEl(a))a.style.display="",this.delegateUpdates()},delegateUpdates:function(){this.suspendUpdates||(this.resizeTabs&&this.rendered&&this.autoSizeTabs(),this.enableTabScroll&&this.rendered&&this.autoScrollTabs())},autoSizeTabs:function(){var a=this.items.length,b=this["bottom"!=this.tabPosition?"header":"footer"].dom.clientWidth;if(this.resizeTabs&&!(1>a)&&b){this.lastTabWidth=
a=Math.max(Math.min(Math.floor((b-4)/a)-this.tabMargin,this.tabWidth),this.minTabWidth);for(var b=this.strip.query("li:not(.x-tab-edge)"),c=0,d=b.length;c<d;c++){var g=b[c],h=Ext.fly(g).child(".x-tab-strip-inner",!0);h.style.width=a-(g.offsetWidth-h.offsetWidth)+"px"}}},adjustBodyWidth:function(a){this.header&&this.header.setWidth(a);this.footer&&this.footer.setWidth(a);return a},setActiveTab:function(a){a=this.getComponent(a);if(!1!==this.fireEvent("beforetabchange",this,a,this.activeTab))if(this.rendered){if(this.activeTab!=
a){if(this.activeTab){var b=this.getTabEl(this.activeTab);b&&Ext.fly(b).removeClass("x-tab-strip-active")}if(this.activeTab=a)b=this.getTabEl(a),Ext.fly(b).addClass("x-tab-strip-active"),this.stack.add(a),this.layout.setActiveItem(a),this.scrolling&&this.scrollToTab(a,this.animScroll);this.fireEvent("tabchange",this,a)}}else this.activeTab=a},getActiveTab:function(){return this.activeTab||null},getItem:function(a){return this.getComponent(a)},autoScrollTabs:function(){this.pos="bottom"==this.tabPosition?
this.footer:this.header;var a=this.items.length,b=this.pos.dom.clientWidth,c=this.stripWrap,d=c.dom,g=d.offsetWidth,h=this.getScrollPos(),l=this.edge.getOffsetsTo(this.stripWrap)[0]+h;if(this.enableTabScroll&&!(1>a||20>g))if(l<=b){if(d.scrollLeft=0,c.setWidth(b),this.scrolling&&(this.scrolling=!1,this.pos.removeClass("x-tab-scrolling"),this.scrollLeft.hide(),this.scrollRight.hide(),Ext.isAir||Ext.isWebKit))d.style.marginLeft="",d.style.marginRight=""}else{if(!this.scrolling&&(this.pos.addClass("x-tab-scrolling"),
Ext.isAir||Ext.isWebKit))d.style.marginLeft="18px",d.style.marginRight="18px";b-=c.getMargins("lr");c.setWidth(20<b?b:20);this.scrolling||(this.scrollLeft?(this.scrollLeft.show(),this.scrollRight.show()):this.createScrollers());this.scrolling=!0;h>l-b?d.scrollLeft=l-b:this.scrollToTab(this.activeTab,!1);this.updateScrollButtons()}},createScrollers:function(){this.pos.addClass("x-tab-scrolling-"+this.tabPosition);var a=this.stripWrap.dom.offsetHeight,b=this.pos.insertFirst({cls:"x-tab-scroller-left"});
b.setHeight(a);b.addClassOnOver("x-tab-scroller-left-over");this.leftRepeater=new Ext.util.ClickRepeater(b,{interval:this.scrollRepeatInterval,handler:this.onScrollLeft,scope:this});this.scrollLeft=b;b=this.pos.insertFirst({cls:"x-tab-scroller-right"});b.setHeight(a);b.addClassOnOver("x-tab-scroller-right-over");this.rightRepeater=new Ext.util.ClickRepeater(b,{interval:this.scrollRepeatInterval,handler:this.onScrollRight,scope:this});this.scrollRight=b},getScrollWidth:function(){return this.edge.getOffsetsTo(this.stripWrap)[0]+
this.getScrollPos()},getScrollPos:function(){return parseInt(this.stripWrap.dom.scrollLeft,10)||0},getScrollArea:function(){return parseInt(this.stripWrap.dom.clientWidth,10)||0},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},getScrollIncrement:function(){return this.scrollIncrement||(this.resizeTabs?this.lastTabWidth+2:100)},scrollToTab:function(a,b){if(a){var c=this.getTabEl(a),d=this.getScrollPos(),g=this.getScrollArea(),h=Ext.fly(c).getOffsetsTo(this.stripWrap)[0]+
d,c=h+c.offsetWidth;h<d?this.scrollTo(h,b):c>d+g&&this.scrollTo(c-g,b)}},scrollTo:function(a,b){this.stripWrap.scrollTo("left",a,b?this.getScrollAnim():!1);b||this.updateScrollButtons()},onWheel:function(a){var b=-1*a.getWheelDelta()*this.wheelIncrement;a.stopEvent();var a=this.getScrollPos(),b=a+b,c=this.getScrollWidth()-this.getScrollArea(),b=Math.max(0,Math.min(c,b));b!=a&&this.scrollTo(b,!1)},onScrollRight:function(){var a=this.getScrollWidth()-this.getScrollArea(),b=this.getScrollPos(),a=Math.min(a,
b+this.getScrollIncrement());a!=b&&this.scrollTo(a,this.animScroll)},onScrollLeft:function(){var a=this.getScrollPos(),b=Math.max(0,a-this.getScrollIncrement());b!=a&&this.scrollTo(b,this.animScroll)},updateScrollButtons:function(){var a=this.getScrollPos();this.scrollLeft[0===a?"addClass":"removeClass"]("x-tab-scroller-left-disabled");this.scrollRight[a>=this.getScrollWidth()-this.getScrollArea()?"addClass":"removeClass"]("x-tab-scroller-right-disabled")},beforeDestroy:function(){Ext.destroy(this.leftRepeater,
this.rightRepeater);this.deleteMembers("strip","edge","scrollLeft","scrollRight","stripWrap");this.activeTab=null;Ext.TabPanel.superclass.beforeDestroy.apply(this)}});Ext.reg("tabpanel",Ext.TabPanel);Ext.TabPanel.prototype.activate=Ext.TabPanel.prototype.setActiveTab;Ext.TabPanel.AccessStack=function(){var a=[];return{add:function(b){a.push(b);10<a.length&&a.shift()},remove:function(b){for(var c=[],d=0,g=a.length;d<g;d++)a[d]!=b&&c.push(a[d]);a=c},next:function(){return a.pop()}}};
Ext.Button=Ext.extend(Ext.BoxComponent,{hidden:!1,disabled:!1,pressed:!1,enableToggle:!1,menuAlign:"tl-bl?",type:"button",menuClassTarget:"tr:nth(2)",clickEvent:"click",handleMouseEvents:!0,tooltipType:"qtip",buttonSelector:"button:first-child",scale:"small",iconAlign:"left",arrowAlign:"right",initComponent:function(){Ext.Button.superclass.initComponent.call(this);this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");this.menu&&(this.menu=
Ext.menu.MenuMgr.get(this.menu));Ext.isString(this.toggleGroup)&&(this.enableToggle=!0)},getTemplateArgs:function(){return[this.type,"x-btn-"+this.scale+" x-btn-icon-"+this.scale+"-"+this.iconAlign,this.getMenuClass(),this.cls,this.id]},setButtonClass:function(){this.useSetClass&&(Ext.isEmpty(this.oldCls)||this.el.removeClass([this.oldCls,"x-btn-pressed"]),this.oldCls=this.iconCls||this.icon?this.text?"x-btn-text-icon":"x-btn-icon":"x-btn-noicon",this.el.addClass([this.oldCls,this.pressed?"x-btn-pressed":
null]))},getMenuClass:function(){return this.menu?"bottom"!=this.arrowAlign?"x-btn-arrow":"x-btn-arrow-bottom":""},onRender:function(a,b){this.template||(Ext.Button.buttonTemplate||(Ext.Button.buttonTemplate=new Ext.Template('<table id="{4}" cellspacing="0" class="x-btn {3}"><tbody class="{1}">','<tr><td class="x-btn-tl"><i>&#160;</i></td><td class="x-btn-tc"></td><td class="x-btn-tr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-ml"><i>&#160;</i></td><td class="x-btn-mc"><em class="{2}" unselectable="on"><button type="{0}"></button></em></td><td class="x-btn-mr"><i>&#160;</i></td></tr>',
'<tr><td class="x-btn-bl"><i>&#160;</i></td><td class="x-btn-bc"></td><td class="x-btn-br"><i>&#160;</i></td></tr>',"</tbody></table>"),Ext.Button.buttonTemplate.compile()),this.template=Ext.Button.buttonTemplate);var c;c=this.getTemplateArgs();c=b?this.template.insertBefore(b,c,!0):this.template.append(a,c,!0);this.btnEl=c.child(this.buttonSelector);this.mon(this.btnEl,{scope:this,focus:this.onFocus,blur:this.onBlur});this.initButtonEl(c,this.btnEl);Ext.ButtonToggleMgr.register(this)},initButtonEl:function(a,
b){this.el=a;this.setIcon(this.icon);this.setText(this.text);this.setIconClass(this.iconCls);Ext.isDefined(this.tabIndex)&&(b.dom.tabIndex=this.tabIndex);this.tooltip&&this.setTooltip(this.tooltip,!0);this.handleMouseEvents&&this.mon(a,{scope:this,mouseover:this.onMouseOver,mousedown:this.onMouseDown});this.menu&&this.mon(this.menu,{scope:this,show:this.onMenuShow,hide:this.onMenuHide});if(this.repeat){var c=new Ext.util.ClickRepeater(a,Ext.isObject(this.repeat)?this.repeat:{});this.mon(c,"click",
this.onClick,this)}this.mon(a,this.clickEvent,this.onClick,this)},afterRender:function(){Ext.Button.superclass.afterRender.call(this);this.useSetClass=!0;this.setButtonClass();this.doc=Ext.getDoc();this.doAutoWidth()},setIconClass:function(a){this.iconCls=a;this.el&&(this.btnEl.dom.className="",this.btnEl.addClass(["x-btn-text",a||""]),this.setButtonClass());return this},setTooltip:function(a,b){this.rendered?(b||this.clearTip(),Ext.isObject(a)?(Ext.QuickTips.register(Ext.apply({target:this.btnEl.id},
a)),this.tooltip=a):this.btnEl.dom[this.tooltipType]=a):this.tooltip=a;return this},clearTip:function(){Ext.isObject(this.tooltip)&&Ext.QuickTips.unregister(this.btnEl)},beforeDestroy:function(){this.rendered&&this.clearTip();this.menu&&!1!==this.destroyMenu&&Ext.destroy(this.menu);Ext.destroy(this.repeater)},onDestroy:function(){this.rendered&&(this.doc.un("mouseover",this.monitorMouseOver,this),this.doc.un("mouseup",this.onMouseUp,this),delete this.doc,delete this.btnEl,Ext.ButtonToggleMgr.unregister(this));
Ext.Button.superclass.onDestroy.call(this)},doAutoWidth:function(){if(!1!==this.autoWidth&&this.el&&this.text&&void 0===this.width){this.el.setWidth("auto");if(Ext.isIE7&&Ext.isStrict){var a=this.btnEl;a&&20<a.getWidth()&&(a.clip(),a.setWidth(Ext.util.TextMetrics.measure(a,this.text).width+a.getFrameWidth("lr")))}this.minWidth&&this.el.getWidth()<this.minWidth&&this.el.setWidth(this.minWidth)}},setHandler:function(a,b){this.handler=a;this.scope=b;return this},setText:function(a){this.text=a;this.el&&
(this.btnEl.update(a||"&#160;"),this.setButtonClass());this.doAutoWidth();return this},setIcon:function(a){this.icon=a;this.el&&(this.btnEl.setStyle("background-image",a?"url("+a+")":""),this.setButtonClass());return this},getText:function(){return this.text},toggle:function(a,b){a=void 0===a?!this.pressed:!!a;if(a!=this.pressed){if(this.rendered)this.el[a?"addClass":"removeClass"]("x-btn-pressed");this.pressed=a;b||(this.fireEvent("toggle",this,a),this.toggleHandler&&this.toggleHandler.call(this.scope||
this,this,a))}return this},onDisable:function(){this.onDisableChange(!0)},onEnable:function(){this.onDisableChange(!1)},onDisableChange:function(a){if(this.el){if(!Ext.isIE6||!this.text)this.el[a?"addClass":"removeClass"](this.disabledClass);this.el.dom.disabled=a}this.disabled=a},showMenu:function(){this.rendered&&this.menu&&(this.tooltip&&Ext.QuickTips.getQuickTip().cancelShow(this.btnEl),this.menu.isVisible()&&this.menu.hide(),this.menu.ownerCt=this,this.menu.show(this.el,this.menuAlign));return this},
hideMenu:function(){this.hasVisibleMenu()&&this.menu.hide();return this},hasVisibleMenu:function(){return this.menu&&this.menu.ownerCt==this&&this.menu.isVisible()},onClick:function(a){a&&a.preventDefault();0===a.button&&!this.disabled&&(this.enableToggle&&(!1!==this.allowDepress||!this.pressed)&&this.toggle(),this.menu&&(!this.hasVisibleMenu()&&!this.ignoreNextClick)&&this.showMenu(),this.fireEvent("click",this,a),this.handler&&this.handler.call(this.scope||this,this,a))},isMenuTriggerOver:function(a,
b){return this.menu&&!b},isMenuTriggerOut:function(a,b){return this.menu&&!b},onMouseOver:function(a){if(!this.disabled){var b=a.within(this.el,!0);b||(this.el.addClass("x-btn-over"),this.monitoringMouseOver||(this.doc.on("mouseover",this.monitorMouseOver,this),this.monitoringMouseOver=!0),this.fireEvent("mouseover",this,a));this.isMenuTriggerOver(a,b)&&this.fireEvent("menutriggerover",this,this.menu,a)}},monitorMouseOver:function(a){a.target!=this.el.dom&&!a.within(this.el)&&(this.monitoringMouseOver&&
(this.doc.un("mouseover",this.monitorMouseOver,this),this.monitoringMouseOver=!1),this.onMouseOut(a))},onMouseOut:function(a){var b=a.within(this.el)&&a.target!=this.el.dom;this.el.removeClass("x-btn-over");this.fireEvent("mouseout",this,a);this.isMenuTriggerOut(a,b)&&this.fireEvent("menutriggerout",this,this.menu,a)},focus:function(){this.btnEl.focus()},blur:function(){this.btnEl.blur()},onFocus:function(){this.disabled||this.el.addClass("x-btn-focus")},onBlur:function(){this.el.removeClass("x-btn-focus")},
getClickEl:function(){return this.el},onMouseDown:function(a){!this.disabled&&0===a.button&&(this.getClickEl(a).addClass("x-btn-click"),this.doc.on("mouseup",this.onMouseUp,this))},onMouseUp:function(a){0===a.button&&(this.getClickEl(a,!0).removeClass("x-btn-click"),this.doc.un("mouseup",this.onMouseUp,this))},onMenuShow:function(){this.menu.ownerCt==this&&(this.menu.ownerCt=this,this.ignoreNextClick=0,this.el.addClass("x-btn-menu-active"),this.fireEvent("menushow",this,this.menu))},onMenuHide:function(){this.menu.ownerCt==
this&&(this.el.removeClass("x-btn-menu-active"),this.ignoreNextClick=this.restoreClick.defer(250,this),this.fireEvent("menuhide",this,this.menu),delete this.menu.ownerCt)},restoreClick:function(){this.ignoreNextClick=0}});Ext.reg("button",Ext.Button);
Ext.ButtonToggleMgr=function(){function a(a,d){if(d)for(var g=b[a.toggleGroup],h=0,l=g.length;h<l;h++)g[h]!=a&&g[h].toggle(!1)}var b={};return{register:function(c){if(c.toggleGroup){var d=b[c.toggleGroup];d||(d=b[c.toggleGroup]=[]);d.push(c);c.on("toggle",a)}},unregister:function(c){if(c.toggleGroup){var d=b[c.toggleGroup];d&&(d.remove(c),c.un("toggle",a))}},getPressed:function(a){if(a=b[a])for(var d=0,g=a.length;d<g;d++)if(!0===a[d].pressed)return a[d];return null}}}();
Ext.SplitButton=Ext.extend(Ext.Button,{arrowSelector:"em",split:!0,initComponent:function(){Ext.SplitButton.superclass.initComponent.call(this);this.addEvents("arrowclick")},onRender:function(){Ext.SplitButton.superclass.onRender.apply(this,arguments);this.arrowTooltip&&(this.el.child(this.arrowSelector).dom[this.tooltipType]=this.arrowTooltip)},setArrowHandler:function(a,b){this.arrowHandler=a;this.scope=b},getMenuClass:function(){return"x-btn-split"+("bottom"==this.arrowAlign?"-bottom":"")},isClickOnArrow:function(a){if("bottom"!=
this.arrowAlign){var b=this.el.child("em.x-btn-split"),b=b.getRegion().right-b.getPadding("r");return a.getPageX()>b}return a.getPageY()>this.btnEl.getRegion().bottom},onClick:function(a){a.preventDefault();this.disabled||(this.isClickOnArrow(a)?(this.menu&&(!this.menu.isVisible()&&!this.ignoreNextClick)&&this.showMenu(),this.fireEvent("arrowclick",this,a),this.arrowHandler&&this.arrowHandler.call(this.scope||this,this,a)):(this.enableToggle&&this.toggle(),this.fireEvent("click",this,a),this.handler&&
this.handler.call(this.scope||this,this,a)))},isMenuTriggerOver:function(a){return this.menu&&a.target.tagName==this.arrowSelector},isMenuTriggerOut:function(a){return this.menu&&a.target.tagName!=this.arrowSelector}});Ext.reg("splitbutton",Ext.SplitButton);
Ext.CycleButton=Ext.extend(Ext.SplitButton,{getItemText:function(a){if(a&&!0===this.showText){var b="";this.prependText&&(b+=this.prependText);return b+=a.text}},setActiveItem:function(a,b){Ext.isObject(a)||(a=this.menu.getComponent(a));if(a){if(this.rendered){var c=this.getItemText(a);c&&this.setText(c);this.setIconClass(a.iconCls)}else this.text=this.getItemText(a),this.iconCls=a.iconCls;this.activeItem=a;a.checked||a.setChecked(!0,!1);this.forceIcon&&this.setIconClass(this.forceIcon);b||this.fireEvent("change",
this,a)}},getActiveItem:function(){return this.activeItem},initComponent:function(){this.addEvents("change");this.changeHandler&&(this.on("change",this.changeHandler,this.scope||this),delete this.changeHandler);this.itemCount=this.items.length;this.menu={cls:"x-cycle-menu",items:[]};var a=0;Ext.each(this.items,function(b,c){Ext.apply(b,{group:b.group||this.id,itemIndex:c,checkHandler:this.checkHandler,scope:this,checked:b.checked||!1});this.menu.items.push(b);b.checked&&(a=c)},this);Ext.CycleButton.superclass.initComponent.call(this);
this.on("click",this.toggleSelected,this);this.setActiveItem(a,!0)},checkHandler:function(a,b){b&&this.setActiveItem(a)},toggleSelected:function(){var a=this.menu;a.render();a.hasLayout||a.doLayout();for(var b,c=1;c<this.itemCount;c++)if(b=(this.activeItem.itemIndex+c)%this.itemCount,b=a.items.itemAt(b),!b.disabled){b.setChecked(!0);break}}});Ext.reg("cycle",Ext.CycleButton);
Ext.Toolbar=function(a){Ext.isArray(a)?a={items:a,layout:"toolbar"}:(a=Ext.apply({layout:"toolbar"},a),a.buttons&&(a.items=a.buttons));Ext.Toolbar.superclass.constructor.call(this,a)};
(function(){var a=Ext.Toolbar;Ext.extend(a,Ext.Container,{defaultType:"button",enableOverflow:!1,trackMenus:!0,internalDefaults:{removeMode:"container",hideParent:!0},toolbarCls:"x-toolbar",initComponent:function(){a.superclass.initComponent.call(this);this.addEvents("overflowchange")},onRender:function(a,c){this.el||(this.autoCreate||(this.autoCreate={cls:this.toolbarCls+" x-small-editor"}),this.el=a.createChild(Ext.apply({id:this.id},this.autoCreate),c),Ext.Toolbar.superclass.onRender.apply(this,
arguments))},lookupComponent:function(b){Ext.isString(b)?(b="-"==b?new a.Separator:" "==b?new a.Spacer:"->"==b?new a.Fill:new a.TextItem(b),this.applyDefaults(b)):b.isFormField||b.render?b=this.createComponent(b):b.tag?b=new a.Item({autoEl:b}):b.tagName?b=new a.Item({el:b}):Ext.isObject(b)&&(b=b.xtype?this.createComponent(b):this.constructButton(b));return b},applyDefaults:function(a){if(!Ext.isString(a)){var a=Ext.Toolbar.superclass.applyDefaults.call(this,a),c=this.internalDefaults;a.events?(Ext.applyIf(a.initialConfig,
c),Ext.apply(a,c)):Ext.applyIf(a,c)}return a},addSeparator:function(){return this.add(new a.Separator)},addSpacer:function(){return this.add(new a.Spacer)},addFill:function(){this.add(new a.Fill)},addElement:function(b){return this.addItem(new a.Item({el:b}))},addItem:function(a){return this.add.apply(this,arguments)},addButton:function(a){if(Ext.isArray(a)){for(var c=[],d=0,g=a.length;d<g;d++)c.push(this.addButton(a[d]));return c}return this.add(this.constructButton(a))},addText:function(b){return this.addItem(new a.TextItem(b))},
addDom:function(b){return this.add(new a.Item({autoEl:b}))},addField:function(a){return this.add(a)},insertButton:function(a,c){if(Ext.isArray(c)){for(var d=[],g=0,h=c.length;g<h;g++)d.push(this.insertButton(a+g,c[g]));return d}return Ext.Toolbar.superclass.insert.call(this,a,c)},trackMenu:function(a,c){if(this.trackMenus&&a.menu){var d=c?"mun":"mon";this[d](a,"menutriggerover",this.onButtonTriggerOver,this);this[d](a,"menushow",this.onButtonMenuShow,this);this[d](a,"menuhide",this.onButtonMenuHide,
this)}},constructButton:function(a){return a.events?a:this.createComponent(a,a.split?"splitbutton":this.defaultType)},onAdd:function(a){Ext.Toolbar.superclass.onAdd.call(this);this.trackMenu(a);this.disabled&&a.disable()},onRemove:function(a){Ext.Toolbar.superclass.onRemove.call(this);this.trackMenu(a,!0)},onDisable:function(){this.items.each(function(a){a.disable&&a.disable()})},onEnable:function(){this.items.each(function(a){a.enable&&a.enable()})},onButtonTriggerOver:function(a){this.activeMenuBtn&&
this.activeMenuBtn!=a&&(this.activeMenuBtn.hideMenu(),a.showMenu(),this.activeMenuBtn=a)},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(){delete this.activeMenuBtn}});Ext.reg("toolbar",Ext.Toolbar);a.Item=Ext.extend(Ext.BoxComponent,{hideParent:!0,enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.reg("tbitem",a.Item);a.Separator=Ext.extend(a.Item,{onRender:function(a,c){this.el=a.createChild({tag:"span",cls:"xtb-sep"},c)}});Ext.reg("tbseparator",a.Separator);
a.Spacer=Ext.extend(a.Item,{onRender:function(a,c){this.el=a.createChild({tag:"div",cls:"xtb-spacer",style:this.width?"width:"+this.width+"px":""},c)}});Ext.reg("tbspacer",a.Spacer);a.Fill=Ext.extend(a.Item,{render:Ext.emptyFn,isFill:!0});Ext.reg("tbfill",a.Fill);a.TextItem=Ext.extend(a.Item,{constructor:function(b){a.TextItem.superclass.constructor.call(this,Ext.isString(b)?{text:b}:b)},onRender:function(b,c){this.autoEl={cls:"xtb-text",html:this.text||""};a.TextItem.superclass.onRender.call(this,
b,c)},setText:function(a){this.rendered?this.el.update(a):this.text=a}});Ext.reg("tbtext",a.TextItem);a.Button=Ext.extend(Ext.Button,{});a.SplitButton=Ext.extend(Ext.SplitButton,{});Ext.reg("tbbutton",a.Button);Ext.reg("tbsplit",a.SplitButton)})();
Ext.ButtonGroup=Ext.extend(Ext.Panel,{baseCls:"x-btn-group",layout:"table",defaultType:"button",frame:!0,internalDefaults:{removeMode:"container",hideParent:!0},initComponent:function(){this.layoutConfig=this.layoutConfig||{};Ext.applyIf(this.layoutConfig,{columns:this.columns});this.title||this.addClass("x-btn-group-notitle");this.on("afterlayout",this.onAfterLayout,this);Ext.ButtonGroup.superclass.initComponent.call(this)},applyDefaults:function(a){var a=Ext.ButtonGroup.superclass.applyDefaults.call(this,
a),b=this.internalDefaults;a.events?(Ext.applyIf(a.initialConfig,b),Ext.apply(a,b)):Ext.applyIf(a,b);return a},onAfterLayout:function(){var a=this.body.getFrameWidth("lr")+this.body.dom.firstChild.offsetWidth;this.body.setWidth(a);this.el.setWidth(a+this.getFrameWidth())}});Ext.reg("buttongroup",Ext.ButtonGroup);
(function(){var a=Ext.Toolbar;Ext.PagingToolbar=Ext.extend(Ext.Toolbar,{pageSize:20,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",initComponent:function(){var b=[this.first=new a.Button({tooltip:this.firstText,overflowText:this.firstText,iconCls:"x-tbar-page-first",disabled:!0,handler:this.moveFirst,scope:this}),this.prev=
new a.Button({tooltip:this.prevText,overflowText:this.prevText,iconCls:"x-tbar-page-prev",disabled:!0,handler:this.movePrevious,scope:this}),"-",this.beforePageText,this.inputItem=new Ext.form.NumberField({cls:"x-tbar-page-number",allowDecimals:!1,allowNegative:!1,enableKeyEvents:!0,selectOnFocus:!0,submitValue:!1,listeners:{scope:this,keydown:this.onPagingKeyDown,blur:this.onPagingBlur}}),this.afterTextItem=new a.TextItem({text:String.format(this.afterPageText,1)}),"-",this.next=new a.Button({tooltip:this.nextText,
overflowText:this.nextText,iconCls:"x-tbar-page-next",disabled:!0,handler:this.moveNext,scope:this}),this.last=new a.Button({tooltip:this.lastText,overflowText:this.lastText,iconCls:"x-tbar-page-last",disabled:!0,handler:this.moveLast,scope:this}),"-",this.refresh=new a.Button({tooltip:this.refreshText,overflowText:this.refreshText,iconCls:"x-tbar-loading",handler:this.doRefresh,scope:this})],c=this.items||this.buttons||[];this.items=this.prependButtons?c.concat(b):b.concat(c);delete this.buttons;
this.displayInfo&&(this.items.push("->"),this.items.push(this.displayItem=new a.TextItem({})));Ext.PagingToolbar.superclass.initComponent.call(this);this.addEvents("change","beforechange");this.on("afterlayout",this.onFirstLayout,this,{single:!0});this.cursor=0;this.bindStore(this.store,!0)},onFirstLayout:function(){this.dsLoaded&&this.onLoad.apply(this,this.dsLoaded)},updateInfo:function(){if(this.displayItem){var a=this.store.getCount(),a=0==a?this.emptyMsg:String.format(this.displayMsg,this.cursor+
1,this.cursor+a,this.store.getTotalCount());this.displayItem.setText(a)}},onLoad:function(a,c,d){this.rendered?(a=this.getParams(),this.cursor=d.params&&d.params[a.start]?d.params[a.start]:0,d=this.getPageData(),a=d.activePage,c=d.pages,this.afterTextItem.setText(String.format(this.afterPageText,d.pages)),this.inputItem.setValue(a),this.first.setDisabled(1==a),this.prev.setDisabled(1==a),this.next.setDisabled(a==c),this.last.setDisabled(a==c),this.refresh.enable(),this.updateInfo(),this.fireEvent("change",
this,d)):this.dsLoaded=[a,c,d]},getPageData:function(){var a=this.store.getTotalCount();return{total:a,activePage:Math.ceil((this.cursor+this.pageSize)/this.pageSize),pages:a<this.pageSize?1:Math.ceil(a/this.pageSize)}},changePage:function(a){this.doLoad(((a-1)*this.pageSize).constrain(0,this.store.getTotalCount()))},onLoadError:function(){this.rendered&&this.refresh.enable()},readPage:function(a){var c=this.inputItem.getValue(),d;return!c||isNaN(d=parseInt(c,10))?(this.inputItem.setValue(a.activePage),
!1):d},onPagingFocus:function(){this.inputItem.select()},onPagingBlur:function(){this.inputItem.setValue(this.getPageData().activePage)},onPagingKeyDown:function(a,c){var d=c.getKey(),g=this.getPageData(),h;if(d==c.RETURN)c.stopEvent(),h=this.readPage(g),!1!==h&&(h=Math.min(Math.max(1,h),g.pages)-1,this.doLoad(h*this.pageSize));else if(d==c.HOME||d==c.END)c.stopEvent(),h=d==c.HOME?1:g.pages,a.setValue(h);else if(d==c.UP||d==c.PAGEUP||d==c.DOWN||d==c.PAGEDOWN)if(c.stopEvent(),h=this.readPage(g)){var l=
c.shiftKey?10:1;if(d==c.DOWN||d==c.PAGEDOWN)l*=-1;h+=l;1<=h&h<=g.pages&&a.setValue(h)}},getParams:function(){return this.paramNames||this.store.paramNames},beforeLoad:function(){this.rendered&&this.refresh&&this.refresh.disable()},doLoad:function(a){var c={},d=this.getParams();c[d.start]=a;c[d.limit]=this.pageSize;!1!==this.fireEvent("beforechange",this,c)&&this.store.load({params:c})},moveFirst:function(){this.doLoad(0)},movePrevious:function(){this.doLoad(Math.max(0,this.cursor-this.pageSize))},
moveNext:function(){this.doLoad(this.cursor+this.pageSize)},moveLast:function(){var a=this.store.getTotalCount(),c=a%this.pageSize;this.doLoad(c?a-c:a-this.pageSize)},doRefresh:function(){this.doLoad(this.cursor)},bindStore:function(a,c){var d;!c&&this.store&&(a!==this.store&&this.store.autoDestroy?this.store.destroy():(this.store.un("beforeload",this.beforeLoad,this),this.store.un("load",this.onLoad,this),this.store.un("exception",this.onLoadError,this)),a||(this.store=null));a&&(a=Ext.StoreMgr.lookup(a),
a.on({scope:this,beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}),d=!0);this.store=a;if(d)this.onLoad(a,null,{})},unbind:function(){this.bindStore(null)},bind:function(a){this.bindStore(a)},onDestroy:function(){this.bindStore(null);Ext.PagingToolbar.superclass.onDestroy.call(this)}})})();Ext.reg("paging",Ext.PagingToolbar);
Ext.History=function(){function a(){var a=top.location.href,b=a.indexOf("#");return 0<=b?a.substr(b+1):null}function b(a){a=['<html><body><div id="state">',Ext.util.Format.htmlEncode(a),"</div></body></html>"].join("");try{var b=d.contentWindow.document;b.open();b.write(a);b.close();return!0}catch(c){return!1}}function c(){if(!d.contentWindow||!d.contentWindow.document)setTimeout(c,10);else{var n=d.contentWindow.document,q=n.getElementById("state"),r=q?q.innerText:null,s=a();setInterval(function(){n=
d.contentWindow.document;var c=(q=n.getElementById("state"))?q.innerText:null,h=a();c!==r?(l=c=r=c,Ext.History.fireEvent("change",c),s=top.location.hash=r,g.value=l):h!==s&&(s=h,b(h))},50);h=!0;Ext.History.fireEvent("ready",Ext.History)}}var d,g,h=!1,l;return{fieldId:"x-history-field",iframeId:"x-history-frame",events:{},init:function(b,q){if(h)Ext.callback(b,q,[this]);else if(Ext.isReady){g=Ext.getDom(Ext.History.fieldId);Ext.isIE&&(d=Ext.getDom(Ext.History.iframeId));this.addEvents("ready","change");
if(b)this.on("ready",b,q,{single:!0});l=g.value?g.value:a();if(Ext.isIE)c();else{var r=a();setInterval(function(){var b=a();b!==r&&(l=b=r=b,Ext.History.fireEvent("change",b),g.value=l)},50);h=!0;Ext.History.fireEvent("ready",Ext.History)}}else Ext.onReady(function(){Ext.History.init(b,q)})},add:function(a,c){if(!1!==c&&this.getToken()==a)return!0;if(Ext.isIE)return b(a);top.location.hash=a;return!0},back:function(){history.go(-1)},forward:function(){history.go(1)},getToken:function(){return h?l:a()}}}();
Ext.apply(Ext.History,new Ext.util.Observable);
Ext.Tip=Ext.extend(Ext.Panel,{minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",autoRender:!0,quickShowInterval:250,frame:!0,hidden:!0,baseCls:"x-tip",floating:{shadow:!0,shim:!0,useDisplay:!0,constrain:!1},autoHeight:!0,closeAction:"hide",initComponent:function(){Ext.Tip.superclass.initComponent.call(this);this.closable&&!this.title&&(this.elements+=",header")},afterRender:function(){Ext.Tip.superclass.afterRender.call(this);this.closable&&this.addTool({id:"close",handler:this[this.closeAction],
scope:this})},showAt:function(a){Ext.Tip.superclass.show.call(this);!1!==this.measureWidth&&(!this.initialConfig||"number"!=typeof this.initialConfig.width)&&this.doAutoWidth();this.constrainPosition&&(a=this.el.adjustForConstraints(a));this.setPagePosition(a[0],a[1])},doAutoWidth:function(a){var a=a||0,b=this.body.getTextWidth();this.title&&(b=Math.max(b,this.header.child("span").getTextWidth(this.title)));b+=this.getFrameWidth()+(this.closable?20:0)+this.body.getPadding("lr")+a;this.setWidth(b.constrain(this.minWidth,
this.maxWidth));Ext.isIE7&&!this.repainted&&(this.el.repaint(),this.repainted=!0)},showBy:function(a,b){this.rendered||this.render(Ext.getBody());this.showAt(this.el.getAlignToXY(a,b||this.defaultAlign))},initDraggable:function(){this.dd=new Ext.Tip.DD(this,"boolean"==typeof this.draggable?null:this.draggable);this.header.addClass("x-tip-draggable")}});Ext.reg("tip",Ext.Tip);
Ext.Tip.DD=function(a,b){Ext.apply(this,b);this.tip=a;Ext.Tip.DD.superclass.constructor.call(this,a.el.id,"WindowDD-"+a.id);this.setHandleElId(a.header.id);this.scroll=!1};Ext.extend(Ext.Tip.DD,Ext.dd.DD,{moveOnly:!0,scroll:!1,headerOffsets:[100,25],startDrag:function(){this.tip.el.disableShadow()},endDrag:function(){this.tip.el.enableShadow(!0)}});
Ext.ToolTip=Ext.extend(Ext.Tip,{showDelay:500,hideDelay:200,dismissDelay:5E3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,constrainPosition:!1,initComponent:function(){Ext.ToolTip.superclass.initComponent.call(this);this.lastActive=new Date;this.initTarget(this.target);this.origAnchor=this.anchor},onRender:function(a,b){Ext.ToolTip.superclass.onRender.call(this,a,b);this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl=this.el.createChild({cls:"x-tip-anchor "+this.anchorCls})},
afterRender:function(){Ext.ToolTip.superclass.afterRender.call(this);this.anchorEl.setStyle("z-index",this.el.getZIndex()+1)},initTarget:function(a){if(a=Ext.get(a)){if(this.target){var b=Ext.get(this.target);this.mun(b,"mouseover",this.onTargetOver,this);this.mun(b,"mouseout",this.onTargetOut,this);this.mun(b,"mousemove",this.onMouseMove,this)}this.mon(a,{mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this});this.target=a}this.anchor&&(this.anchorTarget=this.target)},
onMouseMove:function(a){var b=this.delegate?a.getTarget(this.delegate):this.triggerElement=!0;b?(this.targetXY=a.getXY(),b===this.triggerElement?!this.hidden&&this.trackMouse&&this.setPagePosition(this.getTargetXY()):(this.hide(),this.lastActive=new Date(0),this.onTargetOver(a))):!this.closable&&this.isVisible()&&this.hide()},getTargetXY:function(){this.delegate&&(this.anchorTarget=this.triggerElement);if(this.anchor){this.targetCounter++;var a=this.getOffsets(),b=this.anchorToTarget&&!this.trackMouse?
this.el.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY,c=Ext.lib.Dom.getViewWidth()-5,d=Ext.lib.Dom.getViewHeight()-5,g=document.documentElement,h=document.body,l=(g.scrollLeft||h.scrollLeft||0)+5,g=(g.scrollTop||h.scrollTop||0)+5,a=[b[0]+a[0],b[1]+a[1]],b=this.getSize();this.anchorEl.removeClass(this.anchorCls);if(2>this.targetCounter){if(a[0]<l)return this.anchorToTarget&&(this.defaultAlign="l-r",this.mouseOffset&&(this.mouseOffset[0]*=-1)),this.anchor="left",this.getTargetXY();
if(a[0]+b.width>c)return this.anchorToTarget&&(this.defaultAlign="r-l",this.mouseOffset&&(this.mouseOffset[0]*=-1)),this.anchor="right",this.getTargetXY();if(a[1]<g)return this.anchorToTarget&&(this.defaultAlign="t-b",this.mouseOffset&&(this.mouseOffset[1]*=-1)),this.anchor="top",this.getTargetXY();if(a[1]+b.height>d)return this.anchorToTarget&&(this.defaultAlign="b-t",this.mouseOffset&&(this.mouseOffset[1]*=-1)),this.anchor="bottom",this.getTargetXY()}this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();
this.anchorEl.addClass(this.anchorCls);this.targetCounter=0;return a}c=this.getMouseOffset();return[this.targetXY[0]+c[0],this.targetXY[1]+c[1]]},getMouseOffset:function(){var a=this.anchor?[0,0]:[15,18];this.mouseOffset&&(a[0]+=this.mouseOffset[0],a[1]+=this.mouseOffset[1]);return a},getAnchorPosition:function(){if(this.anchor)this.tipAnchor=this.anchor.charAt(0);else{var a=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!a)throw"AnchorTip.defaultAlign is invalid";this.tipAnchor=a[1].charAt(0)}switch(this.tipAnchor){case "t":return"top";
case "b":return"bottom";case "r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case "top":return"tl-bl";case "left":return"tl-tr";case "right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var a;a=this.getAnchorPosition().charAt(0);if(this.anchorToTarget&&!this.trackMouse)switch(a){case "t":a=[0,9];break;case "b":a=[0,-13];break;case "r":a=[-13,0];break;default:a=[9,0]}else switch(a){case "t":a=[-15-this.anchorOffset,30];break;case "b":a=[-19-this.anchorOffset,
-13-this.el.dom.offsetHeight];break;case "r":a=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:a=[25,-13-this.anchorOffset]}var b=this.getMouseOffset();a[0]+=b[0];a[1]+=b[1];return a},onTargetOver:function(a){if(!this.disabled&&!a.within(this.target.dom,!0)){var b=a.getTarget(this.delegate);b&&(this.triggerElement=b,this.clearTimer("hide"),this.targetXY=a.getXY(),this.delayShow())}},delayShow:function(){this.hidden&&!this.showTimer?this.lastActive.getElapsed()<this.quickShowInterval?
this.show():this.showTimer=this.show.defer(this.showDelay,this):!this.hidden&&!1!==this.autoHide&&this.show()},onTargetOut:function(a){!this.disabled&&!a.within(this.target.dom,!0)&&(this.clearTimer("show"),!1!==this.autoHide&&this.delayHide())},delayHide:function(){!this.hidden&&!this.hideTimer&&(this.hideTimer=this.hide.defer(this.hideDelay,this))},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date;this.anchorEl&&this.anchorEl.hide();Ext.ToolTip.superclass.hide.call(this);delete this.triggerElement},
show:function(){this.anchor&&(this.showAt([-1E3,-1E3]),this.origConstrainPosition=this.constrainPosition,this.constrainPosition=!1,this.anchor=this.origAnchor);this.showAt(this.getTargetXY());this.anchor?(this.syncAnchor(),this.anchorEl.show(),this.constrainPosition=this.origConstrainPosition):this.anchorEl.hide()},showAt:function(a){this.lastActive=new Date;this.clearTimers();Ext.ToolTip.superclass.showAt.call(this,a);this.dismissDelay&&!1!==this.autoHide&&(this.dismissTimer=this.hide.defer(this.dismissDelay,
this));this.anchor&&!this.anchorEl.isVisible()&&(this.syncAnchor(),this.anchorEl.show())},syncAnchor:function(){var a,b,c;switch(this.tipAnchor.charAt(0)){case "t":a="b";b="tl";c=[20+this.anchorOffset,2];break;case "r":a="l";b="tr";c=[-2,11+this.anchorOffset];break;case "b":a="t";b="bl";c=[20+this.anchorOffset,-2];break;default:a="r",b="tl",c=[2,11+this.anchorOffset]}this.anchorEl.alignTo(this.el,a+"-"+b,c)},setPagePosition:function(a,b){Ext.ToolTip.superclass.setPagePosition.call(this,a,b);this.anchor&&
this.syncAnchor()},clearTimer:function(a){a+="Timer";clearTimeout(this[a]);delete this[a]},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide")},onShow:function(){Ext.ToolTip.superclass.onShow.call(this);Ext.getDoc().on("mousedown",this.onDocMouseDown,this)},onHide:function(){Ext.ToolTip.superclass.onHide.call(this);Ext.getDoc().un("mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(a){!0!==this.autoHide&&(!this.closable&&!a.within(this.el.dom))&&
(this.disable(),this.doEnable.defer(100,this))},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.clearTimers();this.hide()},adjustPosition:function(a,b){if(this.contstrainPosition){var c=this.targetXY[1],d=this.getSize().height;b<=c&&b+d>=c&&(b=c-d-5)}return{x:a,y:b}},beforeDestroy:function(){this.clearTimers();Ext.destroy(this.anchorEl);delete this.anchorEl;delete this.target;delete this.anchorTarget;delete this.triggerElement;Ext.ToolTip.superclass.beforeDestroy.call(this)},
onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);Ext.ToolTip.superclass.onDestroy.call(this)}});Ext.reg("tooltip",Ext.ToolTip);
Ext.QuickTip=Ext.extend(Ext.ToolTip,{interceptTitles:!1,tagConfig:{namespace:"ext",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};Ext.QuickTip.superclass.initComponent.call(this)},register:function(a){for(var b=Ext.isArray(a)?a:arguments,c=0,d=b.length;c<d;c++){var g=b[c],h=g.target;if(h)if(Ext.isArray(h))for(var l=0,n=h.length;l<n;l++)this.targets[Ext.id(h[l])]=
g;else this.targets[Ext.id(h)]=g}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this.activeTarget,a=Ext.get(a).dom;this.isVisible()?b&&b.el==a&&this.hide():b&&b.el==a&&this.clearTimer("show")},getTipCfg:function(a){var b=a.getTarget(),c;this.interceptTitles&&b.title&&Ext.isString(b.title)?(c=b.title,b.qtip=c,b.removeAttribute("title"),a.preventDefault()):(a=this.tagConfig,c=b.qtip||Ext.fly(b).getAttribute(a.attribute,a.namespace));return c},onTargetOver:function(a){if(!this.disabled){this.targetXY=
a.getXY();var b=a.getTarget();if(b&&!(1!==b.nodeType||b==document||b==document.body))if(this.activeTarget&&(b==this.activeTarget.el||Ext.fly(this.activeTarget.el).contains(b)))this.clearTimer("hide"),this.show();else if(b&&this.targets[b.id]){this.activeTarget=this.targets[b.id];this.activeTarget.el=b;if(this.anchor=this.activeTarget.anchor)this.anchorTarget=b;this.delayShow()}else{var c=Ext.fly(b),d=this.tagConfig,g=d.namespace;if(a=this.getTipCfg(a)){var h=c.getAttribute(d.hide,g);this.activeTarget=
{el:b,text:a,width:c.getAttribute(d.width,g),autoHide:"user"!=h&&"false"!==h,title:c.getAttribute(d.title,g),cls:c.getAttribute(d.cls,g),align:c.getAttribute(d.align,g)};if(this.anchor=c.getAttribute(d.anchor,g))this.anchorTarget=b;this.delayShow()}}}},onTargetOut:function(a){if(!this.activeTarget||!a.within(this.activeTarget.el)||this.getTipCfg(a))this.clearTimer("show"),!1!==this.autoHide&&this.delayHide()},showAt:function(a){var b=this.activeTarget;b&&(this.rendered||(this.render(Ext.getBody()),
this.activeTarget=b),b.width?(this.setWidth(b.width),this.body.setWidth(this.adjustBodyWidth(b.width-this.getFrameWidth())),this.measureWidth=!1):this.measureWidth=!0,this.setTitle(b.title||""),this.body.update(b.text),this.autoHide=b.autoHide,this.dismissDelay=b.dismissDelay||this.dismissDelay,this.lastCls&&(this.el.removeClass(this.lastCls),delete this.lastCls),b.cls&&(this.el.addClass(b.cls),this.lastCls=b.cls),this.anchor?this.constrainPosition=!1:b.align?(a=this.el.getAlignToXY(b.el,b.align),
this.constrainPosition=!1):this.constrainPosition=!0);Ext.QuickTip.superclass.showAt.call(this,a)},hide:function(){delete this.activeTarget;Ext.QuickTip.superclass.hide.call(this)}});Ext.reg("quicktip",Ext.QuickTip);
Ext.QuickTips=function(){var a,b=[];return{init:function(b){if(!a)if(Ext.isReady)a=new Ext.QuickTip({elements:"header,body"}),!1!==b&&a.render(Ext.getBody());else Ext.onReady(function(){Ext.QuickTips.init(b)})},enable:function(){a&&(b.pop(),1>b.length&&a.enable())},disable:function(){a&&a.disable();b.push(1)},isEnabled:function(){return void 0!==a&&!a.disabled},getQuickTip:function(){return a},register:function(){a.register.apply(a,arguments)},unregister:function(){a.unregister.apply(a,arguments)},
tips:function(){a.register.apply(a,arguments)}}}();Ext.slider.Tip=Ext.extend(Ext.Tip,{minWidth:10,offsets:[0,-10],init:function(a){a.on({scope:this,dragstart:this.onSlide,drag:this.onSlide,dragend:this.hide,destroy:this.destroy})},onSlide:function(a,b,c){this.show();this.body.update(this.getText(c));this.doAutoWidth();this.el.alignTo(c.el,"b-t?",this.offsets)},getText:function(a){return String(a.value)}});Ext.ux.SliderTip=Ext.slider.Tip;
Ext.tree.TreePanel=Ext.extend(Ext.Panel,{rootVisible:!0,animate:Ext.enableFx,lines:!0,enableDD:!1,hlDrop:Ext.enableFx,pathSeparator:"/",bubbleEvents:[],initComponent:function(){Ext.tree.TreePanel.superclass.initComponent.call(this);this.eventModel||(this.eventModel=new Ext.tree.TreeEventModel(this));var a=this.loader;a?Ext.isObject(a)&&!a.load&&(a=new Ext.tree.TreeLoader(a)):a=new Ext.tree.TreeLoader({dataUrl:this.dataUrl,requestMethod:this.requestMethod});this.loader=a;this.nodeHash={};this.root&&
(a=this.root,delete this.root,this.setRootNode(a));this.addEvents("append","remove","movenode","insert","beforeappend","beforeremove","beforemovenode","beforeinsert","beforeload","load","textchange","beforeexpandnode","beforecollapsenode","expandnode","disabledchange","collapsenode","beforeclick","click","containerclick","checkchange","beforedblclick","dblclick","containerdblclick","contextmenu","containercontextmenu","beforechildrenrendered","startdrag","enddrag","dragdrop","beforenodedrop","nodedrop",
"nodedragover");if(this.singleExpand)this.on("beforeexpandnode",this.restrictExpand,this)},proxyNodeEvent:function(a,b,c,d,g,h,l){if("collapse"==a||"expand"==a||"beforecollapse"==a||"beforeexpand"==a||"move"==a||"beforemove"==a)a+="node";return this.fireEvent(a,b,c,d,g,h,l)},getRootNode:function(){return this.root},setRootNode:function(a){this.destroyRoot();a.render||(a=this.loader.createNode(a));this.root=a;a.ownerTree=this;a.isRoot=!0;this.registerNode(a);if(!this.rootVisible){var b=a.attributes.uiProvider;
a.ui=b?new b(a):new Ext.tree.RootTreeNodeUI(a)}this.innerCt&&(this.clearInnerCt(),this.renderRoot());return a},clearInnerCt:function(){this.innerCt.update("")},renderRoot:function(){this.root.render();this.rootVisible||this.root.renderChildren()},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a){this.nodeHash[a.id]=a},unregisterNode:function(a){delete this.nodeHash[a.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"},restrictExpand:function(a){var b=a.parentNode;
b&&(b.expandedChild&&b.expandedChild.parentNode==b&&b.expandedChild.collapse(),b.expandedChild=a)},getChecked:function(a,b){var b=b||this.root,c=[];b.cascade(function(){this.attributes.checked&&c.push(!a?this:"id"==a?this.id:this.attributes[a])});return c},getLoader:function(){return this.loader},expandAll:function(){this.root.expand(!0)},collapseAll:function(){this.root.collapse(!0)},getSelectionModel:function(){this.selModel||(this.selModel=new Ext.tree.DefaultSelectionModel);return this.selModel},
expandPath:function(a,b,c){var b=b||"id",d=a.split(this.pathSeparator),g=this.root;if(g.attributes[b]!=d[1])c&&c(!1,null);else{var h=1,l=function(){if(++h==d.length)c&&c(!0,g);else{var a=g.findChild(b,d[h]);a?(g=a,a.expand(!1,!1,l)):c&&c(!1,g)}};g.expand(!1,!1,l)}},selectPath:function(a,b,c){var b=b||"id",a=a.split(this.pathSeparator),d=a.pop();1<a.length?this.expandPath(a.join(this.pathSeparator),b,function(a,h){if(a&&h){var l=h.findChild(b,d);l?(l.select(),c&&c(!0,l)):c&&c(!1,l)}else c&&c(!1,l)}):
(this.root.select(),c&&c(!0,this.root))},getTreeEl:function(){return this.body},onRender:function(a,b){Ext.tree.TreePanel.superclass.onRender.call(this,a,b);this.el.addClass("x-tree");this.innerCt=this.body.createChild({tag:"ul",cls:"x-tree-root-ct "+(this.useArrows?"x-tree-arrows":this.lines?"x-tree-lines":"x-tree-no-lines")})},initEvents:function(){Ext.tree.TreePanel.superclass.initEvents.call(this);this.containerScroll&&Ext.dd.ScrollManager.register(this.body);if((this.enableDD||this.enableDrop)&&
!this.dropZone)this.dropZone=new Ext.tree.TreeDropZone(this,this.dropConfig||{ddGroup:this.ddGroup||"TreeDD",appendOnly:!0===this.ddAppendOnly});if((this.enableDD||this.enableDrag)&&!this.dragZone)this.dragZone=new Ext.tree.TreeDragZone(this,this.dragConfig||{ddGroup:this.ddGroup||"TreeDD",scroll:this.ddScroll});this.getSelectionModel().init(this)},afterRender:function(){Ext.tree.TreePanel.superclass.afterRender.call(this);this.renderRoot()},beforeDestroy:function(){this.rendered&&(Ext.dd.ScrollManager.unregister(this.body),
Ext.destroy(this.dropZone,this.dragZone));this.destroyRoot();Ext.destroy(this.loader);this.nodeHash=this.root=this.loader=null;Ext.tree.TreePanel.superclass.beforeDestroy.call(this)},destroyRoot:function(){this.root&&this.root.destroy&&this.root.destroy(!0)}});Ext.tree.TreePanel.nodeTypes={};Ext.reg("treepanel",Ext.tree.TreePanel);Ext.tree.TreeEventModel=function(a){this.tree=a;this.tree.on("render",this.initEvents,this)};
Ext.tree.TreeEventModel.prototype={initEvents:function(){var a=this.tree;!1!==a.trackMouseOver&&a.mon(a.innerCt,{scope:this,mouseover:this.delegateOver,mouseout:this.delegateOut});a.mon(a.getTreeEl(),{scope:this,click:this.delegateClick,dblclick:this.delegateDblClick,contextmenu:this.delegateContextMenu})},getNode:function(a){if(a=a.getTarget(".x-tree-node-el",10))if(a=Ext.fly(a,"_treeEvents").getAttribute("tree-node-id","ext"))return this.tree.getNodeById(a);return null},getNodeTarget:function(a){var b=
a.getTarget(".x-tree-node-icon",1);b||(b=a.getTarget(".x-tree-node-el",6));return b},delegateOut:function(a,b){if(this.beforeEvent(a)){if(a.getTarget(".x-tree-ec-icon",1)){var c=this.getNode(a);this.onIconOut(a,c);c==this.lastEcOver&&delete this.lastEcOver}if((b=this.getNodeTarget(a))&&!a.within(b,!0))this.onNodeOut(a,this.getNode(a))}},delegateOver:function(a){if(this.beforeEvent(a)&&(Ext.isGecko&&!this.trackingDoc&&(Ext.getBody().on("mouseover",this.trackExit,this),this.trackingDoc=!0),this.lastEcOver&&
(this.onIconOut(a,this.lastEcOver),delete this.lastEcOver),a.getTarget(".x-tree-ec-icon",1)&&(this.lastEcOver=this.getNode(a),this.onIconOver(a,this.lastEcOver)),this.getNodeTarget(a)))this.onNodeOver(a,this.getNode(a))},trackExit:function(a){if(this.lastOverNode){if(this.lastOverNode.ui&&!a.within(this.lastOverNode.ui.getEl()))this.onNodeOut(a,this.lastOverNode);delete this.lastOverNode;Ext.getBody().un("mouseover",this.trackExit,this);this.trackingDoc=!1}},delegateClick:function(a){if(this.beforeEvent(a))if(a.getTarget("input[type=checkbox]",
1))this.onCheckboxClick(a,this.getNode(a));else if(a.getTarget(".x-tree-ec-icon",1))this.onIconClick(a,this.getNode(a));else{if(this.getNodeTarget(a))this.onNodeClick(a,this.getNode(a))}else this.checkContainerEvent(a,"click")},delegateDblClick:function(a){if(this.beforeEvent(a)){if(this.getNodeTarget(a))this.onNodeDblClick(a,this.getNode(a))}else this.checkContainerEvent(a,"dblclick")},delegateContextMenu:function(a){if(this.beforeEvent(a)){if(this.getNodeTarget(a))this.onNodeContextMenu(a,this.getNode(a))}else this.checkContainerEvent(a,
"contextmenu")},checkContainerEvent:function(a,b){if(this.disabled)return a.stopEvent(),!1;this.onContainerEvent(a,b)},onContainerEvent:function(a,b){this.tree.fireEvent("container"+b,this.tree,a)},onNodeClick:function(a,b){b.ui.onClick(a)},onNodeOver:function(a,b){this.lastOverNode=b;b.ui.onOver(a)},onNodeOut:function(a,b){b.ui.onOut(a)},onIconOver:function(a,b){b.ui.addClass("x-tree-ec-over")},onIconOut:function(a,b){b.ui.removeClass("x-tree-ec-over")},onIconClick:function(a,b){b.ui.ecClick(a)},
onCheckboxClick:function(a,b){b.ui.onCheckChange(a)},onNodeDblClick:function(a,b){b.ui.onDblClick(a)},onNodeContextMenu:function(a,b){b.ui.onContextMenu(a)},beforeEvent:function(a){var b=this.getNode(a);return this.disabled||!b||!b.ui?(a.stopEvent(),!1):!0},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}};
Ext.tree.DefaultSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(a){this.selNode=null;this.addEvents("selectionchange","beforeselect");Ext.apply(this,a);Ext.tree.DefaultSelectionModel.superclass.constructor.call(this)},init:function(a){this.tree=a;a.mon(a.getTreeEl(),"keydown",this.onKeyDown,this);a.on("click",this.onNodeClick,this)},onNodeClick:function(a){this.select(a)},select:function(a,b){if(!Ext.fly(a.ui.wrap).isVisible()&&b)return b.call(this,a);var c=this.selNode;if(a==
c)a.ui.onSelectedChange(!0);else if(!1!==this.fireEvent("beforeselect",this,a,c)){if(c&&c.ui)c.ui.onSelectedChange(!1);this.selNode=a;a.ui.onSelectedChange(!0);this.fireEvent("selectionchange",this,a,c)}return a},unselect:function(a,b){this.selNode==a&&this.clearSelections(b)},clearSelections:function(a){var b=this.selNode;b&&(b.ui.onSelectedChange(!1),this.selNode=null,!0!==a&&this.fireEvent("selectionchange",this,null));return b},getSelectedNode:function(){return this.selNode},isSelected:function(a){return this.selNode==
a},selectPrevious:function(a){if(!(a=a||this.selNode||this.lastSelNode))return null;var b=a.previousSibling;if(b){if(!b.isExpanded()||1>b.childNodes.length)return this.select(b,this.selectPrevious);for(a=b.lastChild;a&&a.isExpanded()&&Ext.fly(a.ui.wrap).isVisible()&&0<a.childNodes.length;)a=a.lastChild;return this.select(a,this.selectPrevious)}return a.parentNode&&(this.tree.rootVisible||!a.parentNode.isRoot)?this.select(a.parentNode,this.selectPrevious):null},selectNext:function(a){if(!(a=a||this.selNode||
this.lastSelNode))return null;if(a.firstChild&&a.isExpanded()&&Ext.fly(a.ui.wrap).isVisible())return this.select(a.firstChild,this.selectNext);if(a.nextSibling)return this.select(a.nextSibling,this.selectNext);if(a.parentNode){var b=null;a.parentNode.bubble(function(){if(this.nextSibling)return b=this.getOwnerTree().selModel.select(this.nextSibling,this.selectNext),!1});return b}return null},onKeyDown:function(a){var b=this.selNode||this.lastSelNode;if(b)switch(a.getKey()){case a.DOWN:a.stopEvent();
this.selectNext();break;case a.UP:a.stopEvent();this.selectPrevious();break;case a.RIGHT:a.preventDefault();b.hasChildNodes()&&(b.isExpanded()?b.firstChild&&this.select(b.firstChild,a):b.expand());break;case a.LEFT:a.preventDefault(),b.hasChildNodes()&&b.isExpanded()?b.collapse():b.parentNode&&(this.tree.rootVisible||b.parentNode!=this.tree.getRootNode())&&this.select(b.parentNode,a)}}});
Ext.tree.MultiSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(a){this.selNodes=[];this.selMap={};this.addEvents("selectionchange");Ext.apply(this,a);Ext.tree.MultiSelectionModel.superclass.constructor.call(this)},init:function(a){this.tree=a;a.mon(a.getTreeEl(),"keydown",this.onKeyDown,this);a.on("click",this.onNodeClick,this)},onNodeClick:function(a,b){b.ctrlKey&&this.isSelected(a)?this.unselect(a):this.select(a,b,b.ctrlKey)},select:function(a,b,c){!0!==c&&this.clearSelections(!0);
if(this.isSelected(a))return this.lastSelNode=a;this.selNodes.push(a);this.lastSelNode=this.selMap[a.id]=a;a.ui.onSelectedChange(!0);this.fireEvent("selectionchange",this,this.selNodes);return a},unselect:function(a){if(this.selMap[a.id]){a.ui.onSelectedChange(!1);var b=this.selNodes.indexOf(a);-1!=b&&this.selNodes.splice(b,1);delete this.selMap[a.id];this.fireEvent("selectionchange",this,this.selNodes)}},clearSelections:function(a){var b=this.selNodes;if(0<b.length){for(var c=0,d=b.length;c<d;c++)b[c].ui.onSelectedChange(!1);
this.selNodes=[];this.selMap={};!0!==a&&this.fireEvent("selectionchange",this,this.selNodes)}},isSelected:function(a){return this.selMap[a.id]?!0:!1},getSelectedNodes:function(){return this.selNodes.concat([])},onKeyDown:Ext.tree.DefaultSelectionModel.prototype.onKeyDown,selectNext:Ext.tree.DefaultSelectionModel.prototype.selectNext,selectPrevious:Ext.tree.DefaultSelectionModel.prototype.selectPrevious});
Ext.data.Tree=function(a){this.nodeHash={};this.root=null;a&&this.setRootNode(a);this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert");Ext.data.Tree.superclass.constructor.call(this)};
Ext.extend(Ext.data.Tree,Ext.util.Observable,{pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments)},getRootNode:function(){return this.root},setRootNode:function(a){this.root=a;a.ownerTree=this;a.isRoot=!0;this.registerNode(a);return a},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a){this.nodeHash[a.id]=a},unregisterNode:function(a){delete this.nodeHash[a.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"}});
Ext.data.Node=function(a){this.attributes=a||{};this.leaf=this.attributes.leaf;this.id=this.attributes.id;this.id||(this.id=Ext.id(null,"xnode-"),this.attributes.id=this.id);this.childNodes=[];this.childNodes.indexOf||(this.childNodes.indexOf=function(a){for(var c=0,d=this.length;c<d;c++)if(this[c]==a)return c;return-1});this.nextSibling=this.previousSibling=this.lastChild=this.firstChild=this.parentNode=null;this.addEvents({append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,
beforeinsert:!0});this.listeners=this.attributes.listeners;Ext.data.Node.superclass.constructor.call(this)};
Ext.extend(Ext.data.Node,Ext.util.Observable,{fireEvent:function(a){if(!1===Ext.data.Node.superclass.fireEvent.apply(this,arguments))return!1;var b=this.getOwnerTree();return b&&!1===b.proxyNodeEvent.apply(b,arguments)?!1:!0},isLeaf:function(){return!0===this.leaf},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},isLast:function(){return!this.parentNode?!0:this.parentNode.lastChild==this},isFirst:function(){return!this.parentNode?!0:this.parentNode.firstChild==
this},hasChildNodes:function(){return!this.isLeaf()&&0<this.childNodes.length},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes()},appendChild:function(a){var b=!1;Ext.isArray(a)?b=a:1<arguments.length&&(b=arguments);if(b)for(var c=0,d=b.length;c<d;c++)this.appendChild(b[c]);else{if(!1===this.fireEvent("beforeappend",this.ownerTree,this,a))return!1;b=this.childNodes.length;if(c=a.parentNode){if(!1===a.fireEvent("beforemove",a.getOwnerTree(),a,c,this,b))return!1;c.removeChild(a)}b=
this.childNodes.length;0===b&&this.setFirstChild(a);this.childNodes.push(a);a.parentNode=this;(d=this.childNodes[b-1])?(a.previousSibling=d,d.nextSibling=a):a.previousSibling=null;a.nextSibling=null;this.setLastChild(a);a.setOwnerTree(this.getOwnerTree());this.fireEvent("append",this.ownerTree,this,a,b);c&&a.fireEvent("move",this.ownerTree,a,c,this,b);return a}},removeChild:function(a,b){var c=this.childNodes.indexOf(a);if(-1==c||!1===this.fireEvent("beforeremove",this.ownerTree,this,a))return!1;
this.childNodes.splice(c,1);a.previousSibling&&(a.previousSibling.nextSibling=a.nextSibling);a.nextSibling&&(a.nextSibling.previousSibling=a.previousSibling);this.firstChild==a&&this.setFirstChild(a.nextSibling);this.lastChild==a&&this.setLastChild(a.previousSibling);this.fireEvent("remove",this.ownerTree,this,a);b?a.destroy(!0):a.clear();return a},clear:function(a){this.setOwnerTree(null,a);this.parentNode=this.previousSibling=this.nextSibling=null;a&&(this.firstChild=this.lastChild=null)},destroy:function(a){!0===
a?(this.purgeListeners(),this.clear(!0),Ext.each(this.childNodes,function(a){a.destroy(!0)}),this.childNodes=null):this.remove(!0)},insertBefore:function(a,b){if(!b)return this.appendChild(a);if(a==b||!1===this.fireEvent("beforeinsert",this.ownerTree,this,a,b))return!1;var c=this.childNodes.indexOf(b),d=a.parentNode,g=c;d==this&&this.childNodes.indexOf(a)<c&&g--;if(d){if(!1===a.fireEvent("beforemove",a.getOwnerTree(),a,d,this,c,b))return!1;d.removeChild(a)}0===g&&this.setFirstChild(a);this.childNodes.splice(g,
0,a);a.parentNode=this;(c=this.childNodes[g-1])?(a.previousSibling=c,c.nextSibling=a):a.previousSibling=null;a.nextSibling=b;b.previousSibling=a;a.setOwnerTree(this.getOwnerTree());this.fireEvent("insert",this.ownerTree,this,a,b);d&&a.fireEvent("move",this.ownerTree,a,d,this,g,b);return a},remove:function(a){this.parentNode&&this.parentNode.removeChild(this,a);return this},removeAll:function(a){for(var b=this.childNodes,c;c=b[0];)this.removeChild(c,a);return this},item:function(a){return this.childNodes[a]},
replaceChild:function(a,b){var c=b?b.nextSibling:null;this.removeChild(b);this.insertBefore(a,c);return b},indexOf:function(a){return this.childNodes.indexOf(a)},getOwnerTree:function(){if(!this.ownerTree)for(var a=this;a;){if(a.ownerTree){this.ownerTree=a.ownerTree;break}a=a.parentNode}return this.ownerTree},getDepth:function(){for(var a=0,b=this;b.parentNode;)++a,b=b.parentNode;return a},setOwnerTree:function(a,b){a!=this.ownerTree&&(this.ownerTree&&this.ownerTree.unregisterNode(this),this.ownerTree=
a,!0!==b&&Ext.each(this.childNodes,function(b){b.setOwnerTree(a)}),a&&a.registerNode(this))},setId:function(a){if(a!==this.id){var b=this.ownerTree;b&&b.unregisterNode(this);this.id=this.attributes.id=a;b&&b.registerNode(this);this.onIdChange(a)}},onIdChange:Ext.emptyFn,getPath:function(a){for(var a=a||"id",b=this.parentNode,c=[this.attributes[a]];b;)c.unshift(b.attributes[a]),b=b.parentNode;a=this.getOwnerTree().pathSeparator;return a+c.join(a)},bubble:function(a,b,c){for(var d=this;d&&!1!==a.apply(b||
d,c||[d]);)d=d.parentNode},cascade:function(a,b,c){if(!1!==a.apply(b||this,c||[this]))for(var d=this.childNodes,g=0,h=d.length;g<h;g++)d[g].cascade(a,b,c)},eachChild:function(a,b,c){for(var d=this.childNodes,g=0,h=d.length;g<h&&!1!==a.apply(b||this,c||[d[g]]);g++);},findChild:function(a,b,c){return this.findChildBy(function(){return this.attributes[a]==b},null,c)},findChildBy:function(a,b,c){for(var d=this.childNodes,g=d.length,h=0,l;h<g;h++)if(l=d[h],!0===a.call(b||l,l)||c&&(l=l.findChildBy(a,b,
c),null!=l))return l;return null},sort:function(a,b){var c=this.childNodes,d=c.length;if(0<d){c.sort(b?function(){a.apply(b,arguments)}:a);for(var g=0;g<d;g++){var h=c[g];h.previousSibling=c[g-1];h.nextSibling=c[g+1];0===g&&this.setFirstChild(h);g==d-1&&this.setLastChild(h)}}},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){for(var b=this.parentNode;b;){if(b==a)return!0;b=b.parentNode}return!1},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]"}});
Ext.tree.TreeNode=function(a){a=a||{};Ext.isString(a)&&(a={text:a});this.rendered=this.childrenRendered=!1;Ext.tree.TreeNode.superclass.constructor.call(this,a);this.expanded=!0===a.expanded;this.isTarget=!1!==a.isTarget;this.draggable=!1!==a.draggable&&!1!==a.allowDrag;this.allowChildren=!1!==a.allowChildren&&!1!==a.allowDrop;this.text=a.text;this.disabled=!0===a.disabled;this.hidden=!0===a.hidden;this.addEvents("textchange","beforeexpand","beforecollapse","expand","disabledchange","collapse","beforeclick",
"click","checkchange","beforedblclick","dblclick","contextmenu","beforechildrenrendered");this.ui=new (this.attributes.uiProvider||this.defaultUI||Ext.tree.TreeNodeUI)(this)};
Ext.extend(Ext.tree.TreeNode,Ext.data.Node,{preventHScroll:!0,isExpanded:function(){return this.expanded},getUI:function(){return this.ui},getLoader:function(){var a;return this.loader||((a=this.getOwnerTree())&&a.loader?a.loader:this.loader=new Ext.tree.TreeLoader)},setFirstChild:function(a){var b=this.firstChild;Ext.tree.TreeNode.superclass.setFirstChild.call(this,a);this.childrenRendered&&(b&&a!=b)&&b.renderIndent(!0,!0);this.rendered&&this.renderIndent(!0,!0)},setLastChild:function(a){var b=this.lastChild;
Ext.tree.TreeNode.superclass.setLastChild.call(this,a);this.childrenRendered&&(b&&a!=b)&&b.renderIndent(!0,!0);this.rendered&&this.renderIndent(!0,!0)},appendChild:function(a){!a.render&&!Ext.isArray(a)&&(a=this.getLoader().createNode(a));(a=Ext.tree.TreeNode.superclass.appendChild.call(this,a))&&this.childrenRendered&&a.render();this.ui.updateExpandIcon();return a},removeChild:function(a,b){this.ownerTree.getSelectionModel().unselect(a);Ext.tree.TreeNode.superclass.removeChild.apply(this,arguments);
b||(a.ui.rendered&&a.ui.remove(),1>this.childNodes.length?this.collapse(!1,!1):this.ui.updateExpandIcon(),!this.firstChild&&!this.isHiddenRoot()&&(this.childrenRendered=!1));return a},insertBefore:function(a,b){a.render||(a=this.getLoader().createNode(a));var c=Ext.tree.TreeNode.superclass.insertBefore.call(this,a,b);c&&(b&&this.childrenRendered)&&a.render();this.ui.updateExpandIcon();return c},setText:function(a){var b=this.text;this.text=this.attributes.text=a;if(this.rendered)this.ui.onTextChange(this,
a,b);this.fireEvent("textchange",this,a,b)},select:function(){var a=this.getOwnerTree();a&&a.getSelectionModel().select(this)},unselect:function(a){var b=this.getOwnerTree();b&&b.getSelectionModel().unselect(this,a)},isSelected:function(){var a=this.getOwnerTree();return a?a.getSelectionModel().isSelected(this):!1},expand:function(a,b,c,d){if(!this.expanded){if(!1===this.fireEvent("beforeexpand",this,a,b))return;this.childrenRendered||this.renderChildren();this.expanded=!0;if(!this.isHiddenRoot()&&
this.getOwnerTree().animate&&!1!==b||b){this.ui.animExpand(function(){this.fireEvent("expand",this);this.runCallback(c,d||this,[this]);!0===a&&this.expandChildNodes(!0)}.createDelegate(this));return}this.ui.expand();this.fireEvent("expand",this)}this.runCallback(c,d||this,[this]);!0===a&&this.expandChildNodes(!0)},runCallback:function(a,b,c){Ext.isFunction(a)&&a.apply(b,c)},isHiddenRoot:function(){return this.isRoot&&!this.getOwnerTree().rootVisible},collapse:function(a,b,c,d){if(this.expanded&&!this.isHiddenRoot()){if(!1===
this.fireEvent("beforecollapse",this,a,b))return;this.expanded=!1;if(this.getOwnerTree().animate&&!1!==b||b){this.ui.animCollapse(function(){this.fireEvent("collapse",this);this.runCallback(c,d||this,[this]);!0===a&&this.collapseChildNodes(!0)}.createDelegate(this));return}this.ui.collapse();this.fireEvent("collapse",this);this.runCallback(c,d||this,[this])}else this.expanded||this.runCallback(c,d||this,[this]);if(!0===a)for(var b=this.childNodes,g=0,h=b.length;g<h;g++)b[g].collapse(!0,!1)},delayedExpand:function(a){this.expandProcId||
(this.expandProcId=this.expand.defer(a,this))},cancelExpand:function(){this.expandProcId&&clearTimeout(this.expandProcId);this.expandProcId=!1},toggle:function(){this.expanded?this.collapse():this.expand()},ensureVisible:function(a,b){var c=this.getOwnerTree();c.expandPath(this.parentNode?this.parentNode.getPath():this.getPath(),!1,function(){var d=c.getNodeById(this.id);c.getTreeEl().scrollChildIntoView(d.ui.anchor);this.runCallback(a,b||this,[this])}.createDelegate(this))},expandChildNodes:function(a){for(var b=
this.childNodes,c=0,d=b.length;c<d;c++)b[c].expand(a)},collapseChildNodes:function(a){for(var b=this.childNodes,c=0,d=b.length;c<d;c++)b[c].collapse(a)},disable:function(){this.disabled=!0;this.unselect();if(this.rendered&&this.ui.onDisableChange)this.ui.onDisableChange(this,!0);this.fireEvent("disabledchange",this,!0)},enable:function(){this.disabled=!1;if(this.rendered&&this.ui.onDisableChange)this.ui.onDisableChange(this,!1);this.fireEvent("disabledchange",this,!1)},renderChildren:function(a){!1!==
a&&this.fireEvent("beforechildrenrendered",this);for(var a=this.childNodes,b=0,c=a.length;b<c;b++)a[b].render(!0);this.childrenRendered=!0},sort:function(a,b){Ext.tree.TreeNode.superclass.sort.apply(this,arguments);if(this.childrenRendered)for(var c=this.childNodes,d=0,g=c.length;d<g;d++)c[d].render(!0)},render:function(a){this.ui.render(a);this.rendered||(this.getOwnerTree().registerNode(this),this.rendered=!0,this.expanded&&(this.expanded=!1,this.expand(!1,!1)))},renderIndent:function(a,b){b&&(this.ui.childIndent=
null);this.ui.renderIndent();if(!0===a&&this.childrenRendered)for(var c=this.childNodes,d=0,g=c.length;d<g;d++)c[d].renderIndent(!0,b)},beginUpdate:function(){this.childrenRendered=!1},endUpdate:function(){this.expanded&&this.rendered&&this.renderChildren()},destroy:function(a){!0===a&&this.unselect(!0);Ext.tree.TreeNode.superclass.destroy.call(this,a);Ext.destroy(this.ui,this.loader);this.ui=this.loader=null},onIdChange:function(a){this.ui.onIdChange(a)}});Ext.tree.TreePanel.nodeTypes.node=Ext.tree.TreeNode;
Ext.tree.AsyncTreeNode=function(a){this.loaded=a&&!0===a.loaded;this.loading=!1;Ext.tree.AsyncTreeNode.superclass.constructor.apply(this,arguments);this.addEvents("beforeload","load")};
Ext.extend(Ext.tree.AsyncTreeNode,Ext.tree.TreeNode,{expand:function(a,b,c,d){if(this.loading){var g,h=function(){this.loading||(clearInterval(g),this.expand(a,b,c,d))}.createDelegate(this);g=setInterval(h,200)}else{if(!this.loaded){if(!1===this.fireEvent("beforeload",this))return;this.loading=!0;this.ui.beforeLoad(this);if(h=this.loader||this.attributes.loader||this.getOwnerTree().getLoader()){h.load(this,this.loadComplete.createDelegate(this,[a,b,c,d]),this);return}}Ext.tree.AsyncTreeNode.superclass.expand.call(this,
a,b,c,d)}},isLoading:function(){return this.loading},loadComplete:function(a,b,c,d){this.loading=!1;this.loaded=!0;this.ui.afterLoad(this);this.fireEvent("load",this);this.expand(a,b,c,d)},isLoaded:function(){return this.loaded},hasChildNodes:function(){return!this.isLeaf()&&!this.loaded?!0:Ext.tree.AsyncTreeNode.superclass.hasChildNodes.call(this)},reload:function(a,b){for(this.collapse(!1,!1);this.firstChild;)this.removeChild(this.firstChild).destroy();this.loaded=this.childrenRendered=!1;this.isHiddenRoot()&&
(this.expanded=!1);this.expand(!1,!1,a,b)}});Ext.tree.TreePanel.nodeTypes.async=Ext.tree.AsyncTreeNode;Ext.tree.TreeNodeUI=function(a){this.node=a;this.animating=this.rendered=!1;this.wasLeaf=!0;this.ecc="x-tree-ec-icon x-tree-elbow";this.emptyIcon=Ext.BLANK_IMAGE_URL};
Ext.tree.TreeNodeUI.prototype={removeChild:function(a){this.rendered&&this.ctNode.removeChild(a.ui.getEl())},beforeLoad:function(){this.addClass("x-tree-node-loading")},afterLoad:function(){this.removeClass("x-tree-node-loading")},onTextChange:function(a,b){this.rendered&&(this.textNode.innerHTML=b)},onDisableChange:function(a,b){this.disabled=b;this.checkbox&&(this.checkbox.disabled=b);b?this.addClass("x-tree-node-disabled"):this.removeClass("x-tree-node-disabled")},onSelectedChange:function(a){a?
(this.focus(),this.addClass("x-tree-selected")):this.removeClass("x-tree-selected")},onMove:function(a,b,c,d,g,h){this.childIndent=null;this.rendered&&((a=d.ui.getContainer())?((h=h?h.ui.getEl():null)?a.insertBefore(this.wrap,h):a.appendChild(this.wrap),this.node.renderIndent(!0,c!=d)):(this.holder=document.createElement("div"),this.holder.appendChild(this.wrap)))},addClass:function(a){this.elNode&&Ext.fly(this.elNode).addClass(a)},removeClass:function(a){this.elNode&&Ext.fly(this.elNode).removeClass(a)},
remove:function(){this.rendered&&(this.holder=document.createElement("div"),this.holder.appendChild(this.wrap))},fireEvent:function(){return this.node.fireEvent.apply(this.node,arguments)},initEvents:function(){this.node.on("move",this.onMove,this);if(this.node.disabled)this.onDisableChange(this.node,!0);this.node.hidden&&this.hide();var a=this.node.getOwnerTree();(a.enableDD||a.enableDrag||a.enableDrop)&&(!this.node.isRoot||a.rootVisible)&&Ext.dd.Registry.register(this.elNode,{node:this.node,handles:this.getDDHandles(),
isHandle:!1})},getDDHandles:function(){return[this.iconNode,this.textNode,this.elNode]},hide:function(){this.node.hidden=!0;this.wrap&&(this.wrap.style.display="none")},show:function(){this.node.hidden=!1;this.wrap&&(this.wrap.style.display="")},onContextMenu:function(a){if(this.node.hasListener("contextmenu")||this.node.getOwnerTree().hasListener("contextmenu"))a.preventDefault(),this.focus(),this.fireEvent("contextmenu",this.node,a)},onClick:function(a){if(this.dropping)a.stopEvent();else if(!1!==
this.fireEvent("beforeclick",this.node,a)){var b=a.getTarget("a");!this.disabled&&this.node.attributes.href&&b?this.fireEvent("click",this.node,a):(b&&a.ctrlKey&&a.stopEvent(),a.preventDefault(),this.disabled||(this.node.attributes.singleClickExpand&&(!this.animating&&this.node.isExpandable())&&this.node.toggle(),this.fireEvent("click",this.node,a)))}else a.stopEvent()},onDblClick:function(a){a.preventDefault();!this.disabled&&!1!==this.fireEvent("beforedblclick",this.node,a)&&(this.checkbox&&this.toggleCheck(),
!this.animating&&this.node.isExpandable()&&this.node.toggle(),this.fireEvent("dblclick",this.node,a))},onOver:function(){this.addClass("x-tree-node-over")},onOut:function(){this.removeClass("x-tree-node-over")},onCheckChange:function(){var a=this.checkbox.checked;this.checkbox.defaultChecked=a;this.node.attributes.checked=a;this.fireEvent("checkchange",this.node,a)},ecClick:function(){!this.animating&&this.node.isExpandable()&&this.node.toggle()},startDrop:function(){this.dropping=!0},endDrop:function(){setTimeout(function(){this.dropping=
!1}.createDelegate(this),50)},expand:function(){this.updateExpandIcon();this.ctNode.style.display=""},focus:function(){if(this.node.preventHScroll)try{var a=this.node.getOwnerTree().getTreeEl().dom,b=a.scrollLeft;this.anchor.focus();a.scrollLeft=b}catch(c){}else try{this.anchor.focus()}catch(d){}},toggleCheck:function(a){var b=this.checkbox;b&&(b.checked=void 0===a?!b.checked:a,this.onCheckChange())},blur:function(){try{this.anchor.blur()}catch(a){}},animExpand:function(a){var b=Ext.get(this.ctNode);
b.stopFx();this.node.isExpandable()?(this.animating=!0,this.updateExpandIcon(),b.slideIn("t",{callback:function(){this.animating=!1;Ext.callback(a)},scope:this,duration:this.node.ownerTree.duration||0.25})):(this.updateExpandIcon(),this.ctNode.style.display="",Ext.callback(a))},highlight:function(){var a=this.node.getOwnerTree();Ext.fly(this.wrap).highlight(a.hlColor||"C3DAF9",{endColor:a.hlBaseColor})},collapse:function(){this.updateExpandIcon();this.ctNode.style.display="none"},animCollapse:function(a){var b=
Ext.get(this.ctNode);b.enableDisplayMode("block");b.stopFx();this.animating=!0;this.updateExpandIcon();b.slideOut("t",{callback:function(){this.animating=!1;Ext.callback(a)},scope:this,duration:this.node.ownerTree.duration||0.25})},getContainer:function(){return this.ctNode},getEl:function(){return this.wrap},appendDDGhost:function(a){a.appendChild(this.elNode.cloneNode(!0))},getDDRepairXY:function(){return Ext.lib.Dom.getXY(this.iconNode)},onRender:function(){this.render()},render:function(a){var b=
this.node,c=b.attributes,d=b.parentNode?b.parentNode.ui.getContainer():b.ownerTree.innerCt.dom;this.rendered?!0===a&&d.appendChild(this.wrap):(this.rendered=!0,this.renderElements(b,c,d,a),c.qtip?this.textNode.setAttributeNS?(this.textNode.setAttributeNS("ext","qtip",c.qtip),c.qtipTitle&&this.textNode.setAttributeNS("ext","qtitle",c.qtipTitle)):(this.textNode.setAttribute("ext:qtip",c.qtip),c.qtipTitle&&this.textNode.setAttribute("ext:qtitle",c.qtipTitle)):c.qtipCfg&&(c.qtipCfg.target=Ext.id(this.textNode),
Ext.QuickTips.register(c.qtipCfg)),this.initEvents(),this.node.expanded||this.updateExpandIcon(!0))},renderElements:function(a,b,c,d){this.indentMarkup=a.parentNode?a.parentNode.ui.getChildIndent():"";var g=Ext.isBoolean(b.checked),h,b=['<li class="x-tree-node"><div ext:tree-node-id="',a.id,'" class="x-tree-node-el x-tree-node-leaf x-unselectable ',b.cls,'" unselectable="on"><span class="x-tree-node-indent">',this.indentMarkup,'</span><img src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow" /><img src="',
b.icon||this.emptyIcon,'" class="x-tree-node-icon',b.icon?" x-tree-node-inline-icon":"",b.iconCls?" "+b.iconCls:"",'" unselectable="on" />',g?'<input class="x-tree-node-cb" type="checkbox" '+(b.checked?'checked="checked" />':"/>"):"",'<a hidefocus="on" class="x-tree-node-anchor" href="',b.href?b.href:Ext.isGecko?"":"#",'" tabIndex="1" ',b.hrefTarget?' target="'+b.hrefTarget+'"':"",'><span unselectable="on">',a.text,'</span></a></div><ul class="x-tree-node-ct" style="display:none;"></ul></li>'].join("");
this.wrap=!0!==d&&a.nextSibling&&(h=a.nextSibling.ui.getEl())?Ext.DomHelper.insertHtml("beforeBegin",h,b):Ext.DomHelper.insertHtml("beforeEnd",c,b);this.elNode=this.wrap.childNodes[0];this.ctNode=this.wrap.childNodes[1];a=this.elNode.childNodes;this.indentNode=a[0];this.ecNode=a[1];this.iconNode=a[2];c=3;g&&(this.checkbox=a[3],this.checkbox.defaultChecked=this.checkbox.checked,c++);this.anchor=a[c];this.textNode=a[c].firstChild},getAnchor:function(){return this.anchor},getTextEl:function(){return this.textNode},
getIconEl:function(){return this.iconNode},isChecked:function(){return this.checkbox?this.checkbox.checked:!1},updateExpandIcon:function(){if(this.rendered){var a=this.node,b,c=a.isLast()?"x-tree-elbow-end":"x-tree-elbow";if(a.hasChildNodes()||a.attributes.expandable){if(a.expanded?(c+="-minus",a="x-tree-node-collapsed",b="x-tree-node-expanded"):(c+="-plus",a="x-tree-node-expanded",b="x-tree-node-collapsed"),this.wasLeaf&&(this.removeClass("x-tree-node-leaf"),this.wasLeaf=!1),this.c1!=a||this.c2!=
b)Ext.fly(this.elNode).replaceClass(a,b),this.c1=a,this.c2=b}else this.wasLeaf||(Ext.fly(this.elNode).replaceClass("x-tree-node-expanded","x-tree-node-collapsed"),delete this.c1,delete this.c2,this.wasLeaf=!0);c="x-tree-ec-icon "+c;this.ecc!=c&&(this.ecc=this.ecNode.className=c)}},onIdChange:function(a){this.rendered&&this.elNode.setAttribute("ext:tree-node-id",a)},getChildIndent:function(){if(!this.childIndent){for(var a=[],b=this.node;b;){if(!b.isRoot||b.isRoot&&b.ownerTree.rootVisible)b.isLast()?
a.unshift('<img src="'+this.emptyIcon+'" class="x-tree-icon" />'):a.unshift('<img src="'+this.emptyIcon+'" class="x-tree-elbow-line" />');b=b.parentNode}this.childIndent=a.join("")}return this.childIndent},renderIndent:function(){if(this.rendered){var a="",b=this.node.parentNode;b&&(a=b.ui.getChildIndent());this.indentMarkup!=a&&(this.indentMarkup=this.indentNode.innerHTML=a);this.updateExpandIcon()}},destroy:function(){this.elNode&&Ext.dd.Registry.unregister(this.elNode.id);Ext.each("textnode anchor checkbox indentNode ecNode iconNode elNode ctNode wrap holder".split(" "),
function(a){this[a]&&(Ext.fly(this[a]).remove(),delete this[a])},this);delete this.node}};Ext.tree.RootTreeNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{render:function(){if(!this.rendered){var a=this.node.ownerTree.innerCt.dom;this.node.expanded=!0;a.innerHTML='<div class="x-tree-root-node"></div>';this.wrap=this.ctNode=a.firstChild}},collapse:Ext.emptyFn,expand:Ext.emptyFn});
Ext.tree.TreeLoader=function(a){this.baseParams={};Ext.apply(this,a);this.addEvents("beforeload","load","loadexception");Ext.tree.TreeLoader.superclass.constructor.call(this);Ext.isString(this.paramOrder)&&(this.paramOrder=this.paramOrder.split(/[\s,|]/))};
Ext.extend(Ext.tree.TreeLoader,Ext.util.Observable,{uiProviders:{},clearOnLoad:!0,paramOrder:void 0,paramsAsHash:!1,nodeParameter:"node",directFn:void 0,load:function(a,b,c){if(this.clearOnLoad)for(;a.firstChild;)a.removeChild(a.firstChild);if(this.doPreload(a))this.runCallback(b,c||a,[a]);else if(this.directFn||this.dataUrl||this.url)this.requestData(a,b,c||a)},doPreload:function(a){if(a.attributes.children){if(1>a.childNodes.length){var b=a.attributes.children;a.beginUpdate();for(var c=0,d=b.length;c<
d;c++){var g=a.appendChild(this.createNode(b[c]));this.preloadChildren&&this.doPreload(g)}a.endUpdate()}return!0}return!1},getParams:function(a){var b=Ext.apply({},this.baseParams),c=this.nodeParameter,d=this.paramOrder;c&&(b[c]=a.id);if(this.directFn){a=[a.id];if(d){c&&-1<d.indexOf(c)&&(a=[]);for(var c=0,g=d.length;c<g;c++)a.push(b[d[c]])}else this.paramsAsHash&&(a=[b]);return a}return b},requestData:function(a,b,c){if(!1!==this.fireEvent("beforeload",this,a,b))if(this.directFn){var d=this.getParams(a);
d.push(this.processDirectResponse.createDelegate(this,[{callback:b,node:a,scope:c}],!0));this.directFn.apply(window,d)}else this.transId=Ext.Ajax.request({method:this.requestMethod,url:this.dataUrl||this.url,success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{callback:b,node:a,scope:c},params:this.getParams(a)});else this.runCallback(b,c||a,[])},processDirectResponse:function(a,b,c){b.status?this.handleResponse({responseData:Ext.isArray(a)?a:null,responseText:a,argument:c}):
this.handleFailure({argument:c})},runCallback:function(a,b,c){Ext.isFunction(a)&&a.apply(b,c)},isLoading:function(){return!!this.transId},abort:function(){this.isLoading()&&Ext.Ajax.abort(this.transId)},createNode:function(a){this.baseAttrs&&Ext.applyIf(a,this.baseAttrs);!1!==this.applyLoader&&!a.loader&&(a.loader=this);Ext.isString(a.uiProvider)&&(a.uiProvider=this.uiProviders[a.uiProvider]||eval(a.uiProvider));return a.nodeType?new Ext.tree.TreePanel.nodeTypes[a.nodeType](a):a.leaf?new Ext.tree.TreeNode(a):
new Ext.tree.AsyncTreeNode(a)},processResponse:function(a,b,c,d){var g=a.responseText;try{var h=a.responseData||Ext.decode(g);b.beginUpdate();for(var g=0,l=h.length;g<l;g++){var n=this.createNode(h[g]);n&&b.appendChild(n)}b.endUpdate();this.runCallback(c,d||b,[b])}catch(q){this.handleFailure(a)}},handleResponse:function(a){this.transId=!1;var b=a.argument;this.processResponse(a,b.node,b.callback,b.scope);this.fireEvent("load",this,b.node,a)},handleFailure:function(a){this.transId=!1;var b=a.argument;
this.fireEvent("loadexception",this,b.node,a);this.runCallback(b.callback,b.scope||b.node,[b.node])},destroy:function(){this.abort();this.purgeListeners()}});Ext.tree.TreeFilter=function(a,b){this.tree=a;this.filtered={};Ext.apply(this,b)};
Ext.tree.TreeFilter.prototype={clearBlank:!1,reverse:!1,autoClear:!1,remove:!1,filter:function(a,b,c){var b=b||"text",d;if("string"==typeof a){var g=a.length;if(0==g&&this.clearBlank){this.clear();return}a=a.toLowerCase();d=function(c){return c.attributes[b].substr(0,g).toLowerCase()==a}}else if(a.exec)d=function(c){return a.test(c.attributes[b])};else throw"Illegal filter type, must be string or regex";this.filterBy(d,null,c)},filterBy:function(a,b,c){c=c||this.tree.root;this.autoClear&&this.clear();
var d=this.filtered,g=this.reverse;c.cascade(function(h){return h==c?!0:d[h.id]?!1:!a.call(b||h,h)||g?(d[h.id]=h,h.ui.hide(),!1):!0});if(this.remove)for(var h in d)if("function"!=typeof h){var l=d[h];l&&l.parentNode&&l.parentNode.removeChild(l)}},clear:function(){var a=this.filtered,b;for(b in a)if("function"!=typeof b){var c=a[b];c&&c.ui.show()}this.filtered={}}};
Ext.tree.TreeSorter=function(a,b){Ext.apply(this,b);a.on("beforechildrenrendered",this.doSort,this);a.on("append",this.updateSort,this);a.on("insert",this.updateSort,this);a.on("textchange",this.updateSortParent,this);var c=this.dir&&"desc"==this.dir.toLowerCase(),d=this.property||"text",g=this.sortType,h=this.folderSort,l=!0===this.caseSensitive,n=this.leafAttr||"leaf";this.sortFn=function(a,b){if(h){if(a.attributes[n]&&!b.attributes[n])return 1;if(!a.attributes[n]&&b.attributes[n])return-1}var s=
g?g(a):l?a.attributes[d]:a.attributes[d].toUpperCase(),p=g?g(b):l?b.attributes[d]:b.attributes[d].toUpperCase();return s<p?c?1:-1:s>p?c?-1:1:0}};Ext.tree.TreeSorter.prototype={doSort:function(a){a.sort(this.sortFn)},compareNodes:function(a,b){return a.text.toUpperCase()>b.text.toUpperCase()?1:-1},updateSort:function(a,b){b.childrenRendered&&this.doSort.defer(1,this,[b])},updateSortParent:function(a){(a=a.parentNode)&&a.childrenRendered&&this.doSort.defer(1,this,[a])}};
Ext.dd.DropZone&&(Ext.tree.TreeDropZone=function(a,b){this.allowParentInsert=b.allowParentInsert||!1;this.allowContainerDrop=b.allowContainerDrop||!1;this.appendOnly=b.appendOnly||!1;Ext.tree.TreeDropZone.superclass.constructor.call(this,a.getTreeEl(),b);this.tree=a;this.dragOverData={};this.lastInsertClass="x-tree-no-status"},Ext.extend(Ext.tree.TreeDropZone,Ext.dd.DropZone,{ddGroup:"TreeDD",expandDelay:1E3,expandNode:function(a){a.hasChildNodes()&&!a.isExpanded()&&a.expand(!1,null,this.triggerCacheRefresh.createDelegate(this))},
queueExpand:function(a){this.expandProcId=this.expandNode.defer(this.expandDelay,this,[a])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},isValidDropPoint:function(a,b,c,d,g){if(!a||!g)return!1;var h=a.node,l=g.node;if(!h||(!h.isTarget||!b)||"append"==b&&!1===h.allowChildren||("above"==b||"below"==b)&&h.parentNode&&!1===h.parentNode.allowChildren||l&&(h==l||l.contains(h)))return!1;a=this.dragOverData;a.tree=this.tree;a.target=h;a.data=g;a.point=
b;a.source=c;a.rawEvent=d;a.dropNode=l;a.cancel=!1;b=this.tree.fireEvent("nodedragover",a);return!1===a.cancel&&!1!==b},getDropPoint:function(a,b){var c=b.node;if(c.isRoot)return!1!==c.allowChildren?"append":!1;var d=b.ddel,g=Ext.lib.Dom.getY(d),d=g+d.offsetHeight,h=Ext.lib.Event.getPageY(a),l=!1===c.allowChildren||c.isLeaf();if(this.appendOnly||!1===c.parentNode.allowChildren)return l?!1:"append";var n=!1;this.allowParentInsert||(n=c.hasChildNodes()&&c.isExpanded());c=(d-g)/(l?2:3);return h>=g&&
h<g+c?"above":!n&&(l||h>=d-c&&h<=d)?"below":"append"},onNodeEnter:function(){this.cancelExpand()},onContainerOver:function(a,b,c){return this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",a,b,c)?this.dropAllowed:this.dropNotAllowed},onNodeOver:function(a,b,c,d){var g=this.getDropPoint(c,a,b),h=a.node;!this.expandProcId&&"append"==g&&h.hasChildNodes()&&!a.node.isExpanded()?this.queueExpand(h):"append"!=g&&this.cancelExpand();
h=this.dropNotAllowed;this.isValidDropPoint(a,g,b,c,d)&&g&&(b=a.ddel,"above"==g?(h=a.node.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between",a="x-tree-drag-insert-above"):"below"==g?(h=a.node.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between",a="x-tree-drag-insert-below"):(h="x-tree-drop-ok-append",a="x-tree-drag-append"),this.lastInsertClass!=a&&(Ext.fly(b).replaceClass(this.lastInsertClass,a),this.lastInsertClass=a));return h},onNodeOut:function(a){this.cancelExpand();this.removeDropIndicators(a)},
onNodeDrop:function(a,b,c,d){var g=this.getDropPoint(c,a,b),h=a.node;h.ui.startDrop();if(!this.isValidDropPoint(a,g,b,c,d))return h.ui.endDrop(),!1;a=d.node||(b.getTreeNode?b.getTreeNode(d,h,g,c):null);return this.processDrop(h,d,g,b,c,a)},onContainerDrop:function(a,b,c){if(this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",a,b,c)){var d=this.tree.getRootNode();d.ui.startDrop();var g=c.node||(a.getTreeNode?a.getTreeNode(c,
d,"append",b):null);return this.processDrop(d,c,"append",a,b,g)}return!1},processDrop:function(a,b,c,d,g,h){var l={tree:this.tree,target:a,data:b,point:c,source:d,rawEvent:g,dropNode:h,cancel:!h,dropStatus:!1};if(!1===this.tree.fireEvent("beforenodedrop",l)||!0===l.cancel||!l.dropNode)return a.ui.endDrop(),l.dropStatus;a=l.target;"append"==c&&!a.isExpanded()?a.expand(!1,null,function(){this.completeDrop(l)}.createDelegate(this)):this.completeDrop(l);return!0},completeDrop:function(a){var b=a.dropNode,
c=a.point,d=a.target;Ext.isArray(b)||(b=[b]);for(var g,h=0,l=b.length;h<l;h++)g=b[h],"above"==c?d.parentNode.insertBefore(g,d):"below"==c?d.parentNode.insertBefore(g,d.nextSibling):d.appendChild(g);g.ui.focus();Ext.enableFx&&this.tree.hlDrop&&g.ui.highlight();d.ui.endDrop();this.tree.fireEvent("nodedrop",a)},afterNodeMoved:function(a,b,c,d,g){Ext.enableFx&&this.tree.hlDrop&&(g.ui.focus(),g.ui.highlight());this.tree.fireEvent("nodedrop",this.tree,d,b,a,c)},getTree:function(){return this.tree},removeDropIndicators:function(a){a&&
a.ddel&&(Ext.fly(a.ddel).removeClass(["x-tree-drag-insert-above","x-tree-drag-insert-below","x-tree-drag-append"]),this.lastInsertClass="_noclass")},beforeDragDrop:function(){this.cancelExpand();return!0},afterRepair:function(a){a&&Ext.enableFx&&a.node.ui.highlight();this.hideProxy()}}));
Ext.dd.DragZone&&(Ext.tree.TreeDragZone=function(a,b){Ext.tree.TreeDragZone.superclass.constructor.call(this,a.innerCt,b);this.tree=a},Ext.extend(Ext.tree.TreeDragZone,Ext.dd.DragZone,{ddGroup:"TreeDD",onBeforeDrag:function(a){return(a=a.node)&&a.draggable&&!a.disabled},onInitDrag:function(a){var b=this.dragData;this.tree.getSelectionModel().select(b.node);this.tree.eventModel.disable();this.proxy.update("");b.node.ui.appendDDGhost(this.proxy.ghost.dom);this.tree.fireEvent("startdrag",this.tree,b.node,
a)},getRepairXY:function(a,b){return b.node.ui.getDDRepairXY()},onEndDrag:function(a,b){this.tree.eventModel.enable.defer(100,this.tree.eventModel);this.tree.fireEvent("enddrag",this.tree,a.node,b)},onValidDrop:function(a,b){this.tree.fireEvent("dragdrop",this.tree,this.dragData.node,a,b);this.hideProxy()},beforeInvalidDrop:function(){var a=this.tree.getSelectionModel();a.clearSelections();a.select(this.dragData.node)},afterRepair:function(){Ext.enableFx&&this.tree.hlDrop&&Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||
"c3daf9");this.dragging=!1}}));Ext.tree.TreeEditor=function(a,b,c){b=b||{};b=b.events?b:new Ext.form.TextField(b);Ext.tree.TreeEditor.superclass.constructor.call(this,b,c);this.tree=a;if(a.rendered)this.initEditor(a);else a.on("render",this.initEditor,this)};
Ext.extend(Ext.tree.TreeEditor,Ext.Editor,{alignment:"l-l",autoSize:!1,hideEl:!1,cls:"x-small-editor x-tree-editor",shim:!1,shadow:"frame",maxWidth:250,editDelay:350,initEditor:function(a){a.on({scope:this,beforeclick:this.beforeNodeClick,dblclick:this.onNodeDblClick});this.on({scope:this,complete:this.updateNode,beforestartedit:this.fitToTree,specialkey:this.onSpecialKey});this.on("startedit",this.bindScroll,this,{delay:10})},fitToTree:function(a,b){var c=this.tree.getTreeEl().dom,d=b.dom;c.scrollLeft>
d.offsetLeft&&(c.scrollLeft=d.offsetLeft);c=Math.min(this.maxWidth,(20<c.clientWidth?c.clientWidth:c.offsetWidth)-Math.max(0,d.offsetLeft-c.scrollLeft)-5);this.setSize(c,"")},triggerEdit:function(a){this.completeEdit();if(!1!==a.attributes.editable){this.editNode=a;this.tree.autoScroll&&Ext.fly(a.ui.getEl()).scrollIntoView(this.tree.body);var b=a.text||"";!Ext.isGecko&&Ext.isEmpty(a.text)&&a.setText("&#160;");this.autoEditTimer=this.startEdit.defer(this.editDelay,this,[a.ui.textNode,b]);return!1}},
bindScroll:function(){this.tree.getTreeEl().on("scroll",this.cancelEdit,this)},beforeNodeClick:function(a,b){clearTimeout(this.autoEditTimer);if(this.tree.getSelectionModel().isSelected(a))return b.stopEvent(),this.triggerEdit(a)},onNodeDblClick:function(){clearTimeout(this.autoEditTimer)},updateNode:function(a,b){this.tree.getTreeEl().un("scroll",this.cancelEdit,this);this.editNode.setText(b)},onHide:function(){Ext.tree.TreeEditor.superclass.onHide.call(this);this.editNode&&this.editNode.ui.focus.defer(50,
this.editNode.ui)},onSpecialKey:function(a,b){var c=b.getKey();c==b.ESC?(b.stopEvent(),this.cancelEdit()):c==b.ENTER&&!b.hasModifier()&&(b.stopEvent(),this.completeEdit())},onDestroy:function(){clearTimeout(this.autoEditTimer);Ext.tree.TreeEditor.superclass.onDestroy.call(this);var a=this.tree;a.un("beforeclick",this.beforeNodeClick,this);a.un("dblclick",this.onNodeDblClick,this)}});
var swfobject=function(){function a(){if(!W){try{var a=F.getElementsByTagName("body")[0].appendChild(F.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}W=!0;for(var a=O.length,c=0;c<a;c++)O[c]()}}function b(a){W?a():O[O.length]=a}function c(a){if(typeof E.addEventListener!=C)E.addEventListener("load",a,!1);else if(typeof F.addEventListener!=C)F.addEventListener("load",a,!1);else if(typeof E.attachEvent!=C){var b=E;b.attachEvent("onload",a);I[I.length]=[b,"onload",a]}else if("function"==
typeof E.onload){var c=E.onload;E.onload=function(){c();a()}}else E.onload=a}function d(){var a=J.length;if(0<a)for(var b=0;b<a;b++){var c=J[b].id,d=J[b].callbackFn,q={success:!1,id:c};if(0<H.pv[0]){var r=p(c);if(r)if(v(J[b].swfVersion)&&!(H.wk&&312>H.wk))A(c,!0),d&&(q.success=!0,q.ref=g(c),d(q));else if(J[b].expressInstall&&h()){q={};q.data=J[b].expressInstall;q.width=r.getAttribute("width")||"0";q.height=r.getAttribute("height")||"0";r.getAttribute("class")&&(q.styleclass=r.getAttribute("class"));
r.getAttribute("align")&&(q.align=r.getAttribute("align"));for(var s={},r=r.getElementsByTagName("param"),t=r.length,w=0;w<t;w++)"movie"!=r[w].getAttribute("name").toLowerCase()&&(s[r[w].getAttribute("name")]=r[w].getAttribute("value"));l(q,s,c,d)}else n(r),d&&d(q)}else if(A(c,!0),d){if((c=g(c))&&typeof c.SetVariable!=C)q.success=!0,q.ref=c;d(q)}}}function g(a){var b=null;if((a=p(a))&&"OBJECT"==a.nodeName)typeof a.SetVariable!=C?b=a:(a=a.getElementsByTagName(z)[0])&&(b=a);return b}function h(){return!Z&&
v("6.0.65")&&(H.win||H.mac)&&!(H.wk&&312>H.wk)}function l(a,b,c,d){Z=!0;L=d||null;T={success:!1,id:c};var g=p(c);if(g){"OBJECT"==g.nodeName?(da=q(g),S=null):(da=g,S=c);a.id=G;if(typeof a.width==C||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==C||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";F.title=F.title.slice(0,47)+" - Flash Player Installation";d=H.ie&&H.win?"ActiveX":"PlugIn";d="MMredirectURL="+E.location.toString().replace(/&/g,"%26")+"&MMplayerType="+
d+"&MMdoctitle="+F.title;b.flashvars=typeof b.flashvars!=C?b.flashvars+("&"+d):d;H.ie&&(H.win&&4!=g.readyState)&&(d=F.createElement("div"),c+="SWFObjectNew",d.setAttribute("id",c),g.parentNode.insertBefore(d,g),g.style.display="none",function(){4==g.readyState?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}());r(a,b,c)}}function n(a){if(H.ie&&H.win&&4!=a.readyState){var b=F.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(q(a),b);a.style.display="none";(function(){4==
a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(q(a),a)}function q(a){var b=F.createElement("div");if(H.win&&H.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(z)[0])if(a=a.childNodes)for(var c=a.length,d=0;d<c;d++)!(1==a[d].nodeType&&"PARAM"==a[d].nodeName)&&8!=a[d].nodeType&&b.appendChild(a[d].cloneNode(!0));return b}function r(a,b,c){var d,g=p(c);if(H.wk&&312>H.wk)return d;if(g)if(typeof a.id==C&&(a.id=c),H.ie&&H.win){var h=
"",l;for(l in a)a[l]!=Object.prototype[l]&&("data"==l.toLowerCase()?b.movie=a[l]:"styleclass"==l.toLowerCase()?h+=' class="'+a[l]+'"':"classid"!=l.toLowerCase()&&(h+=" "+l+'="'+a[l]+'"'));l="";for(var n in b)b[n]!=Object.prototype[n]&&(l+='<param name="'+n+'" value="'+b[n]+'" />');g.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+h+">"+l+"</object>";K[K.length]=a.id;d=p(a.id)}else{n=F.createElement(z);n.setAttribute("type",D);for(var q in a)a[q]!=Object.prototype[q]&&("styleclass"==
q.toLowerCase()?n.setAttribute("class",a[q]):"classid"!=q.toLowerCase()&&n.setAttribute(q,a[q]));for(h in b)b[h]!=Object.prototype[h]&&"movie"!=h.toLowerCase()&&(a=n,l=h,q=b[h],c=F.createElement("param"),c.setAttribute("name",l),c.setAttribute("value",q),a.appendChild(c));g.parentNode.replaceChild(n,g);d=n}return d}function s(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(H.ie&&H.win?(b.style.display="none",function(){if(4==b.readyState){var c=p(a);if(c){for(var d in c)"function"==typeof c[d]&&(c[d]=null);
c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function p(a){var b=null;try{b=F.getElementById(a)}catch(c){}return b}function v(a){var b=H.pv,a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function t(a,b,c,d){if(!H.ie||!H.mac){var g=F.getElementsByTagName("head")[0];if(g){c=c&&"string"==typeof c?c:"screen";d&&(ha=U=null);if(!U||
ha!=c)d=F.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),U=g.appendChild(d),H.ie&&(H.win&&typeof F.styleSheets!=C&&0<F.styleSheets.length)&&(U=F.styleSheets[F.styleSheets.length-1]),ha=c;H.ie&&H.win?U&&typeof U.addRule==z&&U.addRule(a,b):U&&typeof F.createTextNode!=C&&U.appendChild(F.createTextNode(a+" {"+b+"}"))}}}function A(a,b){if(Q){var c=b?"visible":"hidden";W&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function w(a){return null!=/[\\\"<>\.;]/.exec(a)&&
typeof encodeURIComponent!=C?encodeURIComponent(a):a}var C="undefined",z="object",D="application/x-shockwave-flash",G="SWFObjectExprInst",E=window,F=document,B=navigator,R=!1,O=[function(){if(R){var a=F.getElementsByTagName("body")[0],b=F.createElement(z);b.setAttribute("type",D);var c=a.appendChild(b);if(c){var g=0;(function(){if(typeof c.GetVariable!=C){var h=c.GetVariable("$version");h&&(h=h.split(" ")[1].split(","),H.pv=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}else if(10>g){g++;
setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;d()})()}else d()}else d()}],J=[],K=[],I=[],da,S,L,T,W=!1,Z=!1,U,ha,Q=!0,H,ca=typeof F.getElementById!=C&&typeof F.getElementsByTagName!=C&&typeof F.createElement!=C,Y=B.userAgent.toLowerCase(),N=B.platform.toLowerCase(),P=N?/win/.test(N):/win/.test(Y),N=N?/mac/.test(N):/mac/.test(Y),Y=/webkit/.test(Y)?parseFloat(Y.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,X=!+"\v1",V=[0,0,0],M=null;if(typeof B.plugins!=C&&typeof B.plugins["Shockwave Flash"]==
z){if((M=B.plugins["Shockwave Flash"].description)&&!(typeof B.mimeTypes!=C&&B.mimeTypes[D]&&!B.mimeTypes[D].enabledPlugin))R=!0,X=!1,M=M.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),V[0]=parseInt(M.replace(/^(.*)\..*$/,"$1"),10),V[1]=parseInt(M.replace(/^.*\.(.*)\s.*$/,"$1"),10),V[2]=/[a-zA-Z]/.test(M)?parseInt(M.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof E.ActiveXObject!=C)try{var ba=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(ba&&(M=ba.GetVariable("$version")))X=!0,M=M.split(" ")[1].split(","),
V=[parseInt(M[0],10),parseInt(M[1],10),parseInt(M[2],10)]}catch(fa){}H={w3:ca,pv:V,wk:Y,ie:X,win:P,mac:N};H.w3&&((typeof F.readyState!=C&&"complete"==F.readyState||typeof F.readyState==C&&(F.getElementsByTagName("body")[0]||F.body))&&a(),W||(typeof F.addEventListener!=C&&F.addEventListener("DOMContentLoaded",a,!1),H.ie&&H.win&&(F.attachEvent("onreadystatechange",function(){"complete"==F.readyState&&(F.detachEvent("onreadystatechange",arguments.callee),a())}),E==top&&function(){if(!W){try{F.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,
0);return}a()}}()),H.wk&&function(){W||(/loaded|complete/.test(F.readyState)?a():setTimeout(arguments.callee,0))}(),c(a)));H.ie&&H.win&&window.attachEvent("onunload",function(){for(var a=I.length,b=0;b<a;b++)I[b][0].detachEvent(I[b][1],I[b][2]);a=K.length;for(b=0;b<a;b++)s(K[b]);for(var c in H)H[c]=null;H=null;for(var d in swfobject)swfobject[d]=null;swfobject=null});return{registerObject:function(a,b,c,d){if(H.w3&&a&&b){var g={};g.id=a;g.swfVersion=b;g.expressInstall=c;g.callbackFn=d;J[J.length]=
g;A(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(H.w3)return g(a)},embedSWF:function(a,c,d,g,n,p,q,s,t,w){var D={success:!1,id:c};H.w3&&!(H.wk&&312>H.wk)&&a&&c&&d&&g&&n?(A(c,!1),b(function(){d+="";g+="";var b={};if(t&&typeof t===z)for(var B in t)b[B]=t[B];b.data=a;b.width=d;b.height=g;B={};if(s&&typeof s===z)for(var G in s)B[G]=s[G];if(q&&typeof q===z)for(var E in q)B.flashvars=typeof B.flashvars!=C?B.flashvars+("&"+E+"="+q[E]):E+"="+q[E];if(v(n))G=r(b,B,c),b.id==c&&A(c,!0),D.success=
!0,D.ref=G;else{if(p&&h()){b.data=p;l(b,B,c,w);return}A(c,!0)}w&&w(D)})):w&&w(D)},switchOffAutoHideShow:function(){Q=!1},ua:H,getFlashPlayerVersion:function(){return{major:H.pv[0],minor:H.pv[1],release:H.pv[2]}},hasFlashPlayerVersion:v,createSWF:function(a,b,c){if(H.w3)return r(a,b,c)},showExpressInstall:function(a,b,c,d){H.w3&&h()&&l(a,b,c,d)},removeSWF:function(a){H.w3&&s(a)},createCSS:function(a,b,c,d){H.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=F.location.search||
F.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return w(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return w(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(Z){var a=p(G);a&&da&&(a.parentNode.replaceChild(da,a),S&&(A(S,!0),H.ie&&H.win&&(da.style.display="block")),L&&L(T));Z=!1}}}}();
Ext.FlashComponent=Ext.extend(Ext.BoxComponent,{flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",flashVars:void 0,flashParams:void 0,url:void 0,swfId:void 0,swfWidth:"100%",swfHeight:"100%",expressInstall:!1,initComponent:function(){Ext.FlashComponent.superclass.initComponent.call(this);this.addEvents("initialize")},onRender:function(){Ext.FlashComponent.superclass.onRender.apply(this,arguments);var a=Ext.apply({allowScriptAccess:"always",bgcolor:this.backgroundColor,wmode:this.wmode},
this.flashParams),b=Ext.apply({allowedDomain:document.location.hostname,YUISwfId:this.getId(),YUIBridgeCallback:"Ext.FlashEventProxy.onEvent"},this.flashVars);new swfobject.embedSWF(this.url,this.id,this.swfWidth,this.swfHeight,this.flashVersion,this.expressInstall?Ext.FlashComponent.EXPRESS_INSTALL_URL:void 0,b,a);this.swf=Ext.getDom(this.id);this.el=Ext.get(this.swf)},getSwfId:function(){return this.swfId||(this.swfId="extswf"+ ++Ext.Component.AUTO_ID)},getId:function(){return this.id||(this.id=
"extflashcmp"+ ++Ext.Component.AUTO_ID)},onFlashEvent:function(a){switch(a.type){case "swfReady":this.initSwf();return;case "log":return}a.component=this;this.fireEvent(a.type.toLowerCase().replace(/event$/,""),a)},initSwf:function(){this.onSwfReady(!!this.isInitialized);this.isInitialized=!0;this.fireEvent("initialize",this)},beforeDestroy:function(){this.rendered&&swfobject.removeSWF(this.swf.id);Ext.FlashComponent.superclass.beforeDestroy.call(this)},onSwfReady:Ext.emptyFn});
Ext.FlashComponent.EXPRESS_INSTALL_URL="http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf";Ext.reg("flash",Ext.FlashComponent);Ext.FlashEventProxy={onEvent:function(a,b){var c=Ext.getCmp(a);if(c)c.onFlashEvent(b);else arguments.callee.defer(10,this,[a,b])}};
Ext.chart.Chart=Ext.extend(Ext.FlashComponent,{refreshBuffer:100,chartStyle:{padding:10,animationEnabled:!0,font:{name:"Tahoma",color:4473924,size:11},dataTip:{padding:5,border:{color:10075112,size:1},background:{color:14346230,alpha:0.9},font:{name:"Tahoma",color:1393291,size:10,bold:!0}}},extraStyle:null,seriesStyles:null,disableCaching:Ext.isIE||Ext.isOpera,disableCacheParam:"_dc",initComponent:function(){Ext.chart.Chart.superclass.initComponent.call(this);this.url||(this.url=Ext.chart.Chart.CHART_URL);
this.disableCaching&&(this.url=Ext.urlAppend(this.url,String.format("{0}={1}",this.disableCacheParam,(new Date).getTime())));this.addEvents("itemmouseover","itemmouseout","itemclick","itemdoubleclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh");this.store=Ext.StoreMgr.lookup(this.store)},setStyle:function(a,b){this.swf.setStyle(a,Ext.encode(b))},setStyles:function(a){this.swf.setStyles(Ext.encode(a))},setSeriesStyles:function(a){this.seriesStyles=a;var b=[];Ext.each(a,function(a){b.push(Ext.encode(a))});
this.swf.setSeriesStyles(b)},setCategoryNames:function(a){this.swf.setCategoryNames(a)},setLegendRenderer:function(a,b){b=b||this;this.removeFnProxy(this.legendFnName);this.legendFnName=this.createFnProxy(function(c){return a.call(b,c)});this.swf.setLegendLabelFunction(this.legendFnName)},setTipRenderer:function(a,b){var c=this,b=b||c;c.removeFnProxy(c.tipFnName);c.tipFnName=c.createFnProxy(function(d,g,h){d=c.store.getAt(g);return a.call(b,c,d,g,h)});c.swf.setDataTipFunction(c.tipFnName)},setSeries:function(a){this.series=
a;this.refresh()},bindStore:function(a,b){!b&&this.store&&(a!==this.store&&this.store.autoDestroy?this.store.destroy():(this.store.un("datachanged",this.refresh,this),this.store.un("add",this.delayRefresh,this),this.store.un("remove",this.delayRefresh,this),this.store.un("update",this.delayRefresh,this),this.store.un("clear",this.refresh,this)));a&&(a=Ext.StoreMgr.lookup(a),a.on({scope:this,datachanged:this.refresh,add:this.delayRefresh,remove:this.delayRefresh,update:this.delayRefresh,clear:this.refresh}));
(this.store=a)&&!b&&this.refresh()},onSwfReady:function(a){Ext.chart.Chart.superclass.onSwfReady.call(this,a);var b;this.swf.setType(this.type);this.chartStyle&&this.setStyles(Ext.apply({},this.extraStyle,this.chartStyle));this.categoryNames&&this.setCategoryNames(this.categoryNames);this.tipRenderer&&(b=this.getFunctionRef(this.tipRenderer),this.setTipRenderer(b.fn,b.scope));this.legendRenderer&&(b=this.getFunctionRef(this.legendRenderer),this.setLegendRenderer(b.fn,b.scope));a||this.bindStore(this.store,
!0);this.refresh.defer(10,this)},delayRefresh:function(){this.refreshTask||(this.refreshTask=new Ext.util.DelayedTask(this.refresh,this));this.refreshTask.delay(this.refreshBuffer)},refresh:function(){if(!1!==this.fireEvent("beforerefresh",this)){for(var a=[],b=this.store.data.items,c=0,d=b.length;c<d;c++)a[c]=b[c].data;var b=[],c=0,d=null,g=0;if(this.series){c=this.series.length;for(g=0;g<c;g++){var d=this.series[g],h={},l;for(l in d)"style"==l&&null!==d.style?h.style=Ext.encode(d.style):h[l]=d[l];
b.push(h)}}if(0<c)for(g=0;g<c;g++)d=b[g],d.type||(d.type=this.type),d.dataProvider=a;else b.push({type:this.type,dataProvider:a});this.swf.setDataProvider(b);this.seriesStyles&&this.setSeriesStyles(this.seriesStyles);this.fireEvent("refresh",this)}},createFnProxy:function(a){var b="extFnProxy"+ ++Ext.chart.Chart.PROXY_FN_ID;Ext.chart.Chart.proxyFunction[b]=a;return"Ext.chart.Chart.proxyFunction."+b},removeFnProxy:function(a){Ext.isEmpty(a)||(a=a.replace("Ext.chart.Chart.proxyFunction.",""),delete Ext.chart.Chart.proxyFunction[a])},
getFunctionRef:function(a){return Ext.isFunction(a)?{fn:a,scope:this}:{fn:a.fn,scope:a.scope||this}},onDestroy:function(){this.refreshTask&&this.refreshTask.cancel&&this.refreshTask.cancel();Ext.chart.Chart.superclass.onDestroy.call(this);this.bindStore(null);this.removeFnProxy(this.tipFnName);this.removeFnProxy(this.legendFnName)}});Ext.reg("chart",Ext.chart.Chart);Ext.chart.Chart.PROXY_FN_ID=0;Ext.chart.Chart.proxyFunction={};Ext.chart.Chart.CHART_URL="http://yui.yahooapis.com/2.8.0/build/charts/assets/charts.swf";
Ext.chart.PieChart=Ext.extend(Ext.chart.Chart,{type:"pie",onSwfReady:function(a){Ext.chart.PieChart.superclass.onSwfReady.call(this,a);this.setDataField(this.dataField);this.setCategoryField(this.categoryField)},setDataField:function(a){this.dataField=a;this.swf.setDataField(a)},setCategoryField:function(a){this.categoryField=a;this.swf.setCategoryField(a)}});Ext.reg("piechart",Ext.chart.PieChart);
Ext.chart.CartesianChart=Ext.extend(Ext.chart.Chart,{onSwfReady:function(a){Ext.chart.CartesianChart.superclass.onSwfReady.call(this,a);this.labelFn=[];this.xField&&this.setXField(this.xField);this.yField&&this.setYField(this.yField);this.xAxis&&this.setXAxis(this.xAxis);this.xAxes&&this.setXAxes(this.xAxes);this.yAxis&&this.setYAxis(this.yAxis);this.yAxes&&this.setYAxes(this.yAxes);Ext.isDefined(this.constrainViewport)&&this.swf.setConstrainViewport(this.constrainViewport)},setXField:function(a){this.xField=
a;this.swf.setHorizontalField(a)},setYField:function(a){this.yField=a;this.swf.setVerticalField(a)},setXAxis:function(a){this.xAxis=this.createAxis("xAxis",a);this.swf.setHorizontalAxis(this.xAxis)},setXAxes:function(a){for(var b,c=0;c<a.length;c++)b=this.createAxis("xAxis"+c,a[c]),this.swf.setHorizontalAxis(b)},setYAxis:function(a){this.yAxis=this.createAxis("yAxis",a);this.swf.setVerticalAxis(this.yAxis)},setYAxes:function(a){for(var b,c=0;c<a.length;c++)b=this.createAxis("yAxis"+c,a[c]),this.swf.setVerticalAxis(b)},
createAxis:function(a,b){var c=Ext.apply({},b),d,g;this[a]&&(g=this[a].labelFunction,this.removeFnProxy(g),this.labelFn.remove(g));c.labelRenderer&&(d=this.getFunctionRef(c.labelRenderer),c.labelFunction=this.createFnProxy(function(a){return d.fn.call(d.scope,a)}),delete c.labelRenderer,this.labelFn.push(c.labelFunction));-1<a.indexOf("xAxis")&&"left"==c.position&&(c.position="bottom");return c},onDestroy:function(){Ext.chart.CartesianChart.superclass.onDestroy.call(this);Ext.each(this.labelFn,function(a){this.removeFnProxy(a)},
this)}});Ext.reg("cartesianchart",Ext.chart.CartesianChart);Ext.chart.LineChart=Ext.extend(Ext.chart.CartesianChart,{type:"line"});Ext.reg("linechart",Ext.chart.LineChart);Ext.chart.ColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"column"});Ext.reg("columnchart",Ext.chart.ColumnChart);Ext.chart.StackedColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackcolumn"});Ext.reg("stackedcolumnchart",Ext.chart.StackedColumnChart);Ext.chart.BarChart=Ext.extend(Ext.chart.CartesianChart,{type:"bar"});
Ext.reg("barchart",Ext.chart.BarChart);Ext.chart.StackedBarChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackbar"});Ext.reg("stackedbarchart",Ext.chart.StackedBarChart);Ext.chart.Axis=function(a){Ext.apply(this,a)};Ext.chart.Axis.prototype={type:null,orientation:"horizontal",reverse:!1,labelFunction:null,hideOverlappingLabels:!0,labelSpacing:2};
Ext.chart.NumericAxis=Ext.extend(Ext.chart.Axis,{type:"numeric",minimum:NaN,maximum:NaN,majorUnit:NaN,minorUnit:NaN,snapToUnits:!0,alwaysShowZero:!0,scale:"linear",roundMajorUnit:!0,calculateByLabelSize:!0,position:"left",adjustMaximumByMajorUnit:!0,adjustMinimumByMajorUnit:!0});Ext.chart.TimeAxis=Ext.extend(Ext.chart.Axis,{type:"time",minimum:null,maximum:null,majorUnit:NaN,majorTimeUnit:null,minorUnit:NaN,minorTimeUnit:null,snapToUnits:!0,stackingEnabled:!1,calculateByLabelSize:!0});
Ext.chart.CategoryAxis=Ext.extend(Ext.chart.Axis,{type:"category",categoryNames:null,calculateCategoryCount:!1});Ext.chart.Series=function(a){Ext.apply(this,a)};Ext.chart.Series.prototype={type:null,displayName:null};Ext.chart.CartesianSeries=Ext.extend(Ext.chart.Series,{xField:null,yField:null,showInLegend:!0,axis:"primary"});Ext.chart.ColumnSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"column"});Ext.chart.LineSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"line"});
Ext.chart.BarSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"bar"});Ext.chart.PieSeries=Ext.extend(Ext.chart.Series,{type:"pie",dataField:null,categoryField:null});
Ext.menu.Menu=Ext.extend(Ext.Container,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:!1,ignoreParentClicks:!1,enableScrolling:!0,maxHeight:null,scrollIncrement:24,showSeparator:!0,defaultOffsets:[0,0],plain:!1,floating:!0,zIndex:15E3,hidden:!0,layout:"menu",hideMode:"offsets",scrollerHeight:8,autoLayout:!0,defaultType:"menuitem",bufferResize:!1,initComponent:function(){Ext.isArray(this.initialConfig)&&Ext.apply(this,{items:this.initialConfig});this.addEvents("click",
"mouseover","mouseout","itemclick");Ext.menu.MenuMgr.register(this);if(this.floating)Ext.EventManager.onWindowResize(this.hide,this);else!1!==this.initialConfig.hidden&&(this.hidden=!1),this.internalDefaults={hideOnClick:!1};Ext.menu.Menu.superclass.initComponent.call(this);if(this.autoLayout){var a=this.doLayout.createDelegate(this,[]);this.on({add:a,remove:a})}},getLayoutTarget:function(){return this.ul},onRender:function(a,b){a||(a=Ext.getBody());var c={id:this.getId(),cls:"x-menu "+(this.floating?
"x-menu-floating x-layer ":"")+(this.cls||"")+(this.plain?" x-menu-plain":"")+(this.showSeparator?"":" x-menu-nosep"),style:this.style,cn:[{tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"},{tag:"ul",cls:"x-menu-list"}]};this.el=this.floating?new Ext.Layer({shadow:this.shadow,dh:c,constrain:!1,parentEl:a,zindex:this.zIndex}):a.createChild(c);Ext.menu.Menu.superclass.onRender.call(this,a,b);this.keyNav||(this.keyNav=new Ext.menu.MenuNav(this));this.focusEl=this.el.child("a.x-menu-focus");
this.ul=this.el.child("ul.x-menu-list");this.mon(this.ul,{scope:this,click:this.onClick,mouseover:this.onMouseOver,mouseout:this.onMouseOut});this.enableScrolling&&this.mon(this.el,{scope:this,delegate:".x-menu-scroller",click:this.onScroll,mouseover:this.deactivateActive})},findTargetItem:function(a){if((a=a.getTarget(".x-menu-list-item",this.ul,!0))&&a.menuItemId)return this.items.get(a.menuItemId)},onClick:function(a){var b=this.findTargetItem(a);b&&(b.isFormField?this.setActiveItem(b):b instanceof
Ext.menu.BaseItem&&(b.menu&&this.ignoreParentClicks?(b.expandMenu(),a.preventDefault()):b.onClick&&(b.onClick(a),this.fireEvent("click",this,b,a))))},setActiveItem:function(a,b){a!=this.activeItem?(this.deactivateActive(),(this.activeItem=a).isFormField?a.focus():a.activate(b)):b&&a.expandMenu()},deactivateActive:function(){var a=this.activeItem;a&&(a.isFormField?a.collapse&&a.collapse():a.deactivate(),delete this.activeItem)},tryActivate:function(a,b){for(var c=this.items,d=a,g=c.length;0<=d&&d<
g;d+=b){var h=c.get(d);if(!h.disabled&&(h.canActivate||h.isFormField))return this.setActiveItem(h,!1),h}return!1},onMouseOver:function(a){var b=this.findTargetItem(a);b&&b.canActivate&&!b.disabled&&this.setActiveItem(b,!0);this.over=!0;this.fireEvent("mouseover",this,a,b)},onMouseOut:function(a){var b=this.findTargetItem(a);b&&(b==this.activeItem&&b.shouldDeactivate&&b.shouldDeactivate(a))&&(this.activeItem.deactivate(),delete this.activeItem);this.over=!1;this.fireEvent("mouseout",this,a,b)},onScroll:function(a,
b){a&&a.stopEvent();var c=this.ul.dom,d=Ext.fly(b).is(".x-menu-scroller-top");c.scrollTop+=this.scrollIncrement*(d?-1:1);if(d?0>=c.scrollTop:c.scrollTop+this.activeMax>=c.scrollHeight)this.onScrollerOut(null,b)},onScrollerIn:function(a,b){var c=this.ul.dom;(Ext.fly(b).is(".x-menu-scroller-top")?0<c.scrollTop:c.scrollTop+this.activeMax<c.scrollHeight)&&Ext.fly(b).addClass(["x-menu-item-active","x-menu-scroller-active"])},onScrollerOut:function(a,b){Ext.fly(b).removeClass(["x-menu-item-active","x-menu-scroller-active"])},
show:function(a,b,c){this.floating?(this.parentMenu=c,this.el||(this.render(),this.doLayout(!1,!0)),this.showAt(this.el.getAlignToXY(a,b||this.defaultAlign,this.defaultOffsets),c)):Ext.menu.Menu.superclass.show.call(this)},showAt:function(a,b){!1!==this.fireEvent("beforeshow",this)&&(this.parentMenu=b,this.el||this.render(),this.enableScrolling?(this.el.setXY(a),a[1]=this.constrainScroll(a[1]),a=[this.el.adjustForConstraints(a)[0],a[1]]):a=this.el.adjustForConstraints(a),this.el.setXY(a),this.el.show(),
Ext.menu.Menu.superclass.onShow.call(this),Ext.isIE&&(this.fireEvent("autosize",this),Ext.isIE8||this.el.repaint()),this.hidden=!1,this.focus(),this.fireEvent("show",this))},constrainScroll:function(a){var b,c=this.ul.setHeight("auto").getHeight(),d=a,g,h;this.floating?(h=Ext.fly(this.el.dom.parentNode),b=h.getScroll().top,h=h.getViewSize().height,g=a-b,b=this.maxHeight?this.maxHeight:h-g,c>h?(b=h,d=a-g):b<c&&(d=a-(c-b),b=c)):b=this.getHeight();this.maxHeight&&(b=Math.min(this.maxHeight,b));c>b&&
0<b?(this.activeMax=b-2*this.scrollerHeight-this.el.getFrameWidth("tb")-Ext.num(this.el.shadowOffset,0),this.ul.setHeight(this.activeMax),this.createScrollers(),this.el.select(".x-menu-scroller").setDisplayed("")):(this.ul.setHeight(c),this.el.select(".x-menu-scroller").setDisplayed("none"));this.ul.dom.scrollTop=0;return d},createScrollers:function(){this.scroller||(this.scroller={pos:0,top:this.el.insertFirst({tag:"div",cls:"x-menu-scroller x-menu-scroller-top",html:"&#160;"}),bottom:this.el.createChild({tag:"div",
cls:"x-menu-scroller x-menu-scroller-bottom",html:"&#160;"})},this.scroller.top.hover(this.onScrollerIn,this.onScrollerOut,this),this.scroller.topRepeater=new Ext.util.ClickRepeater(this.scroller.top,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.top],!1)}}),this.scroller.bottom.hover(this.onScrollerIn,this.onScrollerOut,this),this.scroller.bottomRepeater=new Ext.util.ClickRepeater(this.scroller.bottom,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.bottom],
!1)}}))},onLayout:function(){this.isVisible()&&(this.enableScrolling&&this.constrainScroll(this.el.getTop()),this.floating&&this.el.sync())},focus:function(){this.hidden||this.doFocus.defer(50,this)},doFocus:function(){this.hidden||this.focusEl.focus()},hide:function(a){this.isDestroyed||(this.deepHide=a,Ext.menu.Menu.superclass.hide.call(this),delete this.deepHide)},onHide:function(){Ext.menu.Menu.superclass.onHide.call(this);this.deactivateActive();this.el&&this.floating&&this.el.hide();var a=this.parentMenu;
!0===this.deepHide&&a&&(a.floating?a.hide(!0):a.deactivateActive())},lookupComponent:function(a){if(Ext.isString(a))a="separator"==a||"-"==a?new Ext.menu.Separator:new Ext.menu.TextItem(a),this.applyDefaults(a);else if(Ext.isObject(a))a=this.getMenuItem(a);else if(a.tagName||a.el)a=new Ext.BoxComponent({el:a});return a},applyDefaults:function(a){if(!Ext.isString(a)){var a=Ext.menu.Menu.superclass.applyDefaults.call(this,a),b=this.internalDefaults;b&&(a.events?(Ext.applyIf(a.initialConfig,b),Ext.apply(a,
b)):Ext.applyIf(a,b))}return a},getMenuItem:function(a){return!a.isXType?!a.xtype&&Ext.isBoolean(a.checked)?new Ext.menu.CheckItem(a):Ext.create(a,this.defaultType):a},addSeparator:function(){return this.add(new Ext.menu.Separator)},addElement:function(a){return this.add(new Ext.menu.BaseItem({el:a}))},addItem:function(a){return this.add(a)},addMenuItem:function(a){return this.add(this.getMenuItem(a))},addText:function(a){return this.add(new Ext.menu.TextItem(a))},onDestroy:function(){Ext.EventManager.removeResizeListener(this.hide,
this);var a=this.parentMenu;a&&a.activeChild==this&&delete a.activeChild;delete this.parentMenu;Ext.menu.Menu.superclass.onDestroy.call(this);Ext.menu.MenuMgr.unregister(this);this.keyNav&&this.keyNav.disable();(a=this.scroller)&&Ext.destroy(a.topRepeater,a.bottomRepeater,a.top,a.bottom);Ext.destroy(this.el,this.focusEl,this.ul)}});Ext.reg("menu",Ext.menu.Menu);
Ext.menu.MenuNav=Ext.extend(Ext.KeyNav,function(){function a(a,b){b.tryActivate(b.items.indexOf(b.activeItem)-1,-1)||b.tryActivate(b.items.length-1,-1)}function b(a,b){b.tryActivate(b.items.indexOf(b.activeItem)+1,1)||b.tryActivate(0,1)}return{constructor:function(a){Ext.menu.MenuNav.superclass.constructor.call(this,a.el);this.scope=this.menu=a},doRelay:function(a,b){var g=a.getKey();return this.menu.activeItem&&this.menu.activeItem.isFormField&&g!=a.TAB?!1:!this.menu.activeItem&&a.isNavKeyPress()&&
g!=a.SPACE&&g!=a.RETURN?(this.menu.tryActivate(0,1),!1):b.call(this.scope||this,a,this.menu)},tab:function(c,d){c.stopEvent();c.shiftKey?a(c,d):b(c,d)},up:a,down:b,right:function(a,b){b.activeItem&&b.activeItem.expandMenu(!0)},left:function(a,b){b.hide();b.parentMenu&&b.parentMenu.activeItem&&b.parentMenu.activeItem.activate()},enter:function(a,b){if(b.activeItem)return a.stopPropagation(),b.activeItem.onClick(a),b.fireEvent("click",this,b.activeItem),!0}}}());
Ext.menu.MenuMgr=function(){function a(){return q&&0<q.length?(q.clone().each(function(a){a.hide()}),!0):!1}function b(a){q.remove(a);1>q.length&&(Ext.getDoc().un("mousedown",h),s=!1)}function c(a){var b=q.last();p=new Date;q.add(a);s||(Ext.getDoc().on("mousedown",h),s=!0);a.parentMenu?(a.getEl().setZIndex(parseInt(a.parentMenu.getEl().getStyle("z-index"),10)+3),a.parentMenu.activeChild=a):b&&(!b.isDestroyed&&b.isVisible())&&a.getEl().setZIndex(parseInt(b.getEl().getStyle("z-index"),10)+3)}function d(a){a.activeChild&&
a.activeChild.hide();a.autoHideTimer&&(clearTimeout(a.autoHideTimer),delete a.autoHideTimer)}function g(b){var c=b.parentMenu;!c&&!b.allowOtherMenus?a():c&&c.activeChild&&c.activeChild.hide()}function h(b){50<p.getElapsed()&&(0<q.length&&!b.getTarget(".x-menu"))&&a()}function l(a,b){if(b)for(var c=r[a.group],d=0,g=c.length;d<g;d++)c[d]!=a&&c[d].setChecked(!1)}var n,q,r={},s=!1,p=new Date;return{hideAll:function(){return a()},register:function(h){n||(n={},q=new Ext.util.MixedCollection,Ext.getDoc().addKeyListener(27,
function(){0<q.length&&a()}));n[h.id]=h;h.on({beforehide:d,hide:b,beforeshow:g,show:c})},get:function(a){return"string"==typeof a?!n?null:n[a]:a.events?a:"number"==typeof a.length?new Ext.menu.Menu({items:a}):Ext.create(a,"menu")},unregister:function(a){delete n[a.id];a.un("beforehide",d);a.un("hide",b);a.un("beforeshow",g);a.un("show",c)},registerCheckable:function(a){var b=a.group;b&&(r[b]||(r[b]=[]),r[b].push(a),a.on("beforecheckchange",l))},unregisterCheckable:function(a){var b=a.group;b&&(r[b].remove(a),
a.un("beforecheckchange",l))},getCheckedItem:function(a){if(a=r[a])for(var b=0,c=a.length;b<c;b++)if(a[b].checked)return a[b];return null},setCheckedItem:function(a,b){var c=r[a];if(c)for(var d=0,g=c.length;d<g;d++)c[d].id==b&&c[d].setChecked(!0);return null}}}();
Ext.menu.BaseItem=Ext.extend(Ext.Component,{canActivate:!1,activeClass:"x-menu-item-active",hideOnClick:!0,clickHideDelay:1,ctype:"Ext.menu.BaseItem",actionMode:"container",initComponent:function(){Ext.menu.BaseItem.superclass.initComponent.call(this);this.addEvents("click","activate","deactivate");if(this.handler)this.on("click",this.handler,this.scope)},onRender:function(a,b){Ext.menu.BaseItem.superclass.onRender.apply(this,arguments);this.ownerCt&&this.ownerCt instanceof Ext.menu.Menu?this.parentMenu=
this.ownerCt:(this.container.addClass("x-menu-list-item"),this.mon(this.el,{scope:this,click:this.onClick,mouseenter:this.activate,mouseleave:this.deactivate}))},setHandler:function(a,b){this.handler&&this.un("click",this.handler,this.scope);this.on("click",this.handler=a,this.scope=b)},onClick:function(a){!this.disabled&&!1!==this.fireEvent("click",this,a)&&this.parentMenu&&!1!==this.parentMenu.fireEvent("itemclick",this,a)?this.handleClick(a):a.stopEvent()},activate:function(){if(this.disabled)return!1;
var a=this.container;a.addClass(this.activeClass);this.region=a.getRegion().adjust(2,2,-2,-2);this.fireEvent("activate",this);return!0},deactivate:function(){this.container.removeClass(this.activeClass);this.fireEvent("deactivate",this)},shouldDeactivate:function(a){return!this.region||!this.region.contains(a.getPoint())},handleClick:function(){var a=this.parentMenu;this.hideOnClick&&(a.floating?a.hide.defer(this.clickHideDelay,a,[!0]):a.deactivateActive())},expandMenu:Ext.emptyFn,hideMenu:Ext.emptyFn});
Ext.reg("menubaseitem",Ext.menu.BaseItem);Ext.menu.TextItem=Ext.extend(Ext.menu.BaseItem,{hideOnClick:!1,itemCls:"x-menu-text",constructor:function(a){"string"==typeof a&&(a={text:a});Ext.menu.TextItem.superclass.constructor.call(this,a)},onRender:function(){var a=document.createElement("span");a.className=this.itemCls;a.innerHTML=this.text;this.el=a;Ext.menu.TextItem.superclass.onRender.apply(this,arguments)}});Ext.reg("menutextitem",Ext.menu.TextItem);
Ext.menu.Separator=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-sep",hideOnClick:!1,activeClass:"",onRender:function(a){var b=document.createElement("span");b.className=this.itemCls;b.innerHTML="&#160;";this.el=b;a.addClass("x-menu-sep-li");Ext.menu.Separator.superclass.onRender.apply(this,arguments)}});Ext.reg("menuseparator",Ext.menu.Separator);
Ext.menu.Item=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-item",canActivate:!0,showDelay:200,hideDelay:200,ctype:"Ext.menu.Item",initComponent:function(){Ext.menu.Item.superclass.initComponent.call(this);this.menu&&(this.menu=Ext.menu.MenuMgr.get(this.menu),this.menu.ownerCt=this)},onRender:function(a,b){this.itemTpl||(this.itemTpl=Ext.menu.Item.prototype.itemTpl=new Ext.XTemplate('<a id="{id}" class="{cls}" hidefocus="true" unselectable="on" href="{href}"','<tpl if="hrefTarget">',' target="{hrefTarget}"',
"</tpl>",">",'<img src="{icon}" class="x-menu-item-icon {iconCls}"/>','<span class="x-menu-item-text">{text}</span>',"</a>"));var c=this.getTemplateArgs();this.el=b?this.itemTpl.insertBefore(b,c,!0):this.itemTpl.append(a,c,!0);this.iconEl=this.el.child("img.x-menu-item-icon");this.textEl=this.el.child(".x-menu-item-text");this.href||this.mon(this.el,"click",Ext.emptyFn,null,{preventDefault:!0});Ext.menu.Item.superclass.onRender.call(this,a,b)},getTemplateArgs:function(){return{id:this.id,cls:this.itemCls+
(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:""),href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||Ext.BLANK_IMAGE_URL,iconCls:this.iconCls||"",text:this.itemText||this.text||"&#160;"}},setText:function(a){this.text=a||"&#160;";this.rendered&&(this.textEl.update(this.text),this.parentMenu.layout.doAutoSize())},setIconClass:function(a){var b=this.iconCls;this.iconCls=a;this.rendered&&this.iconEl.replaceClass(b,this.iconCls)},beforeDestroy:function(){this.menu&&(delete this.menu.ownerCt,
this.menu.destroy());Ext.menu.Item.superclass.beforeDestroy.call(this)},handleClick:function(a){this.href||a.stopEvent();Ext.menu.Item.superclass.handleClick.apply(this,arguments)},activate:function(a){Ext.menu.Item.superclass.activate.apply(this,arguments)&&(this.focus(),a&&this.expandMenu());return!0},shouldDeactivate:function(a){return Ext.menu.Item.superclass.shouldDeactivate.call(this,a)?this.menu&&this.menu.isVisible()?!this.menu.getEl().getRegion().contains(a.getPoint()):!0:!1},deactivate:function(){Ext.menu.Item.superclass.deactivate.apply(this,
arguments);this.hideMenu()},expandMenu:function(a){!this.disabled&&this.menu&&(clearTimeout(this.hideTimer),delete this.hideTimer,!this.menu.isVisible()&&!this.showTimer?this.showTimer=this.deferExpand.defer(this.showDelay,this,[a]):this.menu.isVisible()&&a&&this.menu.tryActivate(0,1))},deferExpand:function(a){delete this.showTimer;this.menu.show(this.container,this.parentMenu.subMenuAlign||"tl-tr?",this.parentMenu);a&&this.menu.tryActivate(0,1)},hideMenu:function(){clearTimeout(this.showTimer);delete this.showTimer;
!this.hideTimer&&(this.menu&&this.menu.isVisible())&&(this.hideTimer=this.deferHide.defer(this.hideDelay,this))},deferHide:function(){delete this.hideTimer;this.menu.over?this.parentMenu.setActiveItem(this,!1):this.menu.hide()}});Ext.reg("menuitem",Ext.menu.Item);
Ext.menu.CheckItem=Ext.extend(Ext.menu.Item,{itemCls:"x-menu-item x-menu-check-item",groupClass:"x-menu-group-item",checked:!1,ctype:"Ext.menu.CheckItem",initComponent:function(){Ext.menu.CheckItem.superclass.initComponent.call(this);this.addEvents("beforecheckchange","checkchange");if(this.checkHandler)this.on("checkchange",this.checkHandler,this.scope);Ext.menu.MenuMgr.registerCheckable(this)},onRender:function(a){Ext.menu.CheckItem.superclass.onRender.apply(this,arguments);this.group&&this.el.addClass(this.groupClass);
this.checked&&(this.checked=!1,this.setChecked(!0,!0))},destroy:function(){Ext.menu.MenuMgr.unregisterCheckable(this);Ext.menu.CheckItem.superclass.destroy.apply(this,arguments)},setChecked:function(a,b){var c=!0===b;if(this.checked!=a&&(c||!1!==this.fireEvent("beforecheckchange",this,a))){if(this.container)this.container[a?"addClass":"removeClass"]("x-menu-item-checked");this.checked=a;c||this.fireEvent("checkchange",this,a)}},handleClick:function(a){!this.disabled&&(!this.checked||!this.group)&&
this.setChecked(!this.checked);Ext.menu.CheckItem.superclass.handleClick.apply(this,arguments)}});Ext.reg("menucheckitem",Ext.menu.CheckItem);
Ext.menu.DateMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:!1,hideOnClick:!0,pickerId:null,cls:"x-date-menu",initComponent:function(){this.on("beforeshow",this.onBeforeShow,this);if(this.strict=Ext.isIE7&&Ext.isStrict)this.on("show",this.onShow,this,{single:!0,delay:20});Ext.apply(this,{plain:!0,showSeparator:!1,items:this.picker=new Ext.DatePicker(Ext.applyIf({internalRender:this.strict||!Ext.isIE,ctCls:"x-menu-date-item",id:this.pickerId},this.initialConfig))});this.picker.purgeListeners();Ext.menu.DateMenu.superclass.initComponent.call(this);
this.relayEvents(this.picker,["select"]);this.on("show",this.picker.focus,this.picker);this.on("select",this.menuHide,this);if(this.handler)this.on("select",this.handler,this.scope||this)},menuHide:function(){this.hideOnClick&&this.hide(!0)},onBeforeShow:function(){this.picker&&this.picker.hideMonthPicker(!0)},onShow:function(){var a=this.picker.getEl();a.setWidth(a.getWidth())}});Ext.reg("datemenu",Ext.menu.DateMenu);
Ext.menu.ColorMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:!1,hideOnClick:!0,cls:"x-color-menu",paletteId:null,initComponent:function(){Ext.apply(this,{plain:!0,showSeparator:!1,items:this.palette=new Ext.ColorPalette(Ext.applyIf({id:this.paletteId},this.initialConfig))});this.palette.purgeListeners();Ext.menu.ColorMenu.superclass.initComponent.call(this);this.relayEvents(this.palette,["select"]);this.on("select",this.menuHide,this);if(this.handler)this.on("select",this.handler,this.scope||this)},
menuHide:function(){this.hideOnClick&&this.hide(!0)}});Ext.reg("colormenu",Ext.menu.ColorMenu);
Ext.form.Field=Ext.extend(Ext.BoxComponent,{invalidClass:"x-form-invalid",invalidText:"The value in this field is invalid",focusClass:"x-form-focus",validationEvent:"keyup",validateOnBlur:!0,validationDelay:250,defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},fieldClass:"x-form-field",msgTarget:"qtip",msgFx:"normal",readOnly:!1,disabled:!1,submitValue:!0,isFormField:!0,msgDisplay:"",hasFocus:!1,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this);this.addEvents("focus",
"blur","specialkey","change","invalid","valid")},getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:this.name||this.id||""},onRender:function(a,b){if(!this.el){var c=this.getAutoCreate();c.name||(c.name=this.name||this.id);this.inputType&&(c.type=this.inputType);this.autoEl=c}Ext.form.Field.superclass.onRender.call(this,a,b);!1===this.submitValue&&this.el.dom.removeAttribute("name");if(c=this.el.dom.type)"password"==c&&(c="text"),this.el.addClass("x-form-"+c);this.readOnly&&
this.setReadOnly(!0);void 0!==this.tabIndex&&this.el.dom.setAttribute("tabIndex",this.tabIndex);this.el.addClass([this.fieldClass,this.cls])},getItemCt:function(){return this.itemCt},initValue:function(){void 0!==this.value?this.setValue(this.value):!Ext.isEmpty(this.el.dom.value)&&this.el.dom.value!=this.emptyText&&this.setValue(this.el.dom.value);this.originalValue=this.getValue()},isDirty:function(){return this.disabled||!this.rendered?!1:String(this.getValue())!==String(this.originalValue)},setReadOnly:function(a){this.rendered&&
(this.el.dom.readOnly=a);this.readOnly=a},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this);this.initEvents();this.initValue()},fireKey:function(a){a.isSpecialKey()&&this.fireEvent("specialkey",this,a)},reset:function(){this.setValue(this.originalValue);this.clearInvalid()},initEvents:function(){this.mon(this.el,Ext.EventManager.useKeydown?"keydown":"keypress",this.fireKey,this);this.mon(this.el,"focus",this.onFocus,this);this.mon(this.el,"blur",this.onBlur,this,this.inEditor?
{buffer:10}:null)},preFocus:Ext.emptyFn,onFocus:function(){this.preFocus();this.focusClass&&this.el.addClass(this.focusClass);this.hasFocus||(this.hasFocus=!0,this.startValue=this.getValue(),this.fireEvent("focus",this))},beforeBlur:Ext.emptyFn,onBlur:function(){this.beforeBlur();this.focusClass&&this.el.removeClass(this.focusClass);this.hasFocus=!1;!1!==this.validationEvent&&(this.validateOnBlur||"blur"==this.validationEvent)&&this.validate();var a=this.getValue();String(a)!==String(this.startValue)&&
this.fireEvent("change",this,a,this.startValue);this.fireEvent("blur",this);this.postBlur()},postBlur:Ext.emptyFn,isValid:function(a){if(this.disabled)return!0;var b=this.preventMark;this.preventMark=!0===a;a=this.validateValue(this.processValue(this.getRawValue()));this.preventMark=b;return a},validate:function(){return this.disabled||this.validateValue(this.processValue(this.getRawValue()))?(this.clearInvalid(),!0):!1},processValue:function(a){return a},validateValue:function(a){a=this.getErrors(a)[0];
if(void 0==a)return!0;this.markInvalid(a);return!1},getErrors:function(){return[]},getActiveError:function(){return this.activeError||""},markInvalid:function(a){if(this.rendered&&!this.preventMark){var a=a||this.invalidText,b=this.getMessageHandler();if(b)b.mark(this,a);else if(this.msgTarget&&(this.el.addClass(this.invalidClass),b=Ext.getDom(this.msgTarget)))b.innerHTML=a,b.style.display=this.msgDisplay}this.setActiveError(a)},clearInvalid:function(){if(this.rendered&&!this.preventMark){this.el.removeClass(this.invalidClass);
var a=this.getMessageHandler();if(a)a.clear(this);else if(this.msgTarget&&(this.el.removeClass(this.invalidClass),a=Ext.getDom(this.msgTarget)))a.innerHTML="",a.style.display="none"}this.unsetActiveError()},setActiveError:function(a,b){this.activeError=a;!0!==b&&this.fireEvent("invalid",this,a)},unsetActiveError:function(a){delete this.activeError;!0!==a&&this.fireEvent("valid",this)},getMessageHandler:function(){return Ext.form.MessageTargets[this.msgTarget]},getErrorCt:function(){return this.el.findParent(".x-form-element",
5,!0)||this.el.findParent(".x-form-field-wrap",5,!0)},alignErrorEl:function(){this.errorEl.setWidth(this.getErrorCt().getWidth(!0)-20)},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0])},getRawValue:function(){var a=this.rendered?this.el.getValue():Ext.value(this.value,"");a===this.emptyText&&(a="");return a},getValue:function(){if(!this.rendered)return this.value;var a=this.el.getValue();if(a===this.emptyText||void 0===a)a="";return a},setRawValue:function(a){return this.rendered?
this.el.dom.value=Ext.isEmpty(a)?"":a:""},setValue:function(a){this.value=a;this.rendered&&(this.el.dom.value=Ext.isEmpty(a)?"":a,this.validate());return this},append:function(a){this.setValue([this.getValue(),a].join(""))}});
Ext.form.MessageTargets={qtip:{mark:function(a,b){a.el.addClass(a.invalidClass);a.el.dom.qtip=b;a.el.dom.qclass="x-form-invalid-tip";Ext.QuickTips&&Ext.QuickTips.enable()},clear:function(a){a.el.removeClass(a.invalidClass);a.el.dom.qtip=""}},title:{mark:function(a,b){a.el.addClass(a.invalidClass);a.el.dom.title=b},clear:function(a){a.el.dom.title=""}},under:{mark:function(a,b){a.el.addClass(a.invalidClass);if(!a.errorEl){var c=a.getErrorCt();if(!c){a.el.dom.title=b;return}a.errorEl=c.createChild({cls:"x-form-invalid-msg"});
a.on("resize",a.alignErrorEl,a);a.on("destroy",function(){Ext.destroy(this.errorEl)},a)}a.alignErrorEl();a.errorEl.update(b);Ext.form.Field.msgFx[a.msgFx].show(a.errorEl,a)},clear:function(a){a.el.removeClass(a.invalidClass);a.errorEl?Ext.form.Field.msgFx[a.msgFx].hide(a.errorEl,a):a.el.dom.title=""}},side:{mark:function(a,b){a.el.addClass(a.invalidClass);if(!a.errorIcon){var c=a.getErrorCt();if(!c){a.el.dom.title=b;return}a.errorIcon=c.createChild({cls:"x-form-invalid-icon"});a.ownerCt&&(a.ownerCt.on("afterlayout",
a.alignErrorIcon,a),a.ownerCt.on("expand",a.alignErrorIcon,a));a.on("resize",a.alignErrorIcon,a);a.on("destroy",function(){Ext.destroy(this.errorIcon)},a)}a.alignErrorIcon();a.errorIcon.dom.qtip=b;a.errorIcon.dom.qclass="x-form-invalid-tip";a.errorIcon.show()},clear:function(a){a.el.removeClass(a.invalidClass);a.errorIcon?(a.errorIcon.dom.qtip="",a.errorIcon.hide()):a.el.dom.title=""}}};
Ext.form.Field.msgFx={normal:{show:function(a){a.setDisplayed("block")},hide:function(a){a.setDisplayed(!1).update("")}},slide:{show:function(a){a.slideIn("t",{stopFx:!0})},hide:function(a){a.slideOut("t",{stopFx:!0,useDisplay:!0})}},slideRight:{show:function(a,b){a.fixDisplay();a.alignTo(b.el,"tl-tr");a.slideIn("l",{stopFx:!0})},hide:function(a){a.slideOut("l",{stopFx:!0,useDisplay:!0})}}};Ext.reg("field",Ext.form.Field);
Ext.form.TextField=Ext.extend(Ext.form.Field,{grow:!1,growMin:30,growMax:800,vtype:null,maskRe:null,disableKeyFilter:!1,allowBlank:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",selectOnFocus:!1,blankText:"This field is required",validator:null,regex:null,regexText:"",emptyText:null,emptyClass:"x-form-empty-field",initComponent:function(){Ext.form.TextField.superclass.initComponent.call(this);
this.addEvents("autosize","keydown","keyup","keypress")},initEvents:function(){Ext.form.TextField.superclass.initEvents.call(this);"keyup"==this.validationEvent?(this.validationTask=new Ext.util.DelayedTask(this.validate,this),this.mon(this.el,"keyup",this.filterValidation,this)):!1!==this.validationEvent&&"blur"!=this.validationEvent&&this.mon(this.el,this.validationEvent,this.validate,this,{buffer:this.validationDelay});if(this.selectOnFocus||this.emptyText)this.mon(this.el,"mousedown",this.onMouseDown,
this),this.emptyText&&this.applyEmptyText();(this.maskRe||this.vtype&&!0!==this.disableKeyFilter&&(this.maskRe=Ext.form.VTypes[this.vtype+"Mask"]))&&this.mon(this.el,"keypress",this.filterKeys,this);this.grow&&(this.mon(this.el,"keyup",this.onKeyUpBuffered,this,{buffer:50}),this.mon(this.el,"click",this.autoSize,this));this.enableKeyEvents&&this.mon(this.el,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress})},onMouseDown:function(){this.hasFocus||this.mon(this.el,"mouseup",
Ext.emptyFn,this,{single:!0,preventDefault:!0})},processValue:function(a){if(this.stripCharsRe){var b=a.replace(this.stripCharsRe,"");if(b!==a)return this.setRawValue(b),b}return a},filterValidation:function(a){a.isNavKeyPress()||this.validationTask.delay(this.validationDelay)},onDisable:function(){Ext.form.TextField.superclass.onDisable.call(this);Ext.isIE&&(this.el.dom.unselectable="on")},onEnable:function(){Ext.form.TextField.superclass.onEnable.call(this);Ext.isIE&&(this.el.dom.unselectable="")},
onKeyUpBuffered:function(a){this.doAutoSize(a)&&this.autoSize()},doAutoSize:function(a){return!a.isNavKeyPress()},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){Ext.form.TextField.superclass.reset.call(this);this.applyEmptyText()},applyEmptyText:function(){this.rendered&&(this.emptyText&&1>this.getRawValue().length&&!this.hasFocus)&&(this.setRawValue(this.emptyText),
this.el.addClass(this.emptyClass))},preFocus:function(){var a=this.el;this.emptyText&&(a.dom.value==this.emptyText&&this.setRawValue(""),a.removeClass(this.emptyClass));this.selectOnFocus&&a.dom.select()},postBlur:function(){this.applyEmptyText()},filterKeys:function(a){if(!a.ctrlKey){var b=a.getKey();if(!Ext.isGecko||!a.isNavKeyPress()&&!(b==a.BACKSPACE||b==a.DELETE&&-1==a.button))if(b=String.fromCharCode(a.getCharCode()),Ext.isGecko||!a.isSpecialKey()||b)this.maskRe.test(b)||a.stopEvent()}},setValue:function(a){this.emptyText&&
(this.el&&!Ext.isEmpty(a))&&this.el.removeClass(this.emptyClass);Ext.form.TextField.superclass.setValue.apply(this,arguments);this.applyEmptyText();this.autoSize();return this},getErrors:function(a){var b=Ext.form.TextField.superclass.getErrors.apply(this,arguments),a=a||this.processValue(this.getRawValue());if(Ext.isFunction(this.validator)){var c=this.validator(a);!0!==c&&b.push(c)}if(1>a.length||a===this.emptyText){if(this.allowBlank)return b;b.push(this.blankText)}!this.allowBlank&&(1>a.length||
a===this.emptyText)&&b.push(this.blankText);a.length<this.minLength&&b.push(String.format(this.minLengthText,this.minLength));a.length>this.maxLength&&b.push(String.format(this.maxLengthText,this.maxLength));this.vtype&&(c=Ext.form.VTypes,c[this.vtype](a,this)||b.push(this.vtypeText||c[this.vtype+"Text"]));this.regex&&!this.regex.test(a)&&b.push(this.regexText);return b},selectText:function(a,b){var c=this.getRawValue(),d=!1;0<c.length?(a=void 0===a?0:a,b=void 0===b?c.length:b,d=this.el.dom,d.setSelectionRange?
d.setSelectionRange(a,b):d.createTextRange&&(d=d.createTextRange(),d.moveStart("character",a),d.moveEnd("character",b-c.length),d.select()),d=Ext.isGecko||Ext.isOpera):d=!0;d&&this.focus()},autoSize:function(){if(this.grow&&this.rendered){this.metrics||(this.metrics=Ext.util.TextMetrics.createInstance(this.el));var a=this.el.dom.value,b=document.createElement("div");b.appendChild(document.createTextNode(a));a=b.innerHTML;Ext.removeNode(b);a=Math.min(this.growMax,Math.max(this.metrics.getWidth(a+"&#160;")+
10,this.growMin));this.el.setWidth(a);this.fireEvent("autosize",this,a)}},onDestroy:function(){this.validationTask&&(this.validationTask.cancel(),this.validationTask=null);Ext.form.TextField.superclass.onDestroy.call(this)}});Ext.reg("textfield",Ext.form.TextField);
Ext.form.TriggerField=Ext.extend(Ext.form.TextField,{defaultAutoCreate:{tag:"input",type:"text",size:"16",autocomplete:"off"},hideTrigger:!1,editable:!0,readOnly:!1,wrapFocusClass:"x-trigger-wrap-focus",autoSize:Ext.emptyFn,monitorTab:!0,deferHeight:!0,mimicing:!1,actionMode:"wrap",defaultTriggerWidth:17,onResize:function(a,b){Ext.form.TriggerField.superclass.onResize.call(this,a,b);var c=this.getTriggerWidth();Ext.isNumber(a)&&this.el.setWidth(a-c);this.wrap.setWidth(this.el.getWidth()+c)},getTriggerWidth:function(){var a=
this.trigger.getWidth();!this.hideTrigger&&(!this.readOnly&&0===a)&&(a=this.defaultTriggerWidth);return a},alignErrorIcon:function(){this.wrap&&this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0])},onRender:function(a,b){this.doc=Ext.isIE?Ext.getBody():Ext.getDoc();Ext.form.TriggerField.superclass.onRender.call(this,a,b);this.wrap=this.el.wrap({cls:"x-form-field-wrap x-form-field-trigger-wrap"});this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+
this.triggerClass});this.initTrigger();this.width||this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth());this.resizeEl=this.positionEl=this.wrap},getWidth:function(){return this.el.getWidth()+this.trigger.getWidth()},updateEditState:function(){this.rendered&&(this.readOnly?(this.el.dom.readOnly=!0,this.el.addClass("x-trigger-noedit"),this.mun(this.el,"click",this.onTriggerClick,this),this.trigger.setDisplayed(!1)):(this.editable?(this.el.dom.readOnly=!1,this.el.removeClass("x-trigger-noedit"),
this.mun(this.el,"click",this.onTriggerClick,this)):(this.el.dom.readOnly=!0,this.el.addClass("x-trigger-noedit"),this.mon(this.el,"click",this.onTriggerClick,this)),this.trigger.setDisplayed(!this.hideTrigger)),this.onResize(this.width||this.wrap.getWidth()))},setHideTrigger:function(a){a!=this.hideTrigger&&(this.hideTrigger=a,this.updateEditState())},setEditable:function(a){a!=this.editable&&(this.editable=a,this.updateEditState())},setReadOnly:function(a){a!=this.readOnly&&(this.readOnly=a,this.updateEditState())},
afterRender:function(){Ext.form.TriggerField.superclass.afterRender.call(this);this.updateEditState()},initTrigger:function(){this.mon(this.trigger,"click",this.onTriggerClick,this,{preventDefault:!0});this.trigger.addClassOnOver("x-form-trigger-over");this.trigger.addClassOnClick("x-form-trigger-click")},onDestroy:function(){Ext.destroy(this.trigger,this.wrap);this.mimicing&&this.doc.un("mousedown",this.mimicBlur,this);delete this.doc;Ext.form.TriggerField.superclass.onDestroy.call(this)},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this);
if(!this.mimicing&&(this.wrap.addClass(this.wrapFocusClass),this.mimicing=!0,this.doc.on("mousedown",this.mimicBlur,this,{delay:10}),this.monitorTab))this.on("specialkey",this.checkTab,this)},checkTab:function(a,b){b.getKey()==b.TAB&&this.triggerBlur()},onBlur:Ext.emptyFn,mimicBlur:function(a){!this.isDestroyed&&(!this.wrap.contains(a.target)&&this.validateBlur(a))&&this.triggerBlur()},triggerBlur:function(){this.mimicing=!1;this.doc.un("mousedown",this.mimicBlur,this);this.monitorTab&&this.el&&this.un("specialkey",
this.checkTab,this);Ext.form.TriggerField.superclass.onBlur.call(this);this.wrap&&this.wrap.removeClass(this.wrapFocusClass)},beforeBlur:Ext.emptyFn,validateBlur:function(){return!0},onTriggerClick:Ext.emptyFn});
Ext.form.TwinTriggerField=Ext.extend(Ext.form.TriggerField,{initComponent:function(){Ext.form.TwinTriggerField.superclass.initComponent.call(this);this.triggerConfig={tag:"span",cls:"x-form-twin-triggers",cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger1Class},{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger2Class}]}},getTrigger:function(a){return this.triggers[a]},initTrigger:function(){var a=this.trigger.select(".x-form-trigger",!0),b=this;a.each(function(a,
d,g){var h="Trigger"+(g+1);a.hide=function(){var a=b.wrap.getWidth();this.dom.style.display="none";b.el.setWidth(a-b.trigger.getWidth());this["hidden"+h]=!0};a.show=function(){var a=b.wrap.getWidth();this.dom.style.display="";b.el.setWidth(a-b.trigger.getWidth());this["hidden"+h]=!1};this["hide"+h]&&(a.dom.style.display="none",this["hidden"+h]=!0);this.mon(a,"click",this["on"+h+"Click"],this,{preventDefault:!0});a.addClassOnOver("x-form-trigger-over");a.addClassOnClick("x-form-trigger-click")},this);
this.triggers=a.elements},getTriggerWidth:function(){var a=0;Ext.each(this.triggers,function(b,c){var d="Trigger"+(c+1),g=b.getWidth();a=0===g&&!this["hidden"+d]?a+this.defaultTriggerWidth:a+g},this);return a},onDestroy:function(){Ext.destroy(this.triggers);Ext.form.TwinTriggerField.superclass.onDestroy.call(this)},onTrigger1Click:Ext.emptyFn,onTrigger2Click:Ext.emptyFn});Ext.reg("trigger",Ext.form.TriggerField);
Ext.form.TextArea=Ext.extend(Ext.form.TextField,{growMin:60,growMax:1E3,growAppend:"&#160;\n&#160;",enterIsSpecial:!1,preventScrollbars:!1,onRender:function(a,b){this.el||(this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off"});Ext.form.TextArea.superclass.onRender.call(this,a,b);this.grow&&(this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"}),this.preventScrollbars&&this.el.setStyle("overflow","hidden"),this.el.setHeight(this.growMin))},
onDestroy:function(){Ext.removeNode(this.textSizeEl);Ext.form.TextArea.superclass.onDestroy.call(this)},fireKey:function(a){a.isSpecialKey()&&(this.enterIsSpecial||a.getKey()!=a.ENTER||a.hasModifier())&&this.fireEvent("specialkey",this,a)},doAutoSize:function(a){return!a.isNavKeyPress()||a.getKey()==a.ENTER},autoSize:function(){if(this.grow&&this.textSizeEl){var a=Ext.util.Format.htmlEncode(this.el.dom.value),b=this.textSizeEl;Ext.fly(b).setWidth(this.el.getWidth());1>a.length?a="&#160;&#160;":(a+=
this.growAppend,Ext.isIE&&(a=a.replace(/\n/g,"&#160;<br />")));b.innerHTML=a;a=Math.min(this.growMax,Math.max(b.offsetHeight,this.growMin));a!=this.lastHeight&&(this.lastHeight=a,this.el.setHeight(a),this.fireEvent("autosize",this,a))}}});Ext.reg("textarea",Ext.form.TextArea);
Ext.form.NumberField=Ext.extend(Ext.form.TextField,{fieldClass:"x-form-field x-form-num-field",allowDecimals:!0,decimalSeparator:".",decimalPrecision:2,allowNegative:!0,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",baseChars:"0123456789",initEvents:function(){var a=this.baseChars+"";this.allowDecimals&&(a+=this.decimalSeparator);this.allowNegative&&
(a+="-");this.maskRe=RegExp("["+Ext.escapeRe(a)+"]");Ext.form.NumberField.superclass.initEvents.call(this)},getErrors:function(a){var b=Ext.form.NumberField.superclass.getErrors.apply(this,arguments),a=a||this.processValue(this.getRawValue());if(1>a.length)return b;a=String(a).replace(this.decimalSeparator,".");isNaN(a)&&b.push(String.format(this.nanText,a));var c=this.parseValue(a);c<this.minValue&&b.push(String.format(this.minText,this.minValue));c>this.maxValue&&b.push(String.format(this.maxText,
this.maxValue));return b},getValue:function(){return this.fixPrecision(this.parseValue(Ext.form.NumberField.superclass.getValue.call(this)))},setValue:function(a){a=Ext.isNumber(a)?a:parseFloat(String(a).replace(this.decimalSeparator,"."));a=isNaN(a)?"":String(a).replace(".",this.decimalSeparator);return Ext.form.NumberField.superclass.setValue.call(this,a)},setMinValue:function(a){this.minValue=Ext.num(a,Number.NEGATIVE_INFINITY)},setMaxValue:function(a){this.maxValue=Ext.num(a,Number.MAX_VALUE)},
parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,"."));return isNaN(a)?"":a},fixPrecision:function(a){var b=isNaN(a);return!this.allowDecimals||-1==this.decimalPrecision||b||!a?b?"":a:parseFloat(parseFloat(a).toFixed(this.decimalPrecision))},beforeBlur:function(){var a=this.parseValue(this.getRawValue());Ext.isEmpty(a)||this.setValue(this.fixPrecision(a))}});Ext.reg("numberfield",Ext.form.NumberField);
Ext.form.DateField=Ext.extend(Ext.form.TriggerField,{format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerClass:"x-form-date-trigger",showToday:!0,defaultAutoCreate:{tag:"input",type:"text",
size:"10",autocomplete:"off"},initTime:"12",initTimeFormat:"H",safeParse:function(a,b){if(/[gGhH]/.test(b.replace(/(\\.)/g,"")))return Date.parseDate(a,b);var c=Date.parseDate(a+" "+this.initTime,b+" "+this.initTimeFormat);if(c)return c.clearTime()},initComponent:function(){Ext.form.DateField.superclass.initComponent.call(this);this.addEvents("select");Ext.isString(this.minValue)&&(this.minValue=this.parseDate(this.minValue));Ext.isString(this.maxValue)&&(this.maxValue=this.parseDate(this.maxValue));
this.disabledDatesRE=null;this.initDisabledDays()},initEvents:function(){Ext.form.DateField.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{down:function(){this.onTriggerClick()},scope:this,forceKeyDown:!0})},initDisabledDays:function(){if(this.disabledDates){var a=this.disabledDates,b=a.length-1,c="(?:";Ext.each(a,function(d,g){c+=Ext.isDate(d)?"^"+Ext.escapeRe(d.dateFormat(this.format))+"$":a[g];g!=b&&(c+="|")},this);this.disabledDatesRE=RegExp(c+")")}},setDisabledDates:function(a){this.disabledDates=
a;this.initDisabledDays();this.menu&&this.menu.picker.setDisabledDates(this.disabledDatesRE)},setDisabledDays:function(a){this.disabledDays=a;this.menu&&this.menu.picker.setDisabledDays(a)},setMinValue:function(a){this.minValue=Ext.isString(a)?this.parseDate(a):a;this.menu&&this.menu.picker.setMinDate(this.minValue)},setMaxValue:function(a){this.maxValue=Ext.isString(a)?this.parseDate(a):a;this.menu&&this.menu.picker.setMaxDate(this.maxValue)},getErrors:function(a){var b=Ext.form.DateField.superclass.getErrors.apply(this,
arguments),a=this.formatDate(a||this.processValue(this.getRawValue()));if(1>a.length)return b;var c=a,a=this.parseDate(a);if(!a)return b.push(String.format(this.invalidText,c,this.format)),b;c=a.getTime();this.minValue&&c<this.minValue.getTime()&&b.push(String.format(this.minText,this.formatDate(this.minValue)));this.maxValue&&c>this.maxValue.getTime()&&b.push(String.format(this.maxText,this.formatDate(this.maxValue)));if(this.disabledDays)for(var c=a.getDay(),d=0;d<this.disabledDays.length;d++)if(c===
this.disabledDays[d]){b.push(this.disabledDaysText);break}c=this.formatDate(a);this.disabledDatesRE&&this.disabledDatesRE.test(c)&&b.push(String.format(this.disabledDatesText,c));return b},validateBlur:function(){return!this.menu||!this.menu.isVisible()},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||""},setValue:function(a){return Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(a)))},parseDate:function(a){if(!a||Ext.isDate(a))return a;
var b=this.safeParse(a,this.format),c=this.altFormats,d=this.altFormatsArray;if(!b&&c)for(var d=d||c.split("|"),c=0,g=d.length;c<g&&!b;c++)b=this.safeParse(a,d[c]);return b},onDestroy:function(){Ext.destroy(this.menu,this.keyNav);Ext.form.DateField.superclass.onDestroy.call(this)},formatDate:function(a){return Ext.isDate(a)?a.dateFormat(this.format):a},onTriggerClick:function(){this.disabled||(null==this.menu&&(this.menu=new Ext.menu.DateMenu({hideOnClick:!1,focusOnSelect:!1})),this.onFocus(),Ext.apply(this.menu.picker,
{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.disabledDatesRE,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,showToday:this.showToday,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))}),this.menu.picker.setValue(this.getValue()||new Date),this.menu.show(this.el,"tl-bl?"),this.menuEvents("on"))},menuEvents:function(a){this.menu[a]("select",
this.onSelect,this);this.menu[a]("hide",this.onMenuHide,this);this.menu[a]("show",this.onFocus,this)},onSelect:function(a,b){this.setValue(b);this.fireEvent("select",this,b);this.menu.hide()},onMenuHide:function(){this.focus(!1,60);this.menuEvents("un")},beforeBlur:function(){var a=this.parseDate(this.getRawValue());a&&this.setValue(a)}});Ext.reg("datefield",Ext.form.DateField);
Ext.form.DisplayField=Ext.extend(Ext.form.Field,{validationEvent:!1,validateOnBlur:!1,defaultAutoCreate:{tag:"div"},fieldClass:"x-form-display-field",htmlEncode:!1,initEvents:Ext.emptyFn,isValid:function(){return!0},validate:function(){return!0},getRawValue:function(){var a=this.rendered?this.el.dom.innerHTML:Ext.value(this.value,"");a===this.emptyText&&(a="");this.htmlEncode&&(a=Ext.util.Format.htmlDecode(a));return a},getValue:function(){return this.getRawValue()},getName:function(){return this.name},
setRawValue:function(a){this.htmlEncode&&(a=Ext.util.Format.htmlEncode(a));return this.rendered?this.el.dom.innerHTML=Ext.isEmpty(a)?"":a:this.value=a},setValue:function(a){this.setRawValue(a);return this}});Ext.reg("displayfield",Ext.form.DisplayField);
Ext.form.ComboBox=Ext.extend(Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"24",autocomplete:"off"},listClass:"",selectedClass:"x-combo-selected",listEmptyText:"",triggerClass:"x-form-arrow-trigger",shadow:"sides",listAlign:"tl-bl?",maxHeight:300,minHeight:90,triggerAction:"query",minChars:4,autoSelect:!0,typeAhead:!1,queryDelay:500,pageSize:0,selectOnFocus:!1,queryParam:"query",loadingText:"Loading...",resizable:!1,handleHeight:8,allQuery:"",mode:"remote",minListWidth:70,
forceSelection:!1,typeAheadDelay:250,lazyInit:!0,clearFilterOnReset:!0,submitValue:void 0,initComponent:function(){Ext.form.ComboBox.superclass.initComponent.call(this);this.addEvents("expand","collapse","beforeselect","select","beforequery");if(this.transform){var a=Ext.getDom(this.transform);this.hiddenName||(this.hiddenName=a.name);if(!this.store){this.mode="local";for(var b=[],c=a.options,d=0,g=c.length;d<g;d++){var h=c[d],l=(h.hasAttribute?h.hasAttribute("value"):h.getAttributeNode("value").specified)?
h.value:h.text;h.selected&&Ext.isEmpty(this.value,!0)&&(this.value=l);b.push([l,h.text])}this.store=new Ext.data.ArrayStore({id:0,fields:["value","text"],data:b,autoDestroy:!0});this.valueField="value";this.displayField="text"}a.name=Ext.id();this.lazyRender||(this.target=!0,this.el=Ext.DomHelper.insertBefore(a,this.autoCreate||this.defaultAutoCreate),this.render(this.el.parentNode,a));Ext.removeNode(a)}else this.store&&(this.store=Ext.StoreMgr.lookup(this.store),this.store.autoCreated&&(this.displayField=
this.valueField="field1",this.store.expandData||(this.displayField="field2"),this.mode="local"));this.selectedIndex=-1;"local"==this.mode&&(Ext.isDefined(this.initialConfig.queryDelay)||(this.queryDelay=10),Ext.isDefined(this.initialConfig.minChars)||(this.minChars=0))},onRender:function(a,b){this.hiddenName&&!Ext.isDefined(this.submitValue)&&(this.submitValue=!1);Ext.form.ComboBox.superclass.onRender.call(this,a,b);this.hiddenName&&(this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",
name:this.hiddenName,id:this.hiddenId||this.hiddenName},"before",!0));Ext.isGecko&&this.el.dom.setAttribute("autocomplete","off");if(this.lazyInit)this.on("focus",this.initList,this,{single:!0});else this.initList()},initValue:function(){Ext.form.ComboBox.superclass.initValue.call(this);this.hiddenField&&(this.hiddenField.value=Ext.value(Ext.isDefined(this.hiddenValue)?this.hiddenValue:this.value,""))},getParentZIndex:function(){var a;this.ownerCt&&this.findParentBy(function(b){a=parseInt(b.getPositionEl().getStyle("z-index"),
10);return!!a});return a},initList:function(){if(!this.list){var a=Ext.getDom(this.getListParent()||Ext.getBody()),b=parseInt(Ext.fly(a).getStyle("z-index"),10);b||(b=this.getParentZIndex());this.list=new Ext.Layer({parentEl:a,shadow:this.shadow,cls:["x-combo-list",this.listClass].join(" "),constrain:!1,zindex:(b||12E3)+5});a=this.listWidth||Math.max(this.wrap.getWidth(),this.minListWidth);this.list.setSize(a,0);this.list.swallowEvent("mousewheel");this.assetHeight=0;!1!==this.syncFont&&this.list.setStyle("font-size",
this.el.getStyle("font-size"));this.title&&(this.header=this.list.createChild({cls:"x-combo-list-hd",html:this.title}),this.assetHeight+=this.header.getHeight());this.innerList=this.list.createChild({cls:"x-combo-list-inner"});this.mon(this.innerList,"mouseover",this.onViewOver,this);this.mon(this.innerList,"mousemove",this.onViewMove,this);this.innerList.setWidth(a-this.list.getFrameWidth("lr"));this.pageSize&&(this.footer=this.list.createChild({cls:"x-combo-list-ft"}),this.pageTb=new Ext.PagingToolbar({store:this.store,
pageSize:this.pageSize,renderTo:this.footer}),this.assetHeight+=this.footer.getHeight());this.tpl||(this.tpl='<tpl for="."><div class="x-combo-list-item">{'+this.displayField+"}</div></tpl>");this.view=new Ext.DataView({applyTo:this.innerList,tpl:this.tpl,singleSelect:!0,selectedClass:this.selectedClass,itemSelector:this.itemSelector||".x-combo-list-item",emptyText:this.listEmptyText,deferEmptyText:!1});this.mon(this.view,{containerclick:this.onViewClick,click:this.onViewClick,scope:this});this.bindStore(this.store,
!0);this.resizable&&(this.resizer=new Ext.Resizable(this.list,{pinned:!0,handles:"se"}),this.mon(this.resizer,"resize",function(a,b,g){this.maxHeight=g-this.handleHeight-this.list.getFrameWidth("tb")-this.assetHeight;this.listWidth=b;this.innerList.setWidth(b-this.list.getFrameWidth("lr"));this.restrictHeight()},this),this[this.pageSize?"footer":"innerList"].setStyle("margin-bottom",this.handleHeight+"px"))}},getListParent:function(){return document.body},getStore:function(){return this.store},bindStore:function(a,
b){this.store&&!b&&(this.store!==a&&this.store.autoDestroy?this.store.destroy():(this.store.un("beforeload",this.onBeforeLoad,this),this.store.un("load",this.onLoad,this),this.store.un("exception",this.collapse,this)),a||(this.store=null,this.view&&this.view.bindStore(null),this.pageTb&&this.pageTb.bindStore(null)));a&&(b||(this.lastQuery=null,this.pageTb&&this.pageTb.bindStore(a)),this.store=Ext.StoreMgr.lookup(a),this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.collapse}),
this.view&&this.view.bindStore(a))},reset:function(){Ext.form.ComboBox.superclass.reset.call(this);this.clearFilterOnReset&&"local"==this.mode&&this.store.clearFilter()},initEvents:function(){Ext.form.ComboBox.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{up:function(){this.inKeyMode=!0;this.selectPrev()},down:function(){if(this.isExpanded())this.inKeyMode=!0,this.selectNext();else this.onTriggerClick()},enter:function(){this.onViewClick()},esc:function(){this.collapse()},tab:function(){if(!0===
this.forceSelection)this.collapse();else this.onViewClick(!1);return!0},scope:this,doRelay:function(a,b,c){if("down"==c||this.scope.isExpanded()){var d=Ext.KeyNav.prototype.doRelay.apply(this,arguments);!Ext.isIE&&Ext.EventManager.useKeydown&&this.scope.fireKey(a);return d}return!0},forceKeyDown:!0,defaultEventAction:"stopEvent"});this.queryDelay=Math.max(this.queryDelay||10,"local"==this.mode?10:250);this.dqTask=new Ext.util.DelayedTask(this.initQuery,this);this.typeAhead&&(this.taTask=new Ext.util.DelayedTask(this.onTypeAhead,
this));this.enableKeyEvents||this.mon(this.el,"keyup",this.onKeyUp,this)},onDestroy:function(){this.dqTask&&(this.dqTask.cancel(),this.dqTask=null);this.bindStore(null);Ext.destroy(this.resizer,this.view,this.pageTb,this.list);Ext.destroyMembers(this,"hiddenField");Ext.form.ComboBox.superclass.onDestroy.call(this)},fireKey:function(a){this.isExpanded()||Ext.form.ComboBox.superclass.fireKey.call(this,a)},onResize:function(a,b){Ext.form.ComboBox.superclass.onResize.apply(this,arguments);!isNaN(a)&&
this.isVisible()&&this.list?this.doResize(a):this.bufferSize=a},doResize:function(a){Ext.isDefined(this.listWidth)||(a=Math.max(a,this.minListWidth),this.list.setWidth(a),this.innerList.setWidth(a-this.list.getFrameWidth("lr")))},onEnable:function(){Ext.form.ComboBox.superclass.onEnable.apply(this,arguments);this.hiddenField&&(this.hiddenField.disabled=!1)},onDisable:function(){Ext.form.ComboBox.superclass.onDisable.apply(this,arguments);this.hiddenField&&(this.hiddenField.disabled=!0)},onBeforeLoad:function(){this.hasFocus&&
(this.innerList.update(this.loadingText?'<div class="loading-indicator">'+this.loadingText+"</div>":""),this.restrictHeight(),this.selectedIndex=-1)},onLoad:function(){this.hasFocus&&(0<this.store.getCount()||this.listEmptyText?(this.expand(),this.restrictHeight(),this.lastQuery==this.allQuery?(this.editable&&this.el.dom.select(),!1!==this.autoSelect&&!this.selectByValue(this.value,!0)&&this.select(0,!0)):(!1!==this.autoSelect&&this.selectNext(),this.typeAhead&&(this.lastKey!=Ext.EventObject.BACKSPACE&&
this.lastKey!=Ext.EventObject.DELETE)&&this.taTask.delay(this.typeAheadDelay))):this.collapse())},onTypeAhead:function(){if(0<this.store.getCount()){var a=this.store.getAt(0).data[this.displayField],b=a.length,c=this.getRawValue().length;c!=b&&(this.setRawValue(a),this.selectText(c,a.length))}},assertValue:function(){var a=this.getRawValue(),b=this.findRecord(this.displayField,a);if(!b&&this.forceSelection)0<a.length&&a!=this.emptyText?(this.el.dom.value=Ext.value(this.lastSelectionText,""),this.applyEmptyText()):
this.clearValue();else{if(b){if(a==b.get(this.displayField)&&this.value==b.get(this.valueField))return;a=b.get(this.valueField||this.displayField)}this.setValue(a)}},onSelect:function(a,b){!1!==this.fireEvent("beforeselect",this,a,b)&&(this.setValue(a.data[this.valueField||this.displayField]),this.collapse(),this.fireEvent("select",this,a,b))},getName:function(){var a=this.hiddenField;return a&&a.name?a.name:this.hiddenName||Ext.form.ComboBox.superclass.getName.call(this)},getValue:function(){return this.valueField?
Ext.isDefined(this.value)?this.value:"":Ext.form.ComboBox.superclass.getValue.call(this)},clearValue:function(){this.hiddenField&&(this.hiddenField.value="");this.setRawValue("");this.lastSelectionText="";this.applyEmptyText();this.value=""},setValue:function(a){var b=a;if(this.valueField){var c=this.findRecord(this.valueField,a);c?b=c.data[this.displayField]:Ext.isDefined(this.valueNotFoundText)&&(b=this.valueNotFoundText)}this.lastSelectionText=b;this.hiddenField&&(this.hiddenField.value=Ext.value(a,
""));Ext.form.ComboBox.superclass.setValue.call(this,b);this.value=a;return this},findRecord:function(a,b){var c;0<this.store.getCount()&&this.store.each(function(d){if(d.data[a]==b)return c=d,!1});return c},onViewMove:function(){this.inKeyMode=!1},onViewOver:function(a,b){if(!this.inKeyMode){var c=this.view.findItemFromChild(b);c&&(c=this.view.indexOf(c),this.select(c,!1))}},onViewClick:function(a){var b=this.view.getSelectedIndexes()[0],c=this.store.getAt(b);if(c)this.onSelect(c,b);else this.collapse();
!1!==a&&this.el.focus()},restrictHeight:function(){this.innerList.dom.style.height="";var a=this.innerList.dom,b=this.list.getFrameWidth("tb")+(this.resizable?this.handleHeight:0)+this.assetHeight,a=Math.max(a.clientHeight,a.offsetHeight,a.scrollHeight),c=this.getPosition()[1]-Ext.getBody().getScroll().top,d=Ext.lib.Dom.getViewHeight()-c-this.getSize().height,c=Math.max(c,d,this.minHeight||0)-this.list.shadowOffset-b-5,a=Math.min(a,c,this.maxHeight);this.innerList.setHeight(a);this.list.beginUpdate();
this.list.setHeight(a+b);this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));this.list.endUpdate()},isExpanded:function(){return this.list&&this.list.isVisible()},selectByValue:function(a,b){if(!Ext.isEmpty(a,!0)){var c=this.findRecord(this.valueField||this.displayField,a);if(c)return this.select(this.store.indexOf(c),b),!0}return!1},select:function(a,b){this.selectedIndex=a;this.view.select(a);if(!1!==b){var c=this.view.getNode(a);c&&this.innerList.scrollChildIntoView(c,!1)}},selectNext:function(){var a=
this.store.getCount();0<a&&(-1==this.selectedIndex?this.select(0):this.selectedIndex<a-1&&this.select(this.selectedIndex+1))},selectPrev:function(){0<this.store.getCount()&&(-1==this.selectedIndex?this.select(0):0!==this.selectedIndex&&this.select(this.selectedIndex-1))},onKeyUp:function(a){var b=a.getKey();if(!1!==this.editable&&!0!==this.readOnly&&(b==a.BACKSPACE||!a.isSpecialKey()))this.lastKey=b,this.dqTask.delay(this.queryDelay);Ext.form.ComboBox.superclass.onKeyUp.call(this,a)},validateBlur:function(){return!this.list||
!this.list.isVisible()},initQuery:function(){this.doQuery(this.getRawValue())},beforeBlur:function(){this.assertValue()},postBlur:function(){Ext.form.ComboBox.superclass.postBlur.call(this);this.collapse();this.inKeyMode=!1},doQuery:function(a,b){var a=Ext.isEmpty(a)?"":a,c={query:a,forceAll:b,combo:this,cancel:!1};if(!1===this.fireEvent("beforequery",c)||c.cancel)return!1;a=c.query;b=c.forceAll;if(!0===b||a.length>=this.minChars)this.lastQuery!==a?(this.lastQuery=a,"local"==this.mode?(this.selectedIndex=
-1,b?this.store.clearFilter():this.store.filter(this.displayField,a),this.onLoad()):(this.store.baseParams[this.queryParam]=a,this.store.load({params:this.getParams(a)}),this.expand())):(this.selectedIndex=-1,this.onLoad())},getParams:function(){var a={};this.pageSize&&(a.start=0,a.limit=this.pageSize);return a},collapse:function(){this.isExpanded()&&(this.list.hide(),Ext.getDoc().un("mousewheel",this.collapseIf,this),Ext.getDoc().un("mousedown",this.collapseIf,this),this.fireEvent("collapse",this))},
collapseIf:function(a){!this.isDestroyed&&(!a.within(this.wrap)&&!a.within(this.list))&&this.collapse()},expand:function(){if(!this.isExpanded()&&this.hasFocus){if(this.title||this.pageSize)this.assetHeight=0,this.title&&(this.assetHeight+=this.header.getHeight()),this.pageSize&&(this.assetHeight+=this.footer.getHeight());this.bufferSize&&(this.doResize(this.bufferSize),delete this.bufferSize);this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));var a=Ext.getDom(this.getListParent()||
Ext.getBody());(a=parseInt(Ext.fly(a).getStyle("z-index"),10))||(a=this.getParentZIndex());a&&this.list.setZIndex(a+5);this.list.show();Ext.isGecko2&&this.innerList.setOverflow("auto");this.mon(Ext.getDoc(),{scope:this,mousewheel:this.collapseIf,mousedown:this.collapseIf});this.fireEvent("expand",this)}},onTriggerClick:function(){!this.readOnly&&!this.disabled&&(this.isExpanded()?this.collapse():(this.onFocus({}),"all"==this.triggerAction?this.doQuery(this.allQuery,!0):this.doQuery(this.getRawValue())),
this.el.focus())}});Ext.reg("combo",Ext.form.ComboBox);
Ext.form.Checkbox=Ext.extend(Ext.form.Field,{focusClass:void 0,fieldClass:"x-form-field",checked:!1,boxLabel:"&#160;",defaultAutoCreate:{tag:"input",type:"checkbox",autocomplete:"off"},actionMode:"wrap",initComponent:function(){Ext.form.Checkbox.superclass.initComponent.call(this);this.addEvents("check")},onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments);!this.boxLabel&&!this.fieldLabel&&this.el.alignTo(this.wrap,"c-c")},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this);
this.mon(this.el,{scope:this,click:this.onClick,change:this.onClick})},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,onRender:function(a,b){Ext.form.Checkbox.superclass.onRender.call(this,a,b);void 0!==this.inputValue&&(this.el.dom.value=this.inputValue);this.wrap=this.el.wrap({cls:"x-form-check-wrap"});this.boxLabel&&this.wrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel});this.checked?this.setValue(!0):this.checked=this.el.dom.checked;Ext.isIE&&this.wrap.repaint();
this.resizeEl=this.positionEl=this.wrap},onDestroy:function(){Ext.destroy(this.wrap);Ext.form.Checkbox.superclass.onDestroy.call(this)},initValue:function(){this.originalValue=this.getValue()},getValue:function(){return this.rendered?this.el.dom.checked:this.checked},onClick:function(){this.el.dom.checked!=this.checked&&this.setValue(this.el.dom.checked)},setValue:function(a){var b=this.checked;this.checked=!0===a||"true"===a||"1"==a||"on"==String(a).toLowerCase();this.rendered&&(this.el.dom.checked=
this.checked,this.el.dom.defaultChecked=this.checked);b!=this.checked&&(this.fireEvent("check",this,this.checked),this.handler&&this.handler.call(this.scope||this,this,this.checked));return this}});Ext.reg("checkbox",Ext.form.Checkbox);
Ext.form.CheckboxGroup=Ext.extend(Ext.form.Field,{columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkbox",groupCls:"x-form-check-group",initComponent:function(){this.addEvents("change");this.on("change",this.validate,this);Ext.form.CheckboxGroup.superclass.initComponent.call(this)},onRender:function(a,b){if(!this.el){var c={autoEl:{id:this.id},cls:this.groupCls,layout:"column",renderTo:a,bufferResize:!1},d={xtype:"container",defaultType:this.defaultType,
layout:"form",defaults:{hideLabel:!0,anchor:"100%"}};if(this.items[0].items){Ext.apply(c,{layoutConfig:{columns:this.items.length},defaults:this.defaults,items:this.items});for(var g=0,h=this.items.length;g<h;g++)Ext.applyIf(this.items[g],d)}else{var l,n=[];"string"==typeof this.columns&&(this.columns=this.items.length);if(!Ext.isArray(this.columns)){l=[];for(g=0;g<this.columns;g++)l.push(0.01*(100/this.columns));this.columns=l}l=this.columns.length;for(g=0;g<l;g++)h=Ext.apply({items:[]},d),h[1>=
this.columns[g]?"columnWidth":"width"]=this.columns[g],this.defaults&&(h.defaults=Ext.apply(h.defaults||{},this.defaults)),n.push(h);if(this.vertical)for(var d=Math.ceil(this.items.length/l),q=0,g=0,h=this.items.length;g<h;g++)0<g&&0==g%d&&q++,this.items[g].fieldLabel&&(this.items[g].hideLabel=!1),n[q].items.push(this.items[g]);else{g=0;for(h=this.items.length;g<h;g++)d=g%l,this.items[g].fieldLabel&&(this.items[g].hideLabel=!1),n[d].items.push(this.items[g])}Ext.apply(c,{layoutConfig:{columns:l},
items:n})}this.panel=new Ext.Container(c);this.panel.ownerCt=this;this.el=this.panel.getEl();this.forId&&this.itemCls&&(c=this.el.up(this.itemCls).child("label",!0))&&c.setAttribute("htmlFor",this.forId);c=this.panel.findBy(function(a){return a.isFormField},this);this.items=new Ext.util.MixedCollection;this.items.addAll(c)}Ext.form.CheckboxGroup.superclass.onRender.call(this,a,b)},initValue:function(){this.value&&(this.setValue.apply(this,this.buffered?this.value:[this.value]),delete this.buffered,
delete this.value)},afterRender:function(){Ext.form.CheckboxGroup.superclass.afterRender.call(this);this.eachItem(function(a){a.on("check",this.fireChecked,this);a.inGroup=!0})},doLayout:function(){this.rendered&&(this.panel.forceLayout=this.ownerCt.forceLayout,this.panel.doLayout())},fireChecked:function(){var a=[];this.eachItem(function(b){b.checked&&a.push(b)});this.fireEvent("change",this,a)},getErrors:function(){var a=Ext.form.CheckboxGroup.superclass.getErrors.apply(this,arguments);if(!this.allowBlank){var b=
!0;this.eachItem(function(a){if(a.checked)return b=!1});b&&a.push(this.blankText)}return a},isDirty:function(){if(this.disabled||!this.rendered)return!1;var a=!1;this.eachItem(function(b){if(b.isDirty())return a=!0,!1});return a},setReadOnly:function(a){this.rendered&&this.eachItem(function(b){b.setReadOnly(a)});this.readOnly=a},onDisable:function(){this.eachItem(function(a){a.disable()})},onEnable:function(){this.eachItem(function(a){a.enable()})},onResize:function(a,b){this.panel.setSize(a,b);this.panel.doLayout()},
reset:function(){this.originalValue?(this.eachItem(function(a){a.setValue&&(a.setValue(!1),a.originalValue=a.getValue())}),this.resetOriginal=!0,this.setValue(this.originalValue),delete this.resetOriginal):this.eachItem(function(a){a.reset&&a.reset()});(function(){this.clearInvalid()}).defer(50,this)},setValue:function(){this.rendered?this.onSetValue.apply(this,arguments):(this.buffered=!0,this.value=arguments);return this},onSetValue:function(a,b){if(1==arguments.length)if(Ext.isArray(a))Ext.each(a,
function(a,b){if(Ext.isObject(a)&&a.setValue)a.setValue(!0),!0===this.resetOriginal&&(a.originalValue=a.getValue());else{var c=this.items.itemAt(b);c&&c.setValue(a)}},this);else if(Ext.isObject(a))for(var c in a){var d=this.getBox(c);d&&d.setValue(a[c])}else this.setValueForItem(a);else(d=this.getBox(a))&&d.setValue(b)},beforeDestroy:function(){Ext.destroy(this.panel);Ext.form.CheckboxGroup.superclass.beforeDestroy.call(this)},setValueForItem:function(a){a=String(a).split(",");this.eachItem(function(b){-1<
a.indexOf(b.inputValue)&&b.setValue(!0)})},getBox:function(a){var b=null;this.eachItem(function(c){if(a==c||c.dataIndex==a||c.id==a||c.getName()==a)return b=c,!1});return b},getValue:function(){var a=[];this.eachItem(function(b){b.checked&&a.push(b)});return a},eachItem:function(a,b){this.items&&this.items.each&&this.items.each(a,b||this)},getRawValue:Ext.emptyFn,setRawValue:Ext.emptyFn});Ext.reg("checkboxgroup",Ext.form.CheckboxGroup);
Ext.form.CompositeField=Ext.extend(Ext.form.Field,{defaultMargins:"0 5 0 0",skipLastItemMargin:!0,isComposite:!0,combineErrors:!0,initComponent:function(){for(var a=[],b=this.items,c,d=0,g=b.length;d<g;d++)c=b[d],a.push(c.fieldLabel),Ext.apply(c,this.defaults),d==g-1&&this.skipLastItemMargin||Ext.applyIf(c,{margins:this.defaultMargins});this.fieldLabel=this.fieldLabel||this.buildLabel(a);this.fieldErrors=new Ext.util.MixedCollection(!0,function(a){return a.field});this.fieldErrors.on({scope:this,
add:this.updateInvalidMark,remove:this.updateInvalidMark,replace:this.updateInvalidMark});Ext.form.CompositeField.superclass.initComponent.apply(this,arguments)},onRender:function(a,b){if(!this.el){var c=this.innerCt=new Ext.Container({layout:"hbox",renderTo:a,items:this.items,cls:"x-form-composite",defaultMargins:"0 3 0 0"});this.el=c.getEl();c=c.findBy(function(a){return a.isFormField},this);this.items=new Ext.util.MixedCollection;this.items.addAll(c);this.combineErrors&&this.eachItem(function(a){Ext.apply(a,
{markInvalid:this.onFieldMarkInvalid.createDelegate(this,[a],0),clearInvalid:this.onFieldClearInvalid.createDelegate(this,[a],0)})});(c=this.el.parent().parent().child("label",!0))&&c.setAttribute("for",this.items.items[0].id)}Ext.form.CompositeField.superclass.onRender.apply(this,arguments)},onFieldMarkInvalid:function(a,b){var c=a.getName();this.fieldErrors.replace(c,{field:c,error:b});a.el.addClass(a.invalidClass)},onFieldClearInvalid:function(a){this.fieldErrors.removeKey(a.getName());a.el.removeClass(a.invalidClass)},
updateInvalidMark:function(){var a=Ext.isIE6&&Ext.isStrict;if(0==this.fieldErrors.length)this.clearInvalid(),a&&this.clearInvalid.defer(50,this);else{var b=this.buildCombinedErrorMessage(this.fieldErrors.items);this.sortErrors();this.markInvalid(b);a&&this.markInvalid(b)}},validateValue:function(){var a=!0;this.eachItem(function(b){b.isValid()||(a=!1)});return a},buildCombinedErrorMessage:function(a){for(var b=[],c,d=0,g=a.length;d<g;d++)c=a[d],b.push(String.format("{0}: {1}",c.field,c.error));return b.join("<br />")},
sortErrors:function(){var a=this.items;this.fieldErrors.sort("ASC",function(b,c){var d=function(a){return function(b){return b.getName()==a}},g=a.findIndexBy(d(b.field)),d=a.findIndexBy(d(c.field));return g<d?-1:1})},reset:function(){this.eachItem(function(a){a.reset()});(function(){this.clearInvalid()}).defer(50,this)},clearInvalidChildren:function(){this.eachItem(function(a){a.clearInvalid()})},buildLabel:function(a){return a.join(", ")},isDirty:function(){if(this.disabled||!this.rendered)return!1;
var a=!1;this.eachItem(function(b){if(b.isDirty())return a=!0,!1});return a},eachItem:function(a,b){this.items&&this.items.each&&this.items.each(a,b||this)},onResize:function(a,b,c,d){var g=this.innerCt;this.rendered&&g.rendered&&g.setSize(a,b);Ext.form.CompositeField.superclass.onResize.apply(this,arguments)},doLayout:function(a,b){if(this.rendered){var c=this.innerCt;c.forceLayout=this.ownerCt.forceLayout;c.doLayout(a,b)}},beforeDestroy:function(){Ext.destroy(this.innerCt);Ext.form.CompositeField.superclass.beforeDestroy.call(this)},
setReadOnly:function(a){a=a||!0;this.rendered&&this.eachItem(function(b){b.setReadOnly(a)});this.readOnly=a},onShow:function(){Ext.form.CompositeField.superclass.onShow.call(this);this.doLayout()},onDisable:function(){this.eachItem(function(a){a.disable()})},onEnable:function(){this.eachItem(function(a){a.enable()})}});Ext.reg("compositefield",Ext.form.CompositeField);
Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,getGroupValue:function(){var a=(this.el.up("form")||Ext.getBody()).child("input[name="+this.el.dom.name+"]:checked",!0);return a?a.value:null},onClick:function(){this.el.dom.checked!=this.checked&&this.getCheckEl().select("input[name="+this.el.dom.name+"]").each(function(a){a.dom.id==this.id?this.setValue(!0):Ext.getCmp(a.dom.id).setValue(!1)},this)},setValue:function(a){"boolean"==typeof a?
Ext.form.Radio.superclass.setValue.call(this,a):this.rendered&&(a=this.getCheckEl().child("input[name="+this.el.dom.name+"][value="+a+"]",!0))&&Ext.getCmp(a.id).setValue(!0);return this},getCheckEl:function(){return this.inGroup?this.el.up(".x-form-radio-group"):this.el.up("form")||Ext.getBody()}});Ext.reg("radio",Ext.form.Radio);
Ext.form.RadioGroup=Ext.extend(Ext.form.CheckboxGroup,{allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radio",groupCls:"x-form-radio-group",getValue:function(){var a=null;this.eachItem(function(b){if(b.checked)return a=b,!1});return a},onSetValue:function(a,b){if(1<arguments.length){var c=this.getBox(a);c&&(c.setValue(b),c.checked&&this.eachItem(function(a){a!==c&&a.setValue(!1)}))}else this.setValueForItem(a)},setValueForItem:function(a){a=String(a).split(",")[0];this.eachItem(function(b){b.setValue(a==
b.inputValue)})},fireChecked:function(){this.checkTask||(this.checkTask=new Ext.util.DelayedTask(this.bufferChecked,this));this.checkTask.delay(10)},bufferChecked:function(){var a=null;this.eachItem(function(b){if(b.checked)return a=b,!1});this.fireEvent("change",this,a)},onDestroy:function(){this.checkTask&&(this.checkTask.cancel(),this.checkTask=null);Ext.form.RadioGroup.superclass.onDestroy.call(this)}});Ext.reg("radiogroup",Ext.form.RadioGroup);
Ext.form.Hidden=Ext.extend(Ext.form.Field,{inputType:"hidden",onRender:function(){Ext.form.Hidden.superclass.onRender.apply(this,arguments)},initEvents:function(){this.originalValue=this.getValue()},setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.reg("hidden",Ext.form.Hidden);
Ext.form.BasicForm=Ext.extend(Ext.util.Observable,{constructor:function(a,b){Ext.apply(this,b);Ext.isString(this.paramOrder)&&(this.paramOrder=this.paramOrder.split(/[\s,|]/));this.items=new Ext.util.MixedCollection(!1,function(a){return a.getItemId()});this.addEvents("beforeaction","actionfailed","actioncomplete");a&&this.initEl(a);Ext.form.BasicForm.superclass.constructor.call(this)},timeout:30,paramOrder:void 0,paramsAsHash:!1,waitTitle:"Please Wait...",activeAction:null,trackResetOnLoad:!1,initEl:function(a){this.el=
Ext.get(a);this.id=this.el.id||Ext.id();if(!this.standardSubmit)this.el.on("submit",this.onSubmit,this);this.el.addClass("x-form")},getEl:function(){return this.el},onSubmit:function(a){a.stopEvent()},destroy:function(a){!0!==a&&(this.items.each(function(a){Ext.destroy(a)}),Ext.destroy(this.el));this.items.clear();this.purgeListeners()},isValid:function(){var a=!0;this.items.each(function(b){b.validate()||(a=!1)});return a},isDirty:function(){var a=!1;this.items.each(function(b){if(b.isDirty())return a=
!0,!1});return a},doAction:function(a,b){Ext.isString(a)&&(a=new Ext.form.Action.ACTION_TYPES[a](this,b));!1!==this.fireEvent("beforeaction",this,a)&&(this.beforeAction(a),a.run.defer(100,a));return this},submit:function(a){a=a||{};if(this.standardSubmit){if(a=!1===a.clientValidation||this.isValid()){var b=this.el.dom;this.url&&Ext.isEmpty(b.action)&&(b.action=this.url);b.submit()}return a}b=String.format("{0}submit",this.api?"direct":"");this.doAction(b,a);return this},load:function(a){var b=String.format("{0}load",
this.api?"direct":"");this.doAction(b,a);return this},updateRecord:function(a){a.beginEdit();a.fields.each(function(b){var c=this.findField(b.name);c&&a.set(b.name,c.getValue())},this);a.endEdit();return this},loadRecord:function(a){this.setValues(a.data);return this},beforeAction:function(a){this.items.each(function(a){a.isFormField&&a.syncValue&&a.syncValue()});a=a.options;a.waitMsg&&(!0===this.waitMsgTarget?this.el.mask(a.waitMsg,"x-mask-loading"):this.waitMsgTarget?(this.waitMsgTarget=Ext.get(this.waitMsgTarget),
this.waitMsgTarget.mask(a.waitMsg,"x-mask-loading")):Ext.MessageBox.wait(a.waitMsg,a.waitTitle||this.waitTitle))},afterAction:function(a,b){this.activeAction=null;var c=a.options;c.waitMsg&&(!0===this.waitMsgTarget?this.el.unmask():this.waitMsgTarget?this.waitMsgTarget.unmask():(Ext.MessageBox.updateProgress(1),Ext.MessageBox.hide()));b?(c.reset&&this.reset(),Ext.callback(c.success,c.scope,[this,a]),this.fireEvent("actioncomplete",this,a)):(Ext.callback(c.failure,c.scope,[this,a]),this.fireEvent("actionfailed",
this,a))},findField:function(a){var b=this.items.get(a);if(!Ext.isObject(b)){var c=function(d){if(d.isFormField){if(d.dataIndex==a||d.id==a||d.getName()==a)return b=d,!1;if(d.isComposite&&d.rendered)return d.items.each(c)}};this.items.each(c)}return b||null},markInvalid:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;b<c;b++){var d=a[b],g=this.findField(d.id);g&&g.markInvalid(d.msg)}else for(c in a)!Ext.isFunction(a[c])&&(b=this.findField(c))&&b.markInvalid(a[c]);return this},setValues:function(a){if(Ext.isArray(a))for(var b=
0,c=a.length;b<c;b++){var d=a[b],g=this.findField(d.id);g&&(g.setValue(d.value),this.trackResetOnLoad&&(g.originalValue=g.getValue()))}else for(c in a)if(!Ext.isFunction(a[c])&&(b=this.findField(c)))b.setValue(a[c]),this.trackResetOnLoad&&(b.originalValue=b.getValue());return this},getValues:function(a){var b=Ext.lib.Ajax.serializeForm(this.el.dom);return!0===a?b:Ext.urlDecode(b)},getFieldValues:function(a){var b={},c,d,g;this.items.each(function(h){if(!0!==a||h.isDirty())c=h.getName(),d=b[c],g=h.getValue(),
Ext.isDefined(d)?Ext.isArray(d)?b[c].push(g):b[c]=[d,g]:b[c]=g});return b},clearInvalid:function(){this.items.each(function(a){a.clearInvalid()});return this},reset:function(){this.items.each(function(a){a.reset()});return this},add:function(){this.items.addAll(Array.prototype.slice.call(arguments,0));return this},remove:function(a){this.items.remove(a);return this},cleanDestroyed:function(){this.items.filterBy(function(a){return!!a.isDestroyed}).each(this.remove,this)},render:function(){this.items.each(function(a){a.isFormField&&
(!a.rendered&&document.getElementById(a.id))&&a.applyToMarkup(a.id)});return this},applyToFields:function(a){this.items.each(function(b){Ext.apply(b,a)});return this},applyIfToFields:function(a){this.items.each(function(b){Ext.applyIf(b,a)});return this},callFieldMethod:function(a,b){b=b||[];this.items.each(function(c){Ext.isFunction(c[a])&&c[a].apply(c,b)});return this}});Ext.BasicForm=Ext.form.BasicForm;
Ext.FormPanel=Ext.extend(Ext.Panel,{minButtonWidth:75,labelAlign:"left",monitorValid:!1,monitorPoll:200,layout:"form",initComponent:function(){this.form=this.createForm();Ext.FormPanel.superclass.initComponent.call(this);this.bodyCfg={tag:"form",cls:this.baseCls+"-body",method:this.method||"POST",id:this.formId||Ext.id()};this.fileUpload&&(this.bodyCfg.enctype="multipart/form-data");this.initItems();this.addEvents("clientvalidation");this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete"])},
createForm:function(){var a=Ext.applyIf({listeners:{}},this.initialConfig);return new Ext.form.BasicForm(null,a)},initFields:function(){var a=this.form,b=this,c=function(d){b.isField(d)?a.add(d):d.findBy&&d!=b&&(b.applySettings(d),d.items&&d.items.each&&d.items.each(c,this))};this.items.each(c,this)},applySettings:function(a){var b=a.ownerCt;Ext.applyIf(a,{labelAlign:b.labelAlign,labelWidth:b.labelWidth,itemCls:b.itemCls})},getLayoutTarget:function(){return this.form.el},getForm:function(){return this.form},
onRender:function(a,b){this.initFields();Ext.FormPanel.superclass.onRender.call(this,a,b);this.form.initEl(this.body)},beforeDestroy:function(){this.stopMonitoring();this.form.destroy(!0);Ext.FormPanel.superclass.beforeDestroy.call(this)},isField:function(a){return!!a.setValue&&!!a.getValue&&!!a.markInvalid&&!!a.clearInvalid},initEvents:function(){Ext.FormPanel.superclass.initEvents.call(this);this.on({scope:this,add:this.onAddEvent,remove:this.onRemoveEvent});this.monitorValid&&this.startMonitoring()},
onAdd:function(a){Ext.FormPanel.superclass.onAdd.call(this,a);this.processAdd(a)},onAddEvent:function(a,b){a!==this&&this.processAdd(b)},processAdd:function(a){this.isField(a)?this.form.add(a):a.findBy&&(this.applySettings(a),this.form.add.apply(this.form,a.findBy(this.isField)))},onRemove:function(a){Ext.FormPanel.superclass.onRemove.call(this,a);this.processRemove(a)},onRemoveEvent:function(a,b){a!==this&&this.processRemove(b)},processRemove:function(a){this.destroying||(this.isField(a)?this.form.remove(a):
a.findBy&&(Ext.each(a.findBy(this.isField),this.form.remove,this.form),a.isDestroyed&&this.form.cleanDestroyed()))},startMonitoring:function(){this.validTask||(this.validTask=new Ext.util.TaskRunner,this.validTask.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this}))},stopMonitoring:function(){this.validTask&&(this.validTask.stopAll(),this.validTask=null)},load:function(){this.form.load.apply(this.form,arguments)},onDisable:function(){Ext.FormPanel.superclass.onDisable.call(this);
this.form&&this.form.items.each(function(){this.disable()})},onEnable:function(){Ext.FormPanel.superclass.onEnable.call(this);this.form&&this.form.items.each(function(){this.enable()})},bindHandler:function(){var a=!0;this.form.items.each(function(b){if(!b.isValid(!0))return a=!1});if(this.fbar)for(var b=this.fbar.items.items,c=0,d=b.length;c<d;c++){var g=b[c];!0===g.formBind&&g.disabled===a&&g.setDisabled(!a)}this.fireEvent("clientvalidation",this,a)}});Ext.reg("form",Ext.FormPanel);
Ext.form.FormPanel=Ext.FormPanel;
Ext.form.FieldSet=Ext.extend(Ext.Panel,{baseCls:"x-fieldset",layout:"form",animCollapse:!1,onRender:function(a,b){if(!this.el&&(this.el=document.createElement("fieldset"),this.el.id=this.id,this.title||this.header||this.checkboxToggle))this.el.appendChild(document.createElement("legend")).className=this.baseCls+"-header";Ext.form.FieldSet.superclass.onRender.call(this,a,b);this.checkboxToggle&&(this.checkbox=this.header.insertFirst("object"==typeof this.checkboxToggle?this.checkboxToggle:{tag:"input",
type:"checkbox",name:this.checkboxName||this.id+"-checkbox"}),this.checkbox.dom.checked=!this.collapsed,this.mon(this.checkbox,"click",this.onCheckClick,this))},onCollapse:function(a,b){this.checkbox&&(this.checkbox.dom.checked=!1);Ext.form.FieldSet.superclass.onCollapse.call(this,a,b)},onExpand:function(a,b){this.checkbox&&(this.checkbox.dom.checked=!0);Ext.form.FieldSet.superclass.onExpand.call(this,a,b)},onCheckClick:function(){this[this.checkbox.dom.checked?"expand":"collapse"]()}});
Ext.reg("fieldset",Ext.form.FieldSet);
Ext.form.HtmlEditor=Ext.extend(Ext.form.Field,{enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:Ext.isOpera||Ext.isIE6?"&#160;":"&#8203;",actionMode:"wrap",validationEvent:!1,deferHeight:!0,initialized:!1,activated:!1,sourceEditMode:!1,
onFocus:Ext.emptyFn,iframePad:3,hideMode:"offsets",defaultAutoCreate:{tag:"textarea",style:"width:500px;height:300px;",autocomplete:"off"},initComponent:function(){this.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange")},createFontOptions:function(){for(var a=[],b=this.fontFamilies,c,d,g=0,h=b.length;g<h;g++)c=b[g],d=c.toLowerCase(),a.push('<option value="',d,'" style="font-family:',c,';"',this.defaultFont==d?' selected="true">':">",c,"</option>");return a.join("")},
createToolbar:function(a){function b(b,c,g){return{itemId:b,cls:"x-btn-icon",iconCls:"x-edit-"+b,enableToggle:!1!==c,scope:a,handler:g||a.relayBtnCmd,clickEvent:"mousedown",tooltip:d?a.buttonTips[b]||void 0:void 0,overflowText:a.buttonTips[b].title||void 0,tabIndex:-1}}var c=[],d=Ext.QuickTips&&Ext.QuickTips.isEnabled();if(this.enableFont&&!Ext.isSafari2){var g=new Ext.Toolbar.Item({autoEl:{tag:"select",cls:"x-font-select",html:this.createFontOptions()}});c.push(g,"-")}this.enableFormat&&c.push(b("bold"),
b("italic"),b("underline"));this.enableFontSize&&c.push("-",b("increasefontsize",!1,this.adjustFont),b("decreasefontsize",!1,this.adjustFont));this.enableColors&&c.push("-",{itemId:"forecolor",cls:"x-btn-icon",iconCls:"x-edit-forecolor",clickEvent:"mousedown",tooltip:d?a.buttonTips.forecolor||void 0:void 0,tabIndex:-1,menu:new Ext.menu.ColorMenu({allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,listeners:{scope:this,select:function(a,b){this.execCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+
b:b);this.deferFocus()}},clickEvent:"mousedown"})},{itemId:"backcolor",cls:"x-btn-icon",iconCls:"x-edit-backcolor",clickEvent:"mousedown",tooltip:d?a.buttonTips.backcolor||void 0:void 0,tabIndex:-1,menu:new Ext.menu.ColorMenu({focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,listeners:{scope:this,select:function(a,b){Ext.isGecko?(this.execCmd("useCSS",!1),this.execCmd("hilitecolor",b),this.execCmd("useCSS",!0)):this.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE?"#"+
b:b);this.deferFocus()}},clickEvent:"mousedown"})});this.enableAlignments&&c.push("-",b("justifyleft"),b("justifycenter"),b("justifyright"));Ext.isSafari2||(this.enableLinks&&c.push("-",b("createlink",!1,this.createLink)),this.enableLists&&c.push("-",b("insertorderedlist"),b("insertunorderedlist")),this.enableSourceEdit&&c.push("-",b("sourceedit",!0,function(){this.toggleSourceEdit(!this.sourceEditMode)})));c=new Ext.Toolbar({renderTo:this.wrap.dom.firstChild,items:c});g&&(this.fontSelect=g.el,this.mon(this.fontSelect,
"change",function(){this.relayCmd("fontname",this.fontSelect.dom.value);this.deferFocus()},this));this.mon(c.el,"click",function(a){a.preventDefault()});this.tb=c;this.tb.doLayout()},onDisable:function(){this.wrap.mask();Ext.form.HtmlEditor.superclass.onDisable.call(this)},onEnable:function(){this.wrap.unmask();Ext.form.HtmlEditor.superclass.onEnable.call(this)},setReadOnly:function(a){Ext.form.HtmlEditor.superclass.setReadOnly.call(this,a);if(this.initialized){Ext.isIE?this.getEditorBody().contentEditable=
!a:this.setDesignMode(!a);var b=this.getEditorBody();b&&(b.style.cursor=this.readOnly?"default":"text");this.disableItems(a)}},getDocMarkup:function(){var a=Ext.fly(this.iframe).getHeight()-2*this.iframePad;return String.format('<html><head><style type="text/css">body{border: 0; margin: 0; padding: {0}px; height: {1}px; cursor: text}</style></head><body></body></html>',this.iframePad,a)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return Ext.isIE?
this.getWin().document:this.iframe.contentDocument||this.getWin().document},getWin:function(){return Ext.isIE?this.iframe.contentWindow:window.frames[this.iframe.name]},onRender:function(a,b){Ext.form.HtmlEditor.superclass.onRender.call(this,a,b);this.el.dom.style.border="0 none";this.el.dom.setAttribute("tabIndex",-1);this.el.addClass("x-hidden");Ext.isIE&&this.el.applyStyles("margin-top:-1px;margin-bottom:-1px;");this.wrap=this.el.wrap({cls:"x-html-editor-wrap",cn:{cls:"x-html-editor-tb"}});this.createToolbar(this);
this.disableItems(!0);this.tb.doLayout();this.createIFrame();if(!this.width){var c=this.el.getSize();this.setSize(c.width,this.height||c.height)}this.resizeEl=this.positionEl=this.wrap},createIFrame:function(){var a=document.createElement("iframe");a.name=Ext.id();a.frameBorder="0";a.style.overflow="auto";this.wrap.dom.appendChild(a);this.iframe=a;this.monitorTask=Ext.TaskMgr.start({run:this.checkDesignMode,scope:this,interval:100})},initFrame:function(){Ext.TaskMgr.stop(this.monitorTask);var a=this.getDoc();
this.win=this.getWin();a.open();a.write(this.getDocMarkup());a.close();var b={run:function(){var a=this.getDoc();if(a.body||"complete"==a.readyState)Ext.TaskMgr.stop(b),this.setDesignMode(!0),this.initEditor.defer(10,this)},interval:10,duration:1E4,scope:this};Ext.TaskMgr.start(b)},checkDesignMode:function(){if(this.wrap&&this.wrap.dom.offsetWidth){var a=this.getDoc();a&&(!a.editorInitialized||"on"!=this.getDesignMode())&&this.initFrame()}},setDesignMode:function(a){var b;if(b=this.getDoc())this.readOnly&&
(a=!1),b.designMode=/on|true/i.test(String(a).toLowerCase())?"on":"off"},getDesignMode:function(){var a=this.getDoc();return!a?"":String(a.designMode).toLowerCase()},disableItems:function(a){this.fontSelect&&(this.fontSelect.dom.disabled=a);this.tb.items.each(function(b){"sourceedit"!=b.getItemId()&&b.setDisabled(a)})},onResize:function(a,b){Ext.form.HtmlEditor.superclass.onResize.apply(this,arguments);if(this.el&&this.iframe){if(Ext.isNumber(a)){var c=a-this.wrap.getFrameWidth("lr");this.el.setWidth(c);
this.tb.setWidth(c);this.iframe.style.width=Math.max(c,0)+"px"}if(Ext.isNumber(b)){c=b-this.wrap.getFrameWidth("tb")-this.tb.el.getHeight();this.el.setHeight(c);this.iframe.style.height=Math.max(c,0)+"px";var d=this.getEditorBody();d&&(d.style.height=Math.max(c-2*this.iframePad,0)+"px")}}},toggleSourceEdit:function(a){void 0===a&&(a=!this.sourceEditMode);this.sourceEditMode=!0===a;a=this.tb.getComponent("sourceedit");if(a.pressed!==this.sourceEditMode&&(a.toggle(this.sourceEditMode),!a.xtbHidden))return;
this.sourceEditMode?(this.getSize(),a=Ext.get(this.iframe).getHeight(),this.disableItems(!0),this.syncValue(),this.iframe.className="x-hidden",this.el.removeClass("x-hidden"),this.el.dom.removeAttribute("tabIndex"),this.el.focus(),this.el.dom.style.height=a+"px"):(a=parseInt(this.el.dom.style.height,10),this.initialized&&this.disableItems(this.readOnly),this.pushValue(),this.iframe.className="",this.el.addClass("x-hidden"),this.el.dom.setAttribute("tabIndex",-1),this.deferFocus(),this.setSize(void 0),
this.iframe.style.height=a+"px");this.fireEvent("editmodechange",this,this.sourceEditMode)},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);a&&"http://"!=a&&this.relayCmd("createlink",a)},initEvents:function(){this.originalValue=this.getValue()},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,setValue:function(a){Ext.form.HtmlEditor.superclass.setValue.call(this,a);this.pushValue();return this},cleanHtml:function(a){a=String(a);Ext.isWebKit&&(a=a.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,
""));a.charCodeAt(0)==this.defaultValue.replace(/\D/g,"")&&(a=a.substring(1));return a},syncValue:function(){if(this.initialized){var a=this.getEditorBody(),b=a.innerHTML;Ext.isWebKit&&(a=a.getAttribute("style").match(/text-align:(.*?);/i))&&a[1]&&(b='<div style="'+a[0]+'">'+b+"</div>");b=this.cleanHtml(b);!1!==this.fireEvent("beforesync",this,b)&&(this.el.dom.value=b,this.fireEvent("sync",this,b))}},getValue:function(){this[this.sourceEditMode?"pushValue":"syncValue"]();return Ext.form.HtmlEditor.superclass.getValue.call(this)},
pushValue:function(){if(this.initialized){var a=this.el.dom.value;!this.activated&&1>a.length&&(a=this.defaultValue);!1!==this.fireEvent("beforepush",this,a)&&(this.getEditorBody().innerHTML=a,Ext.isGecko&&(this.setDesignMode(!1),this.setDesignMode(!0)),this.fireEvent("push",this,a))}},deferFocus:function(){this.focus.defer(10,this)},focus:function(){this.win&&!this.sourceEditMode?this.win.focus():this.el.focus()},initEditor:function(){try{var a=this.getEditorBody(),b=this.el.getStyles("font-size",
"font-family","background-image","background-repeat","background-color","color"),c,d;b["background-attachment"]="fixed";a.bgProperties="fixed";Ext.DomHelper.applyStyles(a,b);if(c=this.getDoc())try{Ext.EventManager.removeAll(c)}catch(g){}d=this.onEditorEvent.createDelegate(this);Ext.EventManager.on(c,{mousedown:d,dblclick:d,click:d,keyup:d,buffer:100});if(Ext.isGecko)Ext.EventManager.on(c,"keypress",this.applyCommand,this);if(Ext.isIE||Ext.isWebKit||Ext.isOpera)Ext.EventManager.on(c,"keydown",this.fixKeys,
this);this.initialized=c.editorInitialized=!0;this.pushValue();this.setReadOnly(this.readOnly);this.fireEvent("initialize",this)}catch(h){}},onDestroy:function(){this.monitorTask&&Ext.TaskMgr.stop(this.monitorTask);if(this.rendered){Ext.destroy(this.tb);var a=this.getDoc();if(a)try{Ext.EventManager.removeAll(a);for(var b in a)delete a[b]}catch(c){}this.wrap&&(this.wrap.dom.innerHTML="",this.wrap.remove())}this.el&&(this.el.removeAllListeners(),this.el.remove());this.purgeListeners()},onFirstFocus:function(){this.activated=
!0;this.disableItems(this.readOnly);if(Ext.isGecko){this.win.focus();var a=this.win.getSelection();if(!a.focusNode||3!=a.focusNode.nodeType)a=a.getRangeAt(0),a.selectNodeContents(this.getEditorBody()),a.collapse(!0),this.deferFocus();try{this.execCmd("useCSS",!0),this.execCmd("styleWithCSS",!1)}catch(b){}}this.fireEvent("activate",this)},adjustFont:function(a){var a="increasefontsize"==a.getItemId()?1:-1,b=this.getDoc(),b=parseInt(b.queryCommandValue("FontSize")||2,10);Ext.isSafari&&!Ext.isSafari2||
Ext.isChrome||Ext.isAir?b=(10>=b?1+a:13>=b?2+a:16>=b?3+a:18>=b?4+a:24>=b?5+a:6+a).constrain(1,6):(Ext.isSafari&&(a*=2),b=Math.max(1,b+a)+(Ext.isSafari?"px":0));this.execCmd("FontSize",b)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){if(!this.readOnly)if(this.activated){var a=this.tb.items.map,b=this.getDoc();if(this.enableFont&&!Ext.isSafari2){var c=(b.queryCommandValue("FontName")||this.defaultFont).toLowerCase();c!=this.fontSelect.dom.value&&(this.fontSelect.dom.value=
c)}this.enableFormat&&(a.bold.toggle(b.queryCommandState("bold")),a.italic.toggle(b.queryCommandState("italic")),a.underline.toggle(b.queryCommandState("underline")));this.enableAlignments&&(a.justifyleft.toggle(b.queryCommandState("justifyleft")),a.justifycenter.toggle(b.queryCommandState("justifycenter")),a.justifyright.toggle(b.queryCommandState("justifyright")));!Ext.isSafari2&&this.enableLists&&(a.insertorderedlist.toggle(b.queryCommandState("insertorderedlist")),a.insertunorderedlist.toggle(b.queryCommandState("insertunorderedlist")));
Ext.menu.MenuMgr.hideAll();this.syncValue()}else this.onFirstFocus()},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(a,b){(function(){this.focus();this.execCmd(a,b);this.updateToolbar()}).defer(10,this)},execCmd:function(a,b){this.getDoc().execCommand(a,!1,void 0===b?null:b);this.syncValue()},applyCommand:function(a){if(a.ctrlKey){var b=a.getCharCode(),c;if(0<b){b=String.fromCharCode(b);switch(b){case "b":c="bold";break;case "i":c="italic";break;case "u":c="underline"}c&&
(this.win.focus(),this.execCmd(c),this.deferFocus(),a.preventDefault())}}},insertAtCursor:function(a){if(this.activated)if(Ext.isIE){this.win.focus();var b=this.getDoc().selection.createRange();b&&(b.pasteHTML(a),this.syncValue(),this.deferFocus())}else this.win.focus(),this.execCmd("InsertHTML",a),this.deferFocus()},fixKeys:function(){if(Ext.isIE)return function(a){var b=a.getKey(),c=this.getDoc();if(b==a.TAB){if(a.stopEvent(),b=c.selection.createRange())b.collapse(!0),b.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;"),
this.deferFocus()}else if(b==a.ENTER&&(b=c.selection.createRange()))if(c=b.parentElement(),!c||"li"!=c.tagName.toLowerCase())a.stopEvent(),b.pasteHTML("<br />"),b.collapse(!1),b.select()};if(Ext.isOpera)return function(a){a.getKey()==a.TAB&&(a.stopEvent(),this.win.focus(),this.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),this.deferFocus())};if(Ext.isWebKit)return function(a){var b=a.getKey();b==a.TAB?(a.stopEvent(),this.execCmd("InsertText","\t"),this.deferFocus()):b==a.ENTER&&(a.stopEvent(),
this.execCmd("InsertHtml","<br /><br />"),this.deferFocus())}}(),getToolbar:function(){return this.tb},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",
text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",
text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}}});Ext.reg("htmleditor",Ext.form.HtmlEditor);
Ext.form.TimeField=Ext.extend(Ext.form.ComboBox,{minValue:void 0,maxValue:void 0,minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,mode:"local",triggerAction:"all",typeAhead:!1,initDate:"1/1/2008",initDateFormat:"j/n/Y",initComponent:function(){Ext.isDefined(this.minValue)&&
this.setMinValue(this.minValue,!0);Ext.isDefined(this.maxValue)&&this.setMaxValue(this.maxValue,!0);this.store||this.generateStore(!0);Ext.form.TimeField.superclass.initComponent.call(this)},setMinValue:function(a,b){this.setLimit(a,!0,b);return this},setMaxValue:function(a,b){this.setLimit(a,!1,b);return this},generateStore:function(a){for(var b=this.minValue||(new Date(this.initDate)).clearTime(),c=this.maxValue||(new Date(this.initDate)).clearTime().add("mi",1439),d=[];b<=c;)d.push(b.dateFormat(this.format)),
b=b.add("mi",this.increment);this.bindStore(d,a)},setLimit:function(a,b,c){var d;Ext.isString(a)?d=this.parseDate(a):Ext.isDate(a)&&(d=a);d&&(a=(new Date(this.initDate)).clearTime(),a.setHours(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()),this[b?"minValue":"maxValue"]=a,c||this.generateStore())},getValue:function(){var a=Ext.form.TimeField.superclass.getValue.call(this);return this.formatDate(this.parseDate(a))||""},setValue:function(a){return Ext.form.TimeField.superclass.setValue.call(this,
this.formatDate(this.parseDate(a)))},validateValue:Ext.form.DateField.prototype.validateValue,formatDate:Ext.form.DateField.prototype.formatDate,parseDate:function(a){if(!a||Ext.isDate(a))return a;var b=this.initDate+" ",c=this.initDateFormat+" ",d=Date.parseDate(b+a,c+this.format),g=this.altFormats;if(!d&&g){this.altFormatsArray||(this.altFormatsArray=g.split("|"));for(var g=0,h=this.altFormatsArray,l=h.length;g<l&&!d;g++)d=Date.parseDate(b+a,c+h[g])}return d}});Ext.reg("timefield",Ext.form.TimeField);
Ext.form.SliderField=Ext.extend(Ext.form.Field,{useTips:!0,tipText:null,actionMode:"wrap",initComponent:function(){var a=Ext.copyTo({id:this.id+"-slider"},this.initialConfig,"vertical minValue maxValue decimalPrecision keyIncrement increment clickToChange animate".split(" "));this.useTips&&(a.plugins=[new Ext.slider.Tip(this.tipText?{getText:this.tipText}:{})]);this.slider=new Ext.Slider(a);Ext.form.SliderField.superclass.initComponent.call(this)},onRender:function(a,b){this.autoCreate={id:this.id,
name:this.name,type:"hidden",tag:"input"};Ext.form.SliderField.superclass.onRender.call(this,a,b);this.resizeEl=this.positionEl=this.wrap=this.el.wrap({cls:"x-form-field-wrap"});this.slider.render(this.wrap)},onResize:function(a,b,c,d){Ext.form.SliderField.superclass.onResize.call(this,a,b,c,d);this.slider.setSize(a,b)},initEvents:function(){Ext.form.SliderField.superclass.initEvents.call(this);this.slider.on("change",this.onChange,this)},onChange:function(a,b){this.setValue(b,void 0,!0)},onEnable:function(){Ext.form.SliderField.superclass.onEnable.call(this);
this.slider.enable()},onDisable:function(){Ext.form.SliderField.superclass.onDisable.call(this);this.slider.disable()},beforeDestroy:function(){Ext.destroy(this.slider);Ext.form.SliderField.superclass.beforeDestroy.call(this)},alignErrorIcon:function(){this.errorIcon.alignTo(this.slider.el,"tl-tr",[2,0])},setMinValue:function(a){this.slider.setMinValue(a);return this},setMaxValue:function(a){this.slider.setMaxValue(a);return this},setValue:function(a,b,c){c||this.slider.setValue(a,b);return Ext.form.SliderField.superclass.setValue.call(this,
this.slider.getValue())},getValue:function(){return this.slider.getValue()}});Ext.reg("sliderfield",Ext.form.SliderField);
Ext.form.Label=Ext.extend(Ext.BoxComponent,{onRender:function(a,b){this.el||(this.el=document.createElement("label"),this.el.id=this.getId(),this.el.innerHTML=this.text?Ext.util.Format.htmlEncode(this.text):this.html||"",this.forId&&this.el.setAttribute("for",this.forId));Ext.form.Label.superclass.onRender.call(this,a,b)},setText:function(a,b){var c=!1===b;this[!c?"text":"html"]=a;delete this[c?"text":"html"];this.rendered&&(this.el.dom.innerHTML=!1!==b?Ext.util.Format.htmlEncode(a):a);return this}});
Ext.reg("label",Ext.form.Label);Ext.form.Action=function(a,b){this.form=a;this.options=b||{}};Ext.form.Action.CLIENT_INVALID="client";Ext.form.Action.SERVER_INVALID="server";Ext.form.Action.CONNECT_FAILURE="connect";Ext.form.Action.LOAD_FAILURE="load";
Ext.form.Action.prototype={type:"default",run:function(){},success:function(){},handleResponse:function(){},failure:function(a){this.response=a;this.failureType=Ext.form.Action.CONNECT_FAILURE;this.form.afterAction(this,!1)},processResponse:function(a){this.response=a;return!a.responseText&&!a.responseXML?!0:this.result=this.handleResponse(a)},getUrl:function(a){var b=this.options.url||this.form.url||this.form.el.dom.action;a&&(a=this.getParams())&&(b=Ext.urlAppend(b,a));return b},getMethod:function(){return(this.options.method||
this.form.method||this.form.el.dom.method||"POST").toUpperCase()},getParams:function(){var a=this.form.baseParams,b=this.options.params;b?"object"==typeof b?b=Ext.urlEncode(Ext.applyIf(b,a)):"string"==typeof b&&a&&(b+="&"+Ext.urlEncode(a)):a&&(b=Ext.urlEncode(a));return b},createCallback:function(a){a=a||{};return{success:this.success,failure:this.failure,scope:this,timeout:1E3*a.timeout||1E3*this.form.timeout,upload:this.form.fileUpload?this.success:void 0}}};
Ext.form.Action.Submit=function(a,b){Ext.form.Action.Submit.superclass.constructor.call(this,a,b)};
Ext.extend(Ext.form.Action.Submit,Ext.form.Action,{type:"submit",run:function(){var a=this.options,b=this.getMethod(),c="GET"==b;if(!1===a.clientValidation||this.form.isValid()){if(!1===a.submitEmptyText){var d=[];this.form.items.each(function(a){a.el.getValue()==a.emptyText&&(d.push(a),a.el.dom.value="")})}Ext.Ajax.request(Ext.apply(this.createCallback(a),{form:this.form.el.dom,url:this.getUrl(c),method:b,headers:a.headers,params:!c?this.getParams():null,isUpload:this.form.fileUpload}));!1===a.submitEmptyText&&
Ext.each(d,function(a){a.applyEmptyText&&a.applyEmptyText()})}else!1!==a.clientValidation&&(this.failureType=Ext.form.Action.CLIENT_INVALID,this.form.afterAction(this,!1))},success:function(a){a=this.processResponse(a);!0===a||a.success?this.form.afterAction(this,!0):(a.errors&&this.form.markInvalid(a.errors),this.failureType=Ext.form.Action.SERVER_INVALID,this.form.afterAction(this,!1))},handleResponse:function(a){if(this.form.errorReader){var a=this.form.errorReader.read(a),b=[];if(a.records)for(var c=
0,d=a.records.length;c<d;c++)b[c]=a.records[c].data;1>b.length&&(b=null);return{success:a.success,errors:b}}return Ext.decode(a.responseText)}});Ext.form.Action.Load=function(a,b){Ext.form.Action.Load.superclass.constructor.call(this,a,b);this.reader=this.form.reader};
Ext.extend(Ext.form.Action.Load,Ext.form.Action,{type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(this.options),{method:this.getMethod(),url:this.getUrl(!1),headers:this.options.headers,params:this.getParams()}))},success:function(a){a=this.processResponse(a);!0===a||!a.success||!a.data?(this.failureType=Ext.form.Action.LOAD_FAILURE,this.form.afterAction(this,!1)):(this.form.clearInvalid(),this.form.setValues(a.data),this.form.afterAction(this,!0))},handleResponse:function(a){return this.form.reader?
(a=this.form.reader.read(a),{success:a.success,data:a.records&&a.records[0]?a.records[0].data:null}):Ext.decode(a.responseText)}});
Ext.form.Action.DirectLoad=Ext.extend(Ext.form.Action.Load,{constructor:function(a,b){Ext.form.Action.DirectLoad.superclass.constructor.call(this,a,b)},type:"directload",run:function(){var a=this.getParams();a.push(this.success,this);this.form.api.load.apply(window,a)},getParams:function(){var a=[],b={};Ext.apply(b,this.options.params,this.form.baseParams);var c=this.form.paramOrder;if(c)for(var d=0,g=c.length;d<g;d++)a.push(b[c[d]]);else this.form.paramsAsHash&&a.push(b);return a},processResponse:function(a){return this.result=
a},success:function(a,b){b.type==Ext.Direct.exceptions.SERVER&&(a={});Ext.form.Action.DirectLoad.superclass.success.call(this,a)}});
Ext.form.Action.DirectSubmit=Ext.extend(Ext.form.Action.Submit,{constructor:function(a,b){Ext.form.Action.DirectSubmit.superclass.constructor.call(this,a,b)},type:"directsubmit",run:function(){var a=this.options;!1===a.clientValidation||this.form.isValid()?(this.success.params=this.getParams(),this.form.api.submit(this.form.el.dom,this.success,this)):!1!==a.clientValidation&&(this.failureType=Ext.form.Action.CLIENT_INVALID,this.form.afterAction(this,!1))},getParams:function(){var a={};Ext.apply(a,
this.options.params,this.form.baseParams);return a},processResponse:function(a){return this.result=a},success:function(a,b){b.type==Ext.Direct.exceptions.SERVER&&(a={});Ext.form.Action.DirectSubmit.superclass.success.call(this,a)}});Ext.form.Action.ACTION_TYPES={load:Ext.form.Action.Load,submit:Ext.form.Action.Submit,directload:Ext.form.Action.DirectLoad,directsubmit:Ext.form.Action.DirectSubmit};
Ext.form.VTypes=function(){var a=/^[a-zA-Z_]+$/,b=/^[a-zA-Z0-9_]+$/,c=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,d=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{email:function(a){return c.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-@\+]/i,url:function(a){return d.test(a)},urlText:'This field should be a URL in the format "http://www.example.com"',
alpha:function(b){return a.test(b)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return b.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}();
Ext.grid.GridPanel=Ext.extend(Ext.Panel,{autoExpandColumn:!1,autoExpandMax:1E3,autoExpandMin:50,columnLines:!1,ddText:"{0} selected row{1}",deferRowRender:!0,enableColumnHide:!0,enableColumnMove:!0,enableDragDrop:!1,enableHdMenu:!0,loadMask:!1,minColumnWidth:25,stripeRows:!1,trackMouseOver:!0,stateEvents:["columnmove","columnresize","sortchange","groupchange"],view:null,bubbleEvents:[],rendered:!1,viewReady:!1,initComponent:function(){Ext.grid.GridPanel.superclass.initComponent.call(this);this.columnLines&&
(this.cls=(this.cls||"")+" x-grid-with-col-lines");this.autoWidth=this.autoScroll=!1;Ext.isArray(this.columns)&&(this.colModel=new Ext.grid.ColumnModel(this.columns),delete this.columns);this.ds&&(this.store=this.ds,delete this.ds);this.cm&&(this.colModel=this.cm,delete this.cm);this.sm&&(this.selModel=this.sm,delete this.sm);this.store=Ext.StoreMgr.lookup(this.store);this.addEvents("click","dblclick","contextmenu","mousedown","mouseup","mouseover","mouseout","keypress","keydown","cellmousedown",
"rowmousedown","headermousedown","groupmousedown","rowbodymousedown","containermousedown","cellclick","celldblclick","rowclick","rowdblclick","headerclick","headerdblclick","groupclick","groupdblclick","containerclick","containerdblclick","rowbodyclick","rowbodydblclick","rowcontextmenu","cellcontextmenu","headercontextmenu","groupcontextmenu","containercontextmenu","rowbodycontextmenu","bodyscroll","columnresize","columnmove","sortchange","groupchange","reconfigure","viewready")},onRender:function(a,
b){Ext.grid.GridPanel.superclass.onRender.apply(this,arguments);var c=this.getGridEl();this.el.addClass("x-grid-panel");this.mon(c,{scope:this,mousedown:this.onMouseDown,click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu});this.relayEvents(c,"mousedown mouseup mouseover mouseout keypress keydown".split(" "));c=this.getView();c.init(this);c.render();this.getSelectionModel().init(this)},initEvents:function(){Ext.grid.GridPanel.superclass.initEvents.call(this);this.loadMask&&
(this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:this.store},this.loadMask)))},initStateEvents:function(){Ext.grid.GridPanel.superclass.initStateEvents.call(this);this.mon(this.colModel,"hiddenchange",this.saveState,this,{delay:100})},applyState:function(a){var b=this.colModel,c=a.columns,d=this.store,g,h;if(c)for(var l=0,n=c.length;l<n;l++)if(g=c[l],h=b.getColumnById(g.id))h.hidden=g.hidden,h.width=g.width,g=b.getIndexById(g.id),g!=l&&b.moveColumn(g,l);if(d){if(g=a.sort)d[d.remoteSort?
"setDefaultSort":"sort"](g.field,g.direction);g=a.group;d.groupBy&&(g?d.groupBy(g):d.clearGrouping())}a=Ext.apply({},a);delete a.columns;delete a.sort;Ext.grid.GridPanel.superclass.applyState.call(this,a)},getState:function(){var a={columns:[]},b=this.store,c;c=0;for(var d;d=this.colModel.config[c];c++)a.columns[c]={id:d.id,width:d.width},d.hidden&&(a.columns[c].hidden=!0);if(b){if(c=b.getSortState())a.sort=c;if(b.getGroupState&&(b=b.getGroupState()))a.group=b}return a},afterRender:function(){Ext.grid.GridPanel.superclass.afterRender.call(this);
var a=this.view;this.on("bodyresize",a.layout,a);a.layout();this.deferRowRender?(this.deferRowRenderTask||(this.deferRowRenderTask=new Ext.util.DelayedTask(a.afterRender,this.view)),this.deferRowRenderTask.delay(10)):a.afterRender();this.viewReady=!0},reconfigure:function(a,b){var c=this.rendered;c&&this.loadMask&&(this.loadMask.destroy(),this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({},{store:a},this.initialConfig.loadMask)));this.view&&this.view.initData(a,b);this.store=a;this.colModel=b;
c&&this.view.refresh(!0);this.fireEvent("reconfigure",this,a,b)},onDestroy:function(){this.deferRowRenderTask&&this.deferRowRenderTask.cancel&&this.deferRowRenderTask.cancel();this.rendered?Ext.destroy(this.view,this.loadMask):this.store&&this.store.autoDestroy&&this.store.destroy();Ext.destroy(this.colModel,this.selModel);this.store=this.selModel=this.colModel=this.view=this.loadMask=null;Ext.grid.GridPanel.superclass.onDestroy.call(this)},processEvent:function(a,b){this.view.processEvent(a,b)},
onClick:function(a){this.processEvent("click",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onContextMenu:function(a){this.processEvent("contextmenu",a)},onDblClick:function(a){this.processEvent("dblclick",a)},walkCells:function(a,b,c,d,g){var h=this.colModel,l=h.getColumnCount(),n=this.store.getCount(),q=!0;if(0>c){0>b&&(a--,q=!1);for(;0<=a;){q||(b=l-1);for(q=!1;0<=b;){if(!0===d.call(g||this,a,b,h))return[a,b];b--}a--}}else{b>=l&&(a++,q=!1);for(;a<n;){q||(b=0);for(q=!1;b<l;){if(!0===
d.call(g||this,a,b,h))return[a,b];b++}a++}}return null},getGridEl:function(){return this.body},stopEditing:Ext.emptyFn,getSelectionModel:function(){this.selModel||(this.selModel=new Ext.grid.RowSelectionModel(this.disableSelection?{selectRow:Ext.emptyFn}:null));return this.selModel},getStore:function(){return this.store},getColumnModel:function(){return this.colModel},getView:function(){this.view||(this.view=new Ext.grid.GridView(this.viewConfig));return this.view},getDragDropText:function(){var a=
this.selModel.getCount();return String.format(this.ddText,a,1==a?"":"s")}});Ext.reg("grid",Ext.grid.GridPanel);
Ext.grid.GridView=Ext.extend(Ext.util.Observable,{deferEmptyText:!0,scrollOffset:void 0,autoFill:!1,forceFit:!1,sortClasses:["sort-asc","sort-desc"],sortAscText:"Sort Ascending",sortDescText:"Sort Descending",columnsText:"Columns",selectedRowClass:"x-grid3-row-selected",borderWidth:2,tdClass:"x-grid3-cell",hdCls:"x-grid3-hd",markDirty:!0,cellSelectorDepth:4,rowSelectorDepth:10,rowBodySelectorDepth:10,cellSelector:"td.x-grid3-cell",rowSelector:"div.x-grid3-row",rowBodySelector:"div.x-grid3-row-body",
firstRowCls:"x-grid3-row-first",lastRowCls:"x-grid3-row-last",rowClsRe:/(?:^|\s+)x-grid3-row-(first|last|alt)(?:\s+|$)/g,constructor:function(a){Ext.apply(this,a);this.addEvents("beforerowremoved","beforerowsinserted","beforerefresh","rowremoved","rowsinserted","rowupdated","refresh");Ext.grid.GridView.superclass.constructor.call(this)},initTemplates:function(){var a=this.templates||{};a.master||(a.master=new Ext.Template('<div class="x-grid3" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header"><div class="x-grid3-header-inner"><div class="x-grid3-header-offset" style="{ostyle}">{header}</div></div><div class="x-clear"></div></div>',
'<div class="x-grid3-scroller"><div class="x-grid3-body" style="{bstyle}">{body}</div><a href="#" class="x-grid3-focus" tabIndex="-1"></a></div>',"</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>"));a.header||(a.header=new Ext.Template('<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}">','<thead><tr class="x-grid3-hd-row">{cells}</tr></thead>',"</table>"));a.hcell||(a.hcell=new Ext.Template('<td class="x-grid3-hd x-grid3-cell x-grid3-td-{id} {css}" style="{style}"><div {tooltip} {attr} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',
this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"",'{value}<img class="x-grid3-sort-icon" src="',Ext.BLANK_IMAGE_URL,'" />',"</div></td>"));a.body||(a.body=new Ext.Template("{rows}"));a.row||(a.row=new Ext.Template('<div class="x-grid3-row {alt}" style="{tstyle}"><table class="x-grid3-row-table" border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<tbody><tr>{cells}</tr>",this.enableRowBody?'<tr class="x-grid3-row-body-tr" style="{bodyStyle}"><td colspan="{cols}" class="x-grid3-body-cell" tabIndex="0" hidefocus="on"><div class="x-grid3-row-body">{body}</div></td></tr>':
"","</tbody></table></div>"));a.cell||(a.cell=new Ext.Template('<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} {css}" style="{style}" tabIndex="0" {cellAttr}>','<div class="x-grid3-cell-inner x-grid3-col-{id}" unselectable="on" {attr}>{value}</div>',"</td>"));for(var b in a){var c=a[b];c&&(Ext.isFunction(c.compile)&&!c.compiled)&&(c.disableFormats=!0,c.compile())}this.templates=a;this.colRe=/x-grid3-td-([^\s]+)/},fly:function(a){this._flyweight||(this._flyweight=new Ext.Element.Flyweight(document.body));
this._flyweight.dom=a;return this._flyweight},getEditorParent:function(){return this.scroller.dom},initElements:function(){var a=Ext.Element,b=this.grid.getGridEl().dom.firstChild,c=b.childNodes;this.el=new a(b);this.mainWrap=new a(c[0]);this.mainHd=new a(this.mainWrap.dom.firstChild);this.grid.hideHeaders&&this.mainHd.setDisplayed(!1);this.innerHd=this.mainHd.dom.firstChild;this.scroller=new a(this.mainWrap.dom.childNodes[1]);this.forceFit&&this.scroller.setStyle("overflow-x","hidden");this.mainBody=
new a(this.scroller.dom.firstChild);this.focusEl=new a(this.scroller.dom.childNodes[1]);this.focusEl.swallowEvent("click",!0);this.resizeMarker=new a(c[1]);this.resizeProxy=new a(c[2])},getRows:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},findCell:function(a){return!a?!1:this.fly(a).findParent(this.cellSelector,this.cellSelectorDepth)},findCellIndex:function(a,b){var c=this.findCell(a);return c&&(!b||this.fly(c).hasClass(b))?this.getCellIndex(c):!1},getCellIndex:function(a){return a&&
(a=a.className.match(this.colRe))&&a[1]?this.cm.getIndexById(a[1]):!1},findHeaderCell:function(a){return(a=this.findCell(a))&&this.fly(a).hasClass(this.hdCls)?a:null},findHeaderIndex:function(a){return this.findCellIndex(a,this.hdCls)},findRow:function(a){return!a?!1:this.fly(a).findParent(this.rowSelector,this.rowSelectorDepth)},findRowIndex:function(a){return(a=this.findRow(a))?a.rowIndex:!1},findRowBody:function(a){return!a?!1:this.fly(a).findParent(this.rowBodySelector,this.rowBodySelectorDepth)},
getRow:function(a){return this.getRows()[a]},getCell:function(a,b){return this.getRow(a).getElementsByTagName("td")[b]},getHeaderCell:function(a){return this.mainHd.dom.getElementsByTagName("td")[a]},addRowClass:function(a,b){var c=this.getRow(a);c&&this.fly(c).addClass(b)},removeRowClass:function(a,b){var c=this.getRow(a);c&&this.fly(c).removeClass(b)},removeRow:function(a){Ext.removeNode(this.getRow(a));this.syncFocusEl(a)},removeRows:function(a,b){for(var c=this.mainBody.dom,d=a;d<=b;d++)Ext.removeNode(c.childNodes[a]);
this.syncFocusEl(a)},getScrollState:function(){var a=this.scroller.dom;return{left:a.scrollLeft,top:a.scrollTop}},restoreScroll:function(a){var b=this.scroller.dom;b.scrollLeft=a.left;b.scrollTop=a.top},scrollToTop:function(){this.scroller.dom.scrollTop=0;this.scroller.dom.scrollLeft=0},syncScroll:function(){this.syncHeaderScroll();var a=this.scroller.dom;this.grid.fireEvent("bodyscroll",a.scrollLeft,a.scrollTop)},syncHeaderScroll:function(){var a=this.scroller.dom;this.innerHd.scrollLeft=a.scrollLeft;
this.innerHd.scrollLeft=a.scrollLeft},updateSortIcon:function(a,b){var c=this.sortClasses;this.mainHd.select("td").removeClass(c).item(a).addClass(c["DESC"==b?1:0])},updateAllColumnWidths:function(){var a=this.getTotalWidth(),b=this.cm.getColumnCount(),c=[],d,g;for(g=0;g<b;g++)c[g]=this.getColumnWidth(g);this.innerHd.firstChild.style.width=this.getOffsetWidth();this.innerHd.firstChild.firstChild.style.width=a;this.mainBody.dom.style.width=a;for(g=0;g<b;g++)this.getHeaderCell(g).style.width=c[g];var h=
this.getRows(),l;g=0;for(d=h.length;g<d;g++)if(l=h[g],l.style.width=a,l.firstChild){l.firstChild.style.width=a;l=l.firstChild.rows[0];for(var n=0;n<b;n++)l.childNodes[n].style.width=c[n]}this.onAllColumnWidthsUpdated(c,a)},updateColumnWidth:function(a){var b=this.getColumnWidth(a),c=this.getTotalWidth();this.innerHd.firstChild.style.width=this.getOffsetWidth();this.innerHd.firstChild.firstChild.style.width=c;this.mainBody.dom.style.width=c;this.getHeaderCell(a).style.width=b;for(var d=this.getRows(),
g,h=0,l=d.length;h<l;h++)g=d[h],g.style.width=c,g.firstChild&&(g.firstChild.style.width=c,g.firstChild.rows[0].childNodes[a].style.width=b);this.onColumnWidthUpdated(a,b,c)},updateColumnHidden:function(a,b){var c=this.getTotalWidth();this.innerHd.firstChild.style.width=this.getOffsetWidth();this.innerHd.firstChild.firstChild.style.width=c;this.mainBody.dom.style.width=c;var d=b?"none":"";this.getHeaderCell(a).style.display=d;for(var g=this.getRows(),h,l=0,n=g.length;l<n;l++)h=g[l],h.style.width=c,
h.firstChild&&(h.firstChild.style.width=c,h.firstChild.rows[0].childNodes[a].style.display=d);this.onColumnHiddenUpdated(a,b,c);delete this.lastViewWidth;this.layout()},doRender:function(a,b,c,d,g,h){for(var l=this.templates,n=l.cell,l=l.row,q=g-1,r=[],s=[],p={tstyle:"width:"+this.getTotalWidth()+";"},v={},t,A,w=0,C=b.length;w<C;w++){A=b[w];for(var s=[],z=w+d,D=0;D<g;D++)t=a[D],v.id=t.id,v.css=0===D?"x-grid3-cell-first ":D==q?"x-grid3-cell-last ":"",v.attr=v.cellAttr="",v.style=t.style,v.value=t.renderer.call(t.scope,
A.data[t.name],v,A,z,D,c),Ext.isEmpty(v.value)&&(v.value="&#160;"),this.markDirty&&(A.dirty&&Ext.isDefined(A.modified[t.name]))&&(v.css+=" x-grid3-dirty-cell"),s[s.length]=n.apply(v);t=[];h&&0===(z+1)%2&&(t[0]="x-grid3-row-alt");A.dirty&&(t[1]=" x-grid3-dirty-row");p.cols=g;this.getRowClass&&(t[2]=this.getRowClass(A,z,p,c));p.alt=t.join(" ");p.cells=s.join("");r[r.length]=l.apply(p)}return r.join("")},processRows:function(a,b){if(this.ds&&!(1>this.ds.getCount())){var c=this.getRows(),d=c.length,g,
h,b=b||!this.grid.stripeRows,a=a||0;for(g=0;g<d;g++)if(h=c[g])h.rowIndex=g,b||(h.className=h.className.replace(this.rowClsRe," "),0===(g+1)%2&&(h.className+=" x-grid3-row-alt"));0===a&&Ext.fly(c[0]).addClass(this.firstRowCls);Ext.fly(c[c.length-1]).addClass(this.lastRowCls)}},afterRender:function(){this.ds&&this.cm&&(this.mainBody.dom.innerHTML=this.renderRows()||"&#160;",this.processRows(0,!0),!0!==this.deferEmptyText&&this.applyEmptyText(),this.grid.fireEvent("viewready",this.grid))},renderUI:function(){var a=
this.templates,b=this.renderHeaders(),c=a.body.apply({rows:"&#160;"}),a=a.master.apply({body:c,header:b,ostyle:"width:"+this.getOffsetWidth()+";",bstyle:"width:"+this.getTotalWidth()+";"}),b=this.grid;b.getGridEl().dom.innerHTML=a;this.initElements();Ext.fly(this.innerHd).on("click",this.handleHdDown,this);this.mainHd.on({scope:this,mouseover:this.handleHdOver,mouseout:this.handleHdOut,mousemove:this.handleHdMove});this.scroller.on("scroll",this.syncScroll,this);!1!==b.enableColumnResize&&(this.splitZone=
new Ext.grid.GridView.SplitDragZone(b,this.mainHd.dom));b.enableColumnMove&&(this.columnDrag=new Ext.grid.GridView.ColumnDragZone(b,this.innerHd),this.columnDrop=new Ext.grid.HeaderDropZone(b,this.mainHd.dom));!1!==b.enableHdMenu&&(this.hmenu=new Ext.menu.Menu({id:b.id+"-hctx"}),this.hmenu.add({itemId:"asc",text:this.sortAscText,cls:"xg-hmenu-sort-asc"},{itemId:"desc",text:this.sortDescText,cls:"xg-hmenu-sort-desc"}),!1!==b.enableColumnHide&&(this.colMenu=new Ext.menu.Menu({id:b.id+"-hcols-menu"}),
this.colMenu.on({scope:this,beforeshow:this.beforeColMenuShow,itemclick:this.handleHdMenuClick}),this.hmenu.add("-",{itemId:"columns",hideOnClick:!1,text:this.columnsText,menu:this.colMenu,iconCls:"x-cols-icon"})),this.hmenu.on("itemclick",this.handleHdMenuClick,this));if(b.trackMouseOver)this.mainBody.on({scope:this,mouseover:this.onRowOver,mouseout:this.onRowOut});if(b.enableDragDrop||b.enableDrag)this.dragZone=new Ext.grid.GridDragZone(b,{ddGroup:b.ddGroup||"GridDD"});this.updateHeaderSortState()},
processEvent:function(a,b){var c=b.getTarget(),d=this.grid,g=this.findHeaderIndex(c);d.fireEvent(a,b);if(!1!==g)d.fireEvent("header"+a,d,g,b);else{var g=this.findRowIndex(c),h;!1!==g?(d.fireEvent("row"+a,d,g,b),h=this.findCellIndex(c),!1!==h?d.fireEvent("cell"+a,d,g,h,b):(c=this.findRowBody(c))&&d.fireEvent("rowbody"+a,d,g,b)):d.fireEvent("container"+a,d,b)}},layout:function(){if(this.mainBody){var a=this.grid,b=a.getGridEl().getSize(!0),c=b.width;if(a.hideHeaders||!(20>c||20>b.height)){if(a.autoHeight)this.scroller.dom.style.overflow=
"visible",Ext.isWebKit&&(this.scroller.dom.style.position="static");else{this.el.setSize(b.width,b.height);var a=this.mainHd.getHeight(),d=b.height-a;this.scroller.setSize(c,d);this.innerHd&&(this.innerHd.style.width=c+"px")}this.forceFit?this.lastViewWidth!=c&&(this.fitColumns(!1,!1),this.lastViewWidth=c):(this.autoExpand(),this.syncHeaderScroll());this.onLayout(c,d)}}},onLayout:function(){},onColumnWidthUpdated:function(){},onAllColumnWidthsUpdated:function(){},onColumnHiddenUpdated:function(){},
updateColumnText:function(){},afterMove:function(){},init:function(a){this.grid=a;this.initTemplates();this.initData(a.store,a.colModel);this.initUI(a)},getColumnId:function(a){return this.cm.getColumnId(a)},getOffsetWidth:function(){return this.cm.getTotalWidth()+this.getScrollOffset()+"px"},getScrollOffset:function(){return Ext.num(this.scrollOffset,Ext.getScrollBarWidth())},renderHeaders:function(){for(var a=this.cm,b=this.templates,c=b.hcell,d=[],g={},h=a.getColumnCount(),l=h-1,n=0;n<h;n++)g.id=
a.getColumnId(n),g.value=a.getColumnHeader(n)||"",g.style=this.getColumnStyle(n,!0),g.tooltip=this.getColumnTooltip(n),g.css=0===n?"x-grid3-cell-first ":n==l?"x-grid3-cell-last ":"","right"==a.config[n].align?g.istyle="padding-right:16px":delete g.istyle,d[d.length]=c.apply(g);return b.header.apply({cells:d.join(""),tstyle:"width:"+this.getTotalWidth()+";"})},getColumnTooltip:function(a){return(a=this.cm.getColumnTooltip(a))?Ext.QuickTips.isEnabled()?'ext:qtip="'+a+'"':'title="'+a+'"':""},beforeUpdate:function(){this.grid.stopEditing(!0)},
updateHeaders:function(){this.innerHd.firstChild.innerHTML=this.renderHeaders();this.innerHd.firstChild.style.width=this.getOffsetWidth();this.innerHd.firstChild.firstChild.style.width=this.getTotalWidth()},focusRow:function(a){this.focusCell(a,0,!1)},focusCell:function(a,b,c){this.syncFocusEl(this.ensureVisible(a,b,c));Ext.isGecko?this.focusEl.focus():this.focusEl.focus.defer(1,this.focusEl)},resolveCell:function(a,b,c){Ext.isNumber(a)||(a=a.rowIndex);if(!this.ds||0>a||a>=this.ds.getCount())return null;
var b=void 0!==b?b:0,d=this.getRow(a),g=this.cm,h=g.getColumnCount(),l;if(!(!1===c&&0===b)){for(;b<h&&g.isHidden(b);)b++;l=this.getCell(a,b)}return{row:d,cell:l}},getResolvedXY:function(a){if(!a)return null;var b=a.cell,a=a.row;return b?Ext.fly(b).getXY():[this.el.getX(),Ext.fly(a).getY()]},syncFocusEl:function(a,b,c){var d=a;if(!Ext.isArray(d)){a=Math.min(a,Math.max(0,this.getRows().length-1));if(isNaN(a))return;d=this.getResolvedXY(this.resolveCell(a,b,c))}this.focusEl.setXY(d||this.scroller.getXY())},
ensureVisible:function(a,b,c){if((a=this.resolveCell(a,b,c))&&a.row){for(var d=a.row,g=a.cell,b=this.scroller.dom,h=0,l=d,n=this.el.dom;l&&l!=n;)h+=l.offsetTop,l=l.offsetParent;var h=h-this.mainHd.dom.offsetHeight,n=parseInt(b.scrollTop,10),d=h+d.offsetHeight,l=b.clientHeight,q=n+l;h<n?b.scrollTop=h:d>q&&(b.scrollTop=d-l);!1!==c&&(c=parseInt(g.offsetLeft,10),g=c+g.offsetWidth,h=parseInt(b.scrollLeft,10),n=h+b.clientWidth,c<h?b.scrollLeft=c:g>n&&(b.scrollLeft=g-b.clientWidth));return this.getResolvedXY(a)}},
insertRows:function(a,b,c,d){a=a.getCount()-1;if(!d&&0===b&&c>=a)this.fireEvent("beforerowsinserted",this,b,c),this.refresh(),this.fireEvent("rowsinserted",this,b,c);else{d||this.fireEvent("beforerowsinserted",this,b,c);var g=this.renderRows(b,c),h=this.getRow(b);h?(0===b&&Ext.fly(this.getRow(0)).removeClass(this.firstRowCls),Ext.DomHelper.insertHtml("beforeBegin",h,g)):((h=this.getRow(a-1))&&Ext.fly(h).removeClass(this.lastRowCls),Ext.DomHelper.insertHtml("beforeEnd",this.mainBody.dom,g));if(d){if(0===
b||b>=a)Ext.fly(this.getRow(b)).addClass(0===b?this.firstRowCls:this.lastRowCls)}else this.fireEvent("rowsinserted",this,b,c),this.processRows(b)}this.syncFocusEl(b)},deleteRows:function(a,b,c){1>a.getRowCount()?this.refresh():(this.fireEvent("beforerowsdeleted",this,b,c),this.removeRows(b,c),this.processRows(b),this.fireEvent("rowsdeleted",this,b,c))},getColumnStyle:function(a,b){var c=!b?this.cm.config[a].css||"":"",c=c+("width:"+this.getColumnWidth(a)+";");this.cm.isHidden(a)&&(c+="display:none;");
var d=this.cm.config[a].align;d&&(c+="text-align:"+d+";");return c},getColumnWidth:function(a){a=this.cm.getColumnWidth(a);return Ext.isNumber(a)?(Ext.isBorderBox||Ext.isWebKit&&!Ext.isSafari2?a:0<a-this.borderWidth?a-this.borderWidth:0)+"px":a},getTotalWidth:function(){return this.cm.getTotalWidth()+"px"},fitColumns:function(a,b,c){var b=this.cm,d;d=b.getTotalWidth(!1);var g=this.grid.getGridEl().getWidth(!0)-this.getScrollOffset();if(!(20>g)){if(0===g-d)return!1;var h=b.getColumnCount(!0),l=h-(Ext.isNumber(c)?
1:0);0===l&&(l=1,c=void 0);var n=b.getColumnCount(),q=[],r=0,s=0,p;for(d=0;d<n;d++)!b.isHidden(d)&&(!b.isFixed(d)&&d!==c)&&(p=b.getColumnWidth(d),q.push(d),r=d,q.push(p),s+=p);for(n=(g-b.getTotalWidth())/s;q.length;)p=q.pop(),d=q.pop(),b.setColumnWidth(d,Math.max(this.grid.minColumnWidth,Math.floor(p+p*n)),!0);if((d=b.getTotalWidth(!1))>g)c=l!=h?c:r,b.setColumnWidth(c,Math.max(1,b.getColumnWidth(c)-(d-g)),!0);!0!==a&&this.updateAllColumnWidths();return!0}},autoExpand:function(a){var b=this.grid,c=
this.cm;if(!this.userResized&&b.autoExpandColumn){var d=c.getTotalWidth(!1),g=this.grid.getGridEl().getWidth(!0)-this.getScrollOffset();if(d!=g){var h=c.getIndexById(b.autoExpandColumn),l=c.getColumnWidth(h),b=Math.min(Math.max(g-d+l,b.autoExpandMin),b.autoExpandMax);b!=l&&(c.setColumnWidth(h,b,!0),!0!==a&&this.updateColumnWidth(h,b))}}},getColumnData:function(){for(var a=[],b=this.cm,c=b.getColumnCount(),d=0;d<c;d++){var g=b.getDataIndex(d);a[d]={name:!Ext.isDefined(g)?this.ds.fields.get(d).name:
g,renderer:b.getRenderer(d),scope:b.getRendererScope(d),id:b.getColumnId(d),style:this.getColumnStyle(d)}}return a},renderRows:function(a,b){var c=this.grid,d=c.store,g=c.stripeRows,c=c.colModel.getColumnCount();if(1>d.getCount())return"";var h=this.getColumnData(),a=a||0,b=!Ext.isDefined(b)?d.getCount()-1:b,l=d.getRange(a,b);return this.doRender(h,l,d,a,c,g)},renderBody:function(){var a=this.renderRows()||"&#160;";return this.templates.body.apply({rows:a})},refreshRow:function(a){var b=this.ds,c;
if(Ext.isNumber(a)){if(c=a,a=b.getAt(c),!a)return}else if(c=b.indexOf(a),0>c)return;this.insertRows(b,c,c,!0);this.getRow(c).rowIndex=c;this.onRemove(b,a,c+1,!0);this.fireEvent("rowupdated",this,c,a)},refresh:function(a){this.fireEvent("beforerefresh",this);this.grid.stopEditing(!0);var b=this.renderBody();this.mainBody.update(b).setWidth(this.getTotalWidth());!0===a&&(this.updateHeaders(),this.updateHeaderSortState());this.processRows(0,!0);this.layout();this.applyEmptyText();this.fireEvent("refresh",
this)},applyEmptyText:function(){this.emptyText&&!this.hasRows()&&this.mainBody.update('<div class="x-grid-empty">'+this.emptyText+"</div>")},updateHeaderSortState:function(){var a=this.ds.getSortState();if(a){(!this.sortState||this.sortState.field!=a.field||this.sortState.direction!=a.direction)&&this.grid.fireEvent("sortchange",this.grid,a);this.sortState=a;var b=this.cm.findColumnIndex(a.field);-1!=b&&this.updateSortIcon(b,a.direction)}},clearHeaderSortState:function(){this.sortState&&(this.grid.fireEvent("sortchange",
this.grid,null),this.mainHd.select("td").removeClass(this.sortClasses),delete this.sortState)},destroy:function(){this.scrollToTopTask&&this.scrollToTopTask.cancel&&this.scrollToTopTask.cancel();this.colMenu&&(Ext.menu.MenuMgr.unregister(this.colMenu),this.colMenu.destroy(),delete this.colMenu);this.hmenu&&(Ext.menu.MenuMgr.unregister(this.hmenu),this.hmenu.destroy(),delete this.hmenu);this.initData(null,null);this.purgeListeners();Ext.fly(this.innerHd).un("click",this.handleHdDown,this);this.grid.enableColumnMove&&
(Ext.destroy(this.columnDrag.el,this.columnDrag.proxy.ghost,this.columnDrag.proxy.el,this.columnDrop.el,this.columnDrop.proxyTop,this.columnDrop.proxyBottom,this.columnDrag.dragData.ddel,this.columnDrag.dragData.header),this.columnDrag.proxy.anim&&Ext.destroy(this.columnDrag.proxy.anim),delete this.columnDrag.proxy.ghost,delete this.columnDrag.dragData.ddel,delete this.columnDrag.dragData.header,this.columnDrag.destroy(),delete Ext.dd.DDM.locationCache[this.columnDrag.id],delete this.columnDrag._domRef,
delete this.columnDrop.proxyTop,delete this.columnDrop.proxyBottom,this.columnDrop.destroy(),delete Ext.dd.DDM.locationCache["gridHeader"+this.grid.getGridEl().id],delete this.columnDrop._domRef,delete Ext.dd.DDM.ids[this.columnDrop.ddGroup]);this.splitZone&&(this.splitZone.destroy(),delete this.splitZone._domRef,delete Ext.dd.DDM.ids["gridSplitters"+this.grid.getGridEl().id]);Ext.fly(this.innerHd).removeAllListeners();Ext.removeNode(this.innerHd);delete this.innerHd;Ext.destroy(this.el,this.mainWrap,
this.mainHd,this.scroller,this.mainBody,this.focusEl,this.resizeMarker,this.resizeProxy,this.activeHdBtn,this.dragZone,this.splitZone,this._flyweight);delete this.grid.container;this.dragZone&&this.dragZone.destroy();Ext.dd.DDM.currentTarget=null;delete Ext.dd.DDM.locationCache[this.grid.getGridEl().id];Ext.EventManager.removeResizeListener(this.onWindowResize,this)},onDenyColumnHide:function(){},render:function(){if(this.autoFill){var a=this.grid.ownerCt;if(a&&a.getLayout())a.on("afterlayout",function(){this.fitColumns(!0,
!0);this.updateHeaders()},this,{single:!0});else this.fitColumns(!0,!0)}else this.forceFit?this.fitColumns(!0,!1):this.grid.autoExpandColumn&&this.autoExpand(!0);this.renderUI()},initData:function(a,b){this.ds&&(this.ds.un("load",this.onLoad,this),this.ds.un("datachanged",this.onDataChange,this),this.ds.un("add",this.onAdd,this),this.ds.un("remove",this.onRemove,this),this.ds.un("update",this.onUpdate,this),this.ds.un("clear",this.onClear,this),this.ds!==a&&this.ds.autoDestroy&&this.ds.destroy());
if(a)a.on({scope:this,load:this.onLoad,datachanged:this.onDataChange,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.onClear});this.ds=a;this.cm&&(this.cm.un("configchange",this.onColConfigChange,this),this.cm.un("widthchange",this.onColWidthChange,this),this.cm.un("headerchange",this.onHeaderChange,this),this.cm.un("hiddenchange",this.onHiddenChange,this),this.cm.un("columnmoved",this.onColumnMove,this));b&&(delete this.lastViewWidth,b.on({scope:this,configchange:this.onColConfigChange,
widthchange:this.onColWidthChange,headerchange:this.onHeaderChange,hiddenchange:this.onHiddenChange,columnmoved:this.onColumnMove}));this.cm=b},onDataChange:function(){this.refresh();this.updateHeaderSortState();this.syncFocusEl(0)},onClear:function(){this.refresh();this.syncFocusEl(0)},onUpdate:function(a,b){this.refreshRow(b)},onAdd:function(a,b,c){this.insertRows(a,c,c+(b.length-1))},onRemove:function(a,b,c,d){!0!==d&&this.fireEvent("beforerowremoved",this,c,b);this.removeRow(c);!0!==d&&(this.processRows(c),
this.applyEmptyText(),this.fireEvent("rowremoved",this,c,b))},onLoad:function(){Ext.isGecko?(this.scrollToTopTask||(this.scrollToTopTask=new Ext.util.DelayedTask(this.scrollToTop,this)),this.scrollToTopTask.delay(1)):this.scrollToTop()},onColWidthChange:function(a,b,c){this.updateColumnWidth(b,c)},onHeaderChange:function(){this.updateHeaders()},onHiddenChange:function(a,b,c){this.updateColumnHidden(b,c)},onColumnMove:function(a,b,c){this.indexMap=null;a=this.getScrollState();this.refresh(!0);this.restoreScroll(a);
this.afterMove(c);this.grid.fireEvent("columnmove",b,c)},onColConfigChange:function(){delete this.lastViewWidth;this.indexMap=null;this.refresh(!0)},initUI:function(a){a.on("headerclick",this.onHeaderClick,this)},initEvents:function(){},onHeaderClick:function(a,b){!this.headersDisabled&&this.cm.isSortable(b)&&(a.stopEditing(!0),a.store.sort(this.cm.getDataIndex(b)))},onRowOver:function(a,b){var c;!1!==(c=this.findRowIndex(b))&&this.addRowClass(c,"x-grid3-row-over")},onRowOut:function(a,b){var c;!1!==
(c=this.findRowIndex(b))&&!a.within(this.getRow(c),!0)&&this.removeRowClass(c,"x-grid3-row-over")},handleWheel:function(a){a.stopPropagation()},onRowSelect:function(a){this.addRowClass(a,this.selectedRowClass)},onRowDeselect:function(a){this.removeRowClass(a,this.selectedRowClass)},onCellSelect:function(a,b){var c=this.getCell(a,b);c&&this.fly(c).addClass("x-grid3-cell-selected")},onCellDeselect:function(a,b){var c=this.getCell(a,b);c&&this.fly(c).removeClass("x-grid3-cell-selected")},onColumnSplitterMoved:function(a,
b){this.userResized=!0;this.grid.colModel.setColumnWidth(a,b,!0);this.forceFit?(this.fitColumns(!0,!1,a),this.updateAllColumnWidths()):(this.updateColumnWidth(a,b),this.syncHeaderScroll());this.grid.fireEvent("columnresize",a,b)},handleHdMenuClick:function(a){var b=this.hdCtxIndex,c=this.cm,d=this.ds,g=a.getItemId();switch(g){case "asc":d.sort(c.getDataIndex(b),"ASC");break;case "desc":d.sort(c.getDataIndex(b),"DESC");break;default:if(b=c.getIndexById(g.substr(4)),-1!=b){if(a.checked&&1>=c.getColumnsBy(this.isHideableColumn,
this).length)return this.onDenyColumnHide(),!1;c.setHidden(b,a.checked)}}return!0},isHideableColumn:function(a){return!a.hidden},beforeColMenuShow:function(){var a=this.cm,b=a.getColumnCount();this.colMenu.removeAll();for(var c=0;c<b;c++)!1!==a.config[c].hideable&&this.colMenu.add(new Ext.menu.CheckItem({itemId:"col-"+a.getColumnId(c),text:a.getColumnHeader(c),checked:!a.isHidden(c),hideOnClick:!1,disabled:!1===a.config[c].hideable}))},handleHdDown:function(a,b){if(Ext.fly(b).hasClass("x-grid3-hd-btn")){a.stopEvent();
var c=this.findHeaderCell(b);Ext.fly(c).addClass("x-grid3-hd-menu-open");var d=this.getCellIndex(c);this.hdCtxIndex=d;var g=this.hmenu.items,h=this.cm;g.get("asc").setDisabled(!h.isSortable(d));g.get("desc").setDisabled(!h.isSortable(d));this.hmenu.on("hide",function(){Ext.fly(c).removeClass("x-grid3-hd-menu-open")},this,{single:!0});this.hmenu.show(b,"tl-bl?")}},handleHdOver:function(a,b){var c=this.findHeaderCell(b);if(c&&!this.headersDisabled){this.activeHdRef=b;this.activeHdIndex=this.getCellIndex(c);
var d=this.fly(c);this.activeHdRegion=d.getRegion();if(!this.cm.isMenuDisabled(this.activeHdIndex)&&(d.addClass("x-grid3-hd-over"),this.activeHdBtn=d.child(".x-grid3-hd-btn")))this.activeHdBtn.dom.style.height=c.firstChild.offsetHeight-1+"px"}},handleHdMove:function(a){var b=this.findHeaderCell(this.activeHdRef);if(b&&!this.headersDisabled){var c=this.splitHandleWidth||5,d=this.activeHdRegion,a=a.getPageX(),b=b.style,g="";if(!1!==this.grid.enableColumnResize)if(a-d.left<=c&&this.cm.isResizable(this.activeHdIndex-
1))g=Ext.isAir?"move":Ext.isWebKit?"e-resize":"col-resize";else if(d.right-a<=(!this.activeHdBtn?c:2)&&this.cm.isResizable(this.activeHdIndex))g=Ext.isAir?"move":Ext.isWebKit?"w-resize":"col-resize";b.cursor=g}},handleHdOut:function(a,b){var c=this.findHeaderCell(b);if(c&&(!Ext.isIE||!a.within(c,!0)))this.activeHdRef=null,this.fly(c).removeClass("x-grid3-hd-over"),c.style.cursor=""},hasRows:function(){var a=this.mainBody.dom.firstChild;return a&&1==a.nodeType&&"x-grid-empty"!=a.className},bind:function(a,
b){this.initData(a,b)}});
Ext.grid.GridView.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{constructor:function(a,b){this.grid=a;this.view=a.getView();this.marker=this.view.resizeMarker;this.proxy=this.view.resizeProxy;Ext.grid.GridView.SplitDragZone.superclass.constructor.call(this,b,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:!1});this.scroll=!1;this.hw=this.view.splitHandleWidth||5},b4StartDrag:function(a,b){this.dragHeadersDisabled=this.view.headersDisabled;this.view.headersDisabled=
!0;var c=this.view.mainWrap.getHeight();this.marker.setHeight(c);this.marker.show();this.marker.alignTo(this.view.getHeaderCell(this.cellIndex),"tl-tl",[-2,0]);this.proxy.setHeight(c);c=this.cm.getColumnWidth(this.cellIndex);c=Math.max(c-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(c,1E3);this.setYConstraint(0,0);this.minX=a-c;this.maxX=a+1E3;this.startPos=a;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,a,b)},allowHeaderDrag:function(){return!0},handleMouseDown:function(a){var b=
this.view.findHeaderCell(a.getTarget());if(b&&this.allowHeaderDrag(a)){var c=this.view.fly(b).getXY()[0],d=a.getXY()[0],g=b.offsetWidth,h=!1;d-c<=this.hw?h=-1:c+g-d<=this.hw&&(h=0);if(!1!==h){this.cm=this.grid.colModel;c=this.view.getCellIndex(b);if(-1==h){if(0>c+h)return;for(;this.cm.isHidden(c+h);)if(--h,0>c+h)return}this.cellIndex=c+h;this.split=b.dom;this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)&&Ext.grid.GridView.SplitDragZone.superclass.handleMouseDown.apply(this,arguments)}else this.view.columnDrag&&
this.view.columnDrag.callHandleMouseDown(a)}},endDrag:function(a){this.marker.hide();var b=this.view,a=Math.max(this.minX,a.getPageX())-this.startPos,c=this.dragHeadersDisabled;b.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+a);setTimeout(function(){b.headersDisabled=c},50)},autoOffset:function(){this.setDelta(0,0)}});
Ext.grid.HeaderDragZone=Ext.extend(Ext.dd.DragZone,{maxDragWidth:120,constructor:function(a,b,c){this.grid=a;this.view=a.getView();this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDragZone.superclass.constructor.call(this,b);c&&(this.setHandleElId(Ext.id(b)),this.setOuterHandleElId(Ext.id(c)));this.scroll=!1},getDragData:function(a){a=Ext.lib.Event.getTarget(a);return(a=this.view.findHeaderCell(a))?{ddel:a.firstChild,header:a}:!1},onInitDrag:function(){this.dragHeadersDisabled=this.view.headersDisabled;
this.view.headersDisabled=!0;var a=this.dragData.ddel.cloneNode(!0);a.id=Ext.id();a.style.width=Math.min(this.dragData.header.offsetWidth,this.maxDragWidth)+"px";this.proxy.update(a);return!0},afterValidDrop:function(){this.completeDrop()},afterInvalidDrop:function(){this.completeDrop()},completeDrop:function(){var a=this.view,b=this.dragHeadersDisabled;setTimeout(function(){a.headersDisabled=b},50)}});
Ext.grid.HeaderDropZone=Ext.extend(Ext.dd.DropZone,{proxyOffsets:[-4,-9],fly:Ext.Element.fly,constructor:function(a){this.grid=a;this.view=a.getView();this.proxyTop=Ext.DomHelper.append(document.body,{cls:"col-move-top",html:"&#160;"},!0);this.proxyBottom=Ext.DomHelper.append(document.body,{cls:"col-move-bottom",html:"&#160;"},!0);this.proxyTop.hide=this.proxyBottom.hide=function(){this.setLeftTop(-100,-100);this.setStyle("visibility","hidden")};this.ddGroup="gridHeader"+this.grid.getGridEl().id;
Ext.grid.HeaderDropZone.superclass.constructor.call(this,a.getGridEl().dom)},getTargetFromEvent:function(a){a=Ext.lib.Event.getTarget(a);a=this.view.findCellIndex(a);if(!1!==a)return this.view.getHeaderCell(a)},nextVisible:function(a){for(var b=this.view,c=this.grid.colModel,a=a.nextSibling;a;){if(!c.isHidden(b.getCellIndex(a)))return a;a=a.nextSibling}return null},prevVisible:function(a){for(var b=this.view,c=this.grid.colModel,a=a.prevSibling;a;){if(!c.isHidden(b.getCellIndex(a)))return a;a=a.prevSibling}return null},
positionIndicator:function(a,b,c){var c=Ext.lib.Event.getPageX(c),d=Ext.lib.Dom.getRegion(b.firstChild),a=d.top+this.proxyOffsets[1];d.right-c<=(d.right-d.left)/2?(c=d.right+this.view.borderWidth,d="after"):(c=d.left,d="before");if(this.grid.colModel.isFixed(this.view.getCellIndex(b)))return!1;c+=this.proxyOffsets[0];this.proxyTop.setLeftTop(c,a);this.proxyTop.show();this.bottomOffset||(this.bottomOffset=this.view.mainHd.getHeight());this.proxyBottom.setLeftTop(c,a+this.proxyTop.dom.offsetHeight+
this.bottomOffset);this.proxyBottom.show();return d},onNodeEnter:function(a,b,c,d){d.header!=a&&this.positionIndicator(d.header,a,c)},onNodeOver:function(a,b,c,d){b=!1;d.header!=a&&(b=this.positionIndicator(d.header,a,c));b||(this.proxyTop.hide(),this.proxyBottom.hide());return b?this.dropAllowed:this.dropNotAllowed},onNodeOut:function(){this.proxyTop.hide();this.proxyBottom.hide()},onNodeDrop:function(a,b,c,d){d=d.header;if(d!=a){var b=this.grid.colModel,c=Ext.lib.Event.getPageX(c),g=Ext.lib.Dom.getRegion(a.firstChild),
c=g.right-c<=(g.right-g.left)/2?"after":"before",d=this.view.getCellIndex(d),a=this.view.getCellIndex(a);"after"==c&&a++;d<a&&a--;b.moveColumn(d,a);return!0}return!1}});
Ext.grid.GridView.ColumnDragZone=Ext.extend(Ext.grid.HeaderDragZone,{constructor:function(a,b){Ext.grid.GridView.ColumnDragZone.superclass.constructor.call(this,a,b,null);this.proxy.el.addClass("x-grid3-col-dd")},handleMouseDown:function(){},callHandleMouseDown:function(a){Ext.grid.GridView.ColumnDragZone.superclass.handleMouseDown.call(this,a)}});
Ext.grid.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{fly:Ext.Element.fly,constructor:function(a,b,c){this.grid=a;this.view=a.getView();this.proxy=this.view.resizeProxy;Ext.grid.SplitDragZone.superclass.constructor.call(this,b,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:!1});this.setHandleElId(Ext.id(b));this.setOuterHandleElId(Ext.id(c));this.scroll=!1},b4StartDrag:function(a,b){this.view.headersDisabled=!0;this.proxy.setHeight(this.view.mainWrap.getHeight());
var c=this.cm.getColumnWidth(this.cellIndex),c=Math.max(c-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(c,1E3);this.setYConstraint(0,0);this.minX=a-c;this.maxX=a+1E3;this.startPos=a;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,a,b)},handleMouseDown:function(a){var b=Ext.EventObject.setEvent(a),b=this.fly(b.getTarget());b.hasClass("x-grid-split")&&(this.cellIndex=this.view.getCellIndex(b.dom),this.split=b.dom,this.cm=this.grid.colModel,this.cm.isResizable(this.cellIndex)&&
!this.cm.isFixed(this.cellIndex)&&Ext.grid.SplitDragZone.superclass.handleMouseDown.apply(this,arguments))},endDrag:function(a){this.view.headersDisabled=!1;a=Math.max(this.minX,Ext.lib.Event.getPageX(a))-this.startPos;this.view.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+a)},autoOffset:function(){this.setDelta(0,0)}});
Ext.grid.GridDragZone=function(a,b){this.view=a.getView();Ext.grid.GridDragZone.superclass.constructor.call(this,this.view.mainBody.dom,b);this.scroll=!1;this.grid=a;this.ddel=document.createElement("div");this.ddel.className="x-grid-dd-wrap"};
Ext.extend(Ext.grid.GridDragZone,Ext.dd.DragZone,{ddGroup:"GridDD",getDragData:function(a){var b=Ext.lib.Event.getTarget(a),b=this.view.findRowIndex(b);if(!1!==b){var c=this.grid.selModel;(!c.isSelected(b)||a.hasModifier())&&c.handleMouseDown(this.grid,b,a);return{grid:this.grid,ddel:this.ddel,rowIndex:b,selections:c.getSelections()}}return!1},onInitDrag:function(){this.ddel.innerHTML=this.grid.getDragDropText();this.proxy.update(this.ddel)},afterRepair:function(){this.dragging=!1},getRepairXY:function(){return!1},
onEndDrag:function(){},onValidDrop:function(){this.hideProxy()},beforeInvalidDrop:function(){}});
Ext.grid.ColumnModel=Ext.extend(Ext.util.Observable,{defaultWidth:100,defaultSortable:!1,constructor:function(a){a.columns?(Ext.apply(this,a),this.setConfig(a.columns,!0)):this.setConfig(a,!0);this.addEvents("widthchange","headerchange","hiddenchange","columnmoved","configchange");Ext.grid.ColumnModel.superclass.constructor.call(this)},getColumnId:function(a){return this.config[a].id},getColumnAt:function(a){return this.config[a]},setConfig:function(a,b){var c,d,g;if(!b){delete this.totalWidth;c=
0;for(g=this.config.length;c<g;c++)d=this.config[c],d.setEditor&&d.setEditor(null)}this.defaults=Ext.apply({width:this.defaultWidth,sortable:this.defaultSortable},this.defaults);this.config=a;this.lookup={};c=0;for(g=a.length;c<g;c++)d=Ext.applyIf(a[c],this.defaults),Ext.isEmpty(d.id)&&(d.id=c),d.isColumn||(d=new Ext.grid.Column.types[d.xtype||"gridcolumn"](d),a[c]=d),this.lookup[d.id]=d;b||this.fireEvent("configchange",this)},getColumnById:function(a){return this.lookup[a]},getIndexById:function(a){for(var b=
0,c=this.config.length;b<c;b++)if(this.config[b].id==a)return b;return-1},moveColumn:function(a,b){var c=this.config[a];this.config.splice(a,1);this.config.splice(b,0,c);this.dataMap=null;this.fireEvent("columnmoved",this,a,b)},getColumnCount:function(a){if(!0===a){for(var b=a=0,c=this.config.length;b<c;b++)this.isHidden(b)||a++;return a}return this.config.length},getColumnsBy:function(a,b){for(var c=[],d=0,g=this.config.length;d<g;d++){var h=this.config[d];if(!0===a.call(b||this,h,d))c[c.length]=
h}return c},isSortable:function(a){return!!this.config[a].sortable},isMenuDisabled:function(a){return!!this.config[a].menuDisabled},getRenderer:function(a){return!this.config[a].renderer?Ext.grid.ColumnModel.defaultRenderer:this.config[a].renderer},getRendererScope:function(a){return this.config[a].scope},setRenderer:function(a,b){this.config[a].renderer=b},getColumnWidth:function(a){return this.config[a].width},setColumnWidth:function(a,b,c){this.config[a].width=b;this.totalWidth=null;c||this.fireEvent("widthchange",
this,a,b)},getTotalWidth:function(a){if(!this.totalWidth)for(var b=this.totalWidth=0,c=this.config.length;b<c;b++)if(a||!this.isHidden(b))this.totalWidth+=this.getColumnWidth(b);return this.totalWidth},getColumnHeader:function(a){return this.config[a].header},setColumnHeader:function(a,b){this.config[a].header=b;this.fireEvent("headerchange",this,a,b)},getColumnTooltip:function(a){return this.config[a].tooltip},setColumnTooltip:function(a,b){this.config[a].tooltip=b},getDataIndex:function(a){return this.config[a].dataIndex},
setDataIndex:function(a,b){this.config[a].dataIndex=b},findColumnIndex:function(a){for(var b=this.config,c=0,d=b.length;c<d;c++)if(b[c].dataIndex==a)return c;return-1},isCellEditable:function(a){var a=this.config[a],b=a.editable;return!!(b||!Ext.isDefined(b)&&a.editor)},getCellEditor:function(a,b){return this.config[a].getCellEditor(b)},setEditable:function(a,b){this.config[a].editable=b},isHidden:function(a){return!!this.config[a].hidden},isFixed:function(a){return!!this.config[a].fixed},isResizable:function(a){return 0<=
a&&!1!==this.config[a].resizable&&!0!==this.config[a].fixed},setHidden:function(a,b){var c=this.config[a];c.hidden!==b&&(c.hidden=b,this.totalWidth=null,this.fireEvent("hiddenchange",this,a,b))},setEditor:function(a,b){this.config[a].setEditor(b)},destroy:function(){for(var a,b=0,c=this.config.length;b<c;b++)a=this.config[b],a.setEditor&&a.setEditor(null);this.purgeListeners()}});Ext.grid.ColumnModel.defaultRenderer=function(a){return"string"==typeof a&&1>a.length?"&#160;":a};
Ext.grid.AbstractSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(){this.locked=!1;Ext.grid.AbstractSelectionModel.superclass.constructor.call(this)},init:function(a){this.grid=a;this.lockOnInit&&(delete this.lockOnInit,this.locked=!1,this.lock());this.initEvents()},lock:function(){if(!this.locked){this.locked=!0;var a=this.grid;if(a)a.getView().on({scope:this,beforerefresh:this.sortUnLock,refresh:this.sortLock});else this.lockOnInit=!0}},sortLock:function(){this.locked=!0},sortUnLock:function(){this.locked=
!1},unlock:function(){if(this.locked){this.locked=!1;var a=this.grid;a?(a=a.getView(),a.un("beforerefresh",this.sortUnLock,this),a.un("refresh",this.sortLock,this)):delete this.lockOnInit}},isLocked:function(){return this.locked},destroy:function(){this.unlock();this.purgeListeners()}});
Ext.grid.RowSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{singleSelect:!1,constructor:function(a){Ext.apply(this,a);this.selections=new Ext.util.MixedCollection(!1,function(a){return a.id});this.lastActive=this.last=!1;this.addEvents("selectionchange","beforerowselect","rowselect","rowdeselect");Ext.grid.RowSelectionModel.superclass.constructor.call(this)},initEvents:function(){if(!this.grid.enableDragDrop&&!this.grid.enableDrag)this.grid.on("rowmousedown",this.handleMouseDown,this);
this.rowNav=new Ext.KeyNav(this.grid.getGridEl(),{up:function(a){!a.shiftKey||this.singleSelect?this.selectPrevious(!1):!1!==this.last&&!1!==this.lastActive?(a=this.last,this.selectRange(this.last,this.lastActive-1),this.grid.getView().focusRow(this.lastActive),!1!==a&&(this.last=a)):this.selectFirstRow()},down:function(a){!a.shiftKey||this.singleSelect?this.selectNext(!1):!1!==this.last&&!1!==this.lastActive?(a=this.last,this.selectRange(this.last,this.lastActive+1),this.grid.getView().focusRow(this.lastActive),
!1!==a&&(this.last=a)):this.selectFirstRow()},scope:this});this.grid.getView().on({scope:this,refresh:this.onRefresh,rowupdated:this.onRowUpdated,rowremoved:this.onRemove})},onRefresh:function(){var a=this.grid.store,b,c=this.getSelections();this.clearSelections(!0);for(var d=0,g=c.length;d<g;d++)-1!=(b=a.indexOfId(c[d].id))&&this.selectRow(b,!0);c.length!=this.selections.getCount()&&this.fireEvent("selectionchange",this)},onRemove:function(a,b,c){!1!==this.selections.remove(c)&&this.fireEvent("selectionchange",
this)},onRowUpdated:function(a,b,c){if(this.isSelected(c))a.onRowSelect(b)},selectRecords:function(a,b){b||this.clearSelections();for(var c=this.grid.store,d=0,g=a.length;d<g;d++)this.selectRow(c.indexOf(a[d]),!0)},getCount:function(){return this.selections.length},selectFirstRow:function(){this.selectRow(0)},selectLastRow:function(a){this.selectRow(this.grid.store.getCount()-1,a)},selectNext:function(a){return this.hasNext()?(this.selectRow(this.last+1,a),this.grid.getView().focusRow(this.last),
!0):!1},selectPrevious:function(a){return this.hasPrevious()?(this.selectRow(this.last-1,a),this.grid.getView().focusRow(this.last),!0):!1},hasNext:function(){return!1!==this.last&&this.last+1<this.grid.store.getCount()},hasPrevious:function(){return!!this.last},getSelections:function(){return[].concat(this.selections.items)},getSelected:function(){return this.selections.itemAt(0)},each:function(a,b){for(var c=this.getSelections(),d=0,g=c.length;d<g;d++)if(!1===a.call(b||this,c[d],d))return!1;return!0},
clearSelections:function(a){if(!this.isLocked()){if(!0!==a){var b=this.grid.store,a=this.selections;a.each(function(a){this.deselectRow(b.indexOfId(a.id))},this);a.clear()}else this.selections.clear();this.last=!1}},selectAll:function(){if(!this.isLocked()){this.selections.clear();for(var a=0,b=this.grid.store.getCount();a<b;a++)this.selectRow(a,!0)}},hasSelection:function(){return 0<this.selections.length},isSelected:function(a){return(a=Ext.isNumber(a)?this.grid.store.getAt(a):a)&&this.selections.key(a.id)?
!0:!1},isIdSelected:function(a){return this.selections.key(a)?!0:!1},handleMouseDown:function(a,b,c){if(!(0!==c.button||this.isLocked()))if(a=this.grid.getView(),c.shiftKey&&!this.singleSelect&&!1!==this.last){var d=this.last;this.selectRange(d,b,c.ctrlKey);this.last=d;a.focusRow(b)}else if(d=this.isSelected(b),c.ctrlKey&&d)this.deselectRow(b);else if(!d||1<this.getCount())this.selectRow(b,c.ctrlKey||c.shiftKey),a.focusRow(b)},selectRows:function(a,b){b||this.clearSelections();for(var c=0,d=a.length;c<
d;c++)this.selectRow(a[c],!0)},selectRange:function(a,b,c){if(!this.isLocked())if(c||this.clearSelections(),a<=b)for(;a<=b;a++)this.selectRow(a,!0);else for(;a>=b;a--)this.selectRow(a,!0)},deselectRange:function(a,b,c){if(!this.isLocked())for(;a<=b;a++)this.deselectRow(a,c)},selectRow:function(a,b,c){if(!this.isLocked()&&!(0>a||a>=this.grid.store.getCount()||b&&this.isSelected(a))){var d=this.grid.store.getAt(a);if(d&&!1!==this.fireEvent("beforerowselect",this,a,b,d)){(!b||this.singleSelect)&&this.clearSelections();
this.selections.add(d);this.last=this.lastActive=a;if(!c)this.grid.getView().onRowSelect(a);this.fireEvent("rowselect",this,a,d);this.fireEvent("selectionchange",this)}}},deselectRow:function(a,b){if(!this.isLocked()){this.last==a&&(this.last=!1);this.lastActive==a&&(this.lastActive=!1);var c=this.grid.store.getAt(a);if(c){this.selections.remove(c);if(!b)this.grid.getView().onRowDeselect(a);this.fireEvent("rowdeselect",this,a,c);this.fireEvent("selectionchange",this)}}},restoreLast:function(){this._last&&
(this.last=this._last)},acceptsNav:function(a,b,c){return!c.isHidden(b)&&c.isCellEditable(b,a)},onEditorKey:function(a,b){var c=b.getKey(),d,g=this.grid,h=g.lastEdit,l=g.activeEditor,n=b.shiftKey;c==b.TAB?(b.stopEvent(),l.completeEdit(),d=n?g.walkCells(l.row,l.col-1,-1,this.acceptsNav,this):g.walkCells(l.row,l.col+1,1,this.acceptsNav,this)):c==b.ENTER&&!1!==this.moveEditorOnEnter&&(d=n?g.walkCells(h.row-1,h.col,-1,this.acceptsNav,this):g.walkCells(h.row+1,h.col,1,this.acceptsNav,this));d&&(c=d[0],
d=d[1],h.row!=c&&this.selectRow(c),g.isEditor&&g.editing&&(h=g.activeEditor)&&h.field.triggerBlur&&h.field.triggerBlur(),g.startEditing(c,d))},destroy:function(){this.rowNav&&(this.rowNav.disable(),this.rowNav=null);Ext.grid.RowSelectionModel.superclass.destroy.call(this)}});
Ext.grid.Column=Ext.extend(Object,{isColumn:!0,constructor:function(a){Ext.apply(this,a);Ext.isString(this.renderer)?this.renderer=Ext.util.Format[this.renderer]:Ext.isObject(this.renderer)&&(this.scope=this.renderer.scope,this.renderer=this.renderer.fn);this.scope||(this.scope=this);a=this.editor;delete this.editor;this.setEditor(a)},renderer:function(a){return Ext.isString(a)&&1>a.length?"&#160;":a},getEditor:function(){return!1!==this.editable?this.editor:null},setEditor:function(a){var b=this.editor;
b&&(b.gridEditor?(b.gridEditor.destroy(),delete b.gridEditor):b.destroy());this.editor=null;a&&(a.isXType||(a=Ext.create(a,"textfield")),this.editor=a)},getCellEditor:function(a){if((a=this.getEditor(a))&&!a.startEdit)a.gridEditor||(a.gridEditor=new Ext.grid.GridEditor(a)),a=a.gridEditor;return a}});
Ext.grid.BooleanColumn=Ext.extend(Ext.grid.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(a){Ext.grid.BooleanColumn.superclass.constructor.call(this,a);var b=this.trueText,c=this.falseText,d=this.undefinedText;this.renderer=function(a){return void 0===a?d:!a||"false"===a?c:b}}});Ext.grid.NumberColumn=Ext.extend(Ext.grid.Column,{format:"0,000.00",constructor:function(a){Ext.grid.NumberColumn.superclass.constructor.call(this,a);this.renderer=Ext.util.Format.numberRenderer(this.format)}});
Ext.grid.DateColumn=Ext.extend(Ext.grid.Column,{format:"m/d/Y",constructor:function(a){Ext.grid.DateColumn.superclass.constructor.call(this,a);this.renderer=Ext.util.Format.dateRenderer(this.format)}});Ext.grid.TemplateColumn=Ext.extend(Ext.grid.Column,{constructor:function(a){Ext.grid.TemplateColumn.superclass.constructor.call(this,a);var b=!Ext.isPrimitive(this.tpl)&&this.tpl.compile?this.tpl:new Ext.XTemplate(this.tpl);this.renderer=function(a,d,g){return b.apply(g.data)};this.tpl=b}});
Ext.grid.Column.types={gridcolumn:Ext.grid.Column,booleancolumn:Ext.grid.BooleanColumn,numbercolumn:Ext.grid.NumberColumn,datecolumn:Ext.grid.DateColumn,templatecolumn:Ext.grid.TemplateColumn};
Ext.grid.RowNumberer=Ext.extend(Object,{header:"",width:23,sortable:!1,constructor:function(a){Ext.apply(this,a);this.rowspan&&(this.renderer=this.renderer.createDelegate(this))},fixed:!0,hideable:!1,menuDisabled:!0,dataIndex:"",id:"numberer",rowspan:void 0,renderer:function(a,b,c,d){this.rowspan&&(b.cellAttr='rowspan="'+this.rowspan+'"');return d+1}});
Ext.grid.CheckboxSelectionModel=Ext.extend(Ext.grid.RowSelectionModel,{header:'<div class="x-grid3-hd-checker">&#160;</div>',width:20,sortable:!1,menuDisabled:!0,fixed:!0,hideable:!1,dataIndex:"",id:"checker",constructor:function(){Ext.grid.CheckboxSelectionModel.superclass.constructor.apply(this,arguments);this.checkOnly&&(this.handleMouseDown=Ext.emptyFn)},initEvents:function(){Ext.grid.CheckboxSelectionModel.superclass.initEvents.call(this);this.grid.on("render",function(){var a=this.grid.getView();
a.mainBody.on("mousedown",this.onMouseDown,this);Ext.fly(a.innerHd).on("mousedown",this.onHdMouseDown,this)},this)},handleMouseDown:function(){Ext.grid.CheckboxSelectionModel.superclass.handleMouseDown.apply(this,arguments);this.mouseHandled=!0},onMouseDown:function(a,b){if(0===a.button&&"x-grid3-row-checker"==b.className){a.stopEvent();var c=a.getTarget(".x-grid3-row");!this.mouseHandled&&c&&(c=c.rowIndex,this.isSelected(c)?this.deselectRow(c):(this.selectRow(c,!0),this.grid.getView().focusRow(c)))}this.mouseHandled=
!1},onHdMouseDown:function(a,b){if("x-grid3-hd-checker"==b.className){a.stopEvent();var c=Ext.fly(b.parentNode);c.hasClass("x-grid3-hd-checker-on")?(c.removeClass("x-grid3-hd-checker-on"),this.clearSelections()):(c.addClass("x-grid3-hd-checker-on"),this.selectAll())}},renderer:function(){return'<div class="x-grid3-row-checker">&#160;</div>'}});
Ext.grid.CellSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{constructor:function(a){Ext.apply(this,a);this.selection=null;this.addEvents("beforecellselect","cellselect","selectionchange");Ext.grid.CellSelectionModel.superclass.constructor.call(this)},initEvents:function(){this.grid.on("cellmousedown",this.handleMouseDown,this);this.grid.on(Ext.EventManager.useKeydown?"keydown":"keypress",this.handleKeyDown,this);this.grid.getView().on({scope:this,refresh:this.onViewChange,rowupdated:this.onRowUpdated,
beforerowremoved:this.clearSelections,beforerowsinserted:this.clearSelections});if(this.grid.isEditor)this.grid.on("beforeedit",this.beforeEdit,this)},beforeEdit:function(a){this.select(a.row,a.column,!1,!0,a.record)},onRowUpdated:function(a,b,c){if(this.selection&&this.selection.record==c)a.onCellSelect(b,this.selection.cell[1])},onViewChange:function(){this.clearSelections(!0)},getSelectedCell:function(){return this.selection?this.selection.cell:null},clearSelections:function(a){var b=this.selection;
if(b){if(!0!==a)this.grid.view.onCellDeselect(b.cell[0],b.cell[1]);this.selection=null;this.fireEvent("selectionchange",this,null)}},hasSelection:function(){return this.selection?!0:!1},handleMouseDown:function(a,b,c,d){0!==d.button||this.isLocked()||this.select(b,c)},select:function(a,b,c,d,g){!1!==this.fireEvent("beforecellselect",this,a,b)&&(this.clearSelections(),g=g||this.grid.store.getAt(a),this.selection={record:g,cell:[a,b]},c||(c=this.grid.getView(),c.onCellSelect(a,b),!0!==d&&c.focusCell(a,
b)),this.fireEvent("cellselect",this,a,b),this.fireEvent("selectionchange",this,this.selection))},isSelectable:function(a,b,c){return!c.isHidden(b)},onEditorKey:function(a,b){b.getKey()==b.TAB&&this.handleKeyDown(b)},handleKeyDown:function(a){if(a.isNavKeyPress()){var b=a.getKey(),c=this.grid,d=this.selection,g=this,h=function(a,b,d){return c.walkCells(a,b,d,c.isEditor&&c.editing?g.acceptsNav:g.isSelectable,g)},l,n;switch(b){case a.ESC:case a.PAGE_UP:case a.PAGE_DOWN:break;default:a.stopEvent()}if(d){l=
d.cell;d=l[0];l=l[1];switch(b){case a.TAB:n=a.shiftKey?h(d,l-1,-1):h(d,l+1,1);break;case a.DOWN:n=h(d+1,l,1);break;case a.UP:n=h(d-1,l,-1);break;case a.RIGHT:n=h(d,l+1,1);break;case a.LEFT:n=h(d,l-1,-1);break;case a.ENTER:if(c.isEditor&&!c.editing){c.startEditing(d,l);return}}n&&(d=n[0],l=n[1],this.select(d,l),c.isEditor&&c.editing&&((a=c.activeEditor)&&a.field.triggerBlur&&a.field.triggerBlur(),c.startEditing(d,l)))}else(l=h(0,0,1))&&this.select(l[0],l[1])}},acceptsNav:function(a,b,c){return!c.isHidden(b)&&
c.isCellEditable(b,a)}});
Ext.grid.EditorGridPanel=Ext.extend(Ext.grid.GridPanel,{clicksToEdit:2,forceValidation:!1,isEditor:!0,detectEdit:!1,autoEncode:!1,trackMouseOver:!1,initComponent:function(){Ext.grid.EditorGridPanel.superclass.initComponent.call(this);this.selModel||(this.selModel=new Ext.grid.CellSelectionModel);this.activeEditor=null;this.addEvents("beforeedit","afteredit","validateedit")},initEvents:function(){Ext.grid.EditorGridPanel.superclass.initEvents.call(this);this.getGridEl().on("mousewheel",this.stopEditing.createDelegate(this,
[!0]),this);this.on("columnresize",this.stopEditing,this,[!0]);if(1==this.clicksToEdit)this.on("cellclick",this.onCellDblClick,this);else{var a=this.getView();if("auto"==this.clicksToEdit&&a.mainBody)a.mainBody.on("mousedown",this.onAutoEditClick,this);this.on("celldblclick",this.onCellDblClick,this)}},onResize:function(){Ext.grid.EditorGridPanel.superclass.onResize.apply(this,arguments);var a=this.activeEditor;this.editing&&a&&a.realign(!0)},onCellDblClick:function(a,b,c){this.startEditing(b,c)},
onAutoEditClick:function(a,b){if(0===a.button){var c=this.view.findRowIndex(b),d=this.view.findCellIndex(b);if(!1!==c&&!1!==d)if(this.stopEditing(),this.selModel.getSelectedCell){var g=this.selModel.getSelectedCell();g&&(g[0]===c&&g[1]===d)&&this.startEditing(c,d)}else this.selModel.isSelected(c)&&this.startEditing(c,d)}},onEditComplete:function(a,b,c){this.editing=!1;this.lastActiveEditor=this.activeEditor;this.activeEditor=null;var d=a.record,g=this.colModel.getDataIndex(a.col),b=this.postEditValue(b,
c,d,g);if(!0===this.forceValidation||String(b)!==String(c)){var h={grid:this,record:d,field:g,originalValue:c,value:b,row:a.row,column:a.col,cancel:!1};!1!==this.fireEvent("validateedit",h)&&(!h.cancel&&String(b)!==String(c))&&(d.set(g,h.value),delete h.cancel,this.fireEvent("afteredit",h))}this.view.focusCell(a.row,a.col)},startEditing:function(a,b){this.stopEditing();if(this.colModel.isCellEditable(b,a)){this.view.ensureVisible(a,b,!0);var c=this.store.getAt(a),d=this.colModel.getDataIndex(b),g=
{grid:this,record:c,field:d,value:c.data[d],row:a,column:b,cancel:!1};if(!1!==this.fireEvent("beforeedit",g)&&!g.cancel){this.editing=!0;var h=this.colModel.getCellEditor(b,a);h&&(h.rendered||(h.parentEl=this.view.getEditorParent(h),h.on({scope:this,render:{fn:function(a){a.field.focus(!1,!0)},single:!0,scope:this},specialkey:function(a,b){this.getSelectionModel().onEditorKey(a,b)},complete:this.onEditComplete,canceledit:this.stopEditing.createDelegate(this,[!0])})),Ext.apply(h,{row:a,col:b,record:c}),
this.lastEdit={row:a,col:b},this.activeEditor=h,h.selectSameEditor=this.activeEditor==this.lastActiveEditor,c=this.preEditValue(c,d),h.startEdit(this.view.getCell(a,b).firstChild,Ext.isDefined(c)?c:""),function(){delete h.selectSameEditor}.defer(50))}}},preEditValue:function(a,b){var c=a.data[b];return this.autoEncode&&Ext.isString(c)?Ext.util.Format.htmlDecode(c):c},postEditValue:function(a){return this.autoEncode&&Ext.isString(a)?Ext.util.Format.htmlEncode(a):a},stopEditing:function(a){if(this.editing){var b=
this.lastActiveEditor=this.activeEditor;b&&(b[!0===a?"cancelEdit":"completeEdit"](),this.view.focusCell(b.row,b.col));this.activeEditor=null}this.editing=!1}});Ext.reg("editorgrid",Ext.grid.EditorGridPanel);Ext.grid.GridEditor=function(a,b){Ext.grid.GridEditor.superclass.constructor.call(this,a,b);a.monitorTab=!1};Ext.extend(Ext.grid.GridEditor,Ext.Editor,{alignment:"tl-tl",autoSize:"width",hideEl:!1,cls:"x-small-editor x-grid-editor",shim:!1,shadow:!1});
Ext.grid.PropertyRecord=Ext.data.Record.create([{name:"name",type:"string"},"value"]);
Ext.grid.PropertyStore=Ext.extend(Ext.util.Observable,{constructor:function(a,b){this.grid=a;this.store=new Ext.data.Store({recordType:Ext.grid.PropertyRecord});this.store.on("update",this.onUpdate,this);b&&this.setSource(b);Ext.grid.PropertyStore.superclass.constructor.call(this)},setSource:function(a){this.source=a;this.store.removeAll();var b=[],c;for(c in a)this.isEditableValue(a[c])&&b.push(new Ext.grid.PropertyRecord({name:c,value:a[c]},c));this.store.loadRecords({records:b},{},!0)},onUpdate:function(a,
b,c){c==Ext.data.Record.EDIT&&(a=b.data.value,c=b.modified.value,!1!==this.grid.fireEvent("beforepropertychange",this.source,b.id,a,c)?(this.source[b.id]=a,b.commit(),this.grid.fireEvent("propertychange",this.source,b.id,a,c)):b.reject())},getProperty:function(a){return this.store.getAt(a)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)},setValue:function(a,b,c){var d=this.getRec(a);d?(d.set("value",b),this.source[a]=b):c&&(this.source[a]=b,d=new Ext.grid.PropertyRecord({name:a,
value:b},a),this.store.add(d))},remove:function(a){var b=this.getRec(a);b&&(this.store.remove(b),delete this.source[a])},getRec:function(a){return this.store.getById(a)},getSource:function(){return this.source}});
Ext.grid.PropertyColumnModel=Ext.extend(Ext.grid.ColumnModel,{nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",constructor:function(a,b){var c=Ext.grid,d=Ext.form;this.grid=a;c.PropertyColumnModel.superclass.constructor.call(this,[{header:this.nameText,width:50,sortable:!0,dataIndex:"name",id:"name",menuDisabled:!0},{header:this.valueText,width:50,resizable:!1,dataIndex:"value",id:"value",menuDisabled:!0}]);this.store=b;var g=new d.Field({autoCreate:{tag:"select",
children:[{tag:"option",value:"true",html:this.trueText},{tag:"option",value:"false",html:this.falseText}]},getValue:function(){return"true"==this.el.dom.value}});this.editors={date:new c.GridEditor(new d.DateField({selectOnFocus:!0})),string:new c.GridEditor(new d.TextField({selectOnFocus:!0})),number:new c.GridEditor(new d.NumberField({selectOnFocus:!0,style:"text-align:left;"})),"boolean":new c.GridEditor(g,{autoSize:"both"})};this.renderCellDelegate=this.renderCell.createDelegate(this);this.renderPropDelegate=
this.renderProp.createDelegate(this)},renderDate:function(a){return a.dateFormat(this.dateFormat)},renderBool:function(a){return this[a?"trueText":"falseText"]},isCellEditable:function(a){return 1==a},getRenderer:function(a){return 1==a?this.renderCellDelegate:this.renderPropDelegate},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(a,b,c){var d=this.grid.customRenderers[c.get("name")];if(d)return d.apply(this,arguments);d=a;Ext.isDate(a)?d=this.renderDate(a):"boolean"==
typeof a&&(d=this.renderBool(a));return Ext.util.Format.htmlEncode(d)},getPropertyName:function(a){var b=this.grid.propertyNames;return b&&b[a]?b[a]:a},getCellEditor:function(a,b){var c=this.store.getProperty(b),d=c.data.name,c=c.data.value;return this.grid.customEditors[d]?this.grid.customEditors[d]:Ext.isDate(c)?this.editors.date:"number"==typeof c?this.editors.number:"boolean"==typeof c?this.editors["boolean"]:this.editors.string},destroy:function(){Ext.grid.PropertyColumnModel.superclass.destroy.call(this);
for(var a in this.editors)Ext.destroy(this.editors[a])}});
Ext.grid.PropertyGrid=Ext.extend(Ext.grid.EditorGridPanel,{enableColumnMove:!1,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,viewConfig:{forceFit:!0},initComponent:function(){this.customRenderers=this.customRenderers||{};this.customEditors=this.customEditors||{};this.lastEditRow=null;var a=new Ext.grid.PropertyStore(this);this.propStore=a;var b=new Ext.grid.PropertyColumnModel(this,a);a.store.sort("name","ASC");this.addEvents("beforepropertychange","propertychange");this.cm=b;this.ds=
a.store;Ext.grid.PropertyGrid.superclass.initComponent.call(this);this.mon(this.selModel,"beforecellselect",function(a,b,g){if(0===g)return this.startEditing.defer(200,this,[b,1]),!1},this)},onRender:function(){Ext.grid.PropertyGrid.superclass.onRender.apply(this,arguments);this.getGridEl().addClass("x-props-grid")},afterRender:function(){Ext.grid.PropertyGrid.superclass.afterRender.apply(this,arguments);this.source&&this.setSource(this.source)},setSource:function(a){this.propStore.setSource(a)},
getSource:function(){return this.propStore.getSource()},setProperty:function(a,b,c){this.propStore.setValue(a,b,c)},removeProperty:function(a){this.propStore.remove(a)}});Ext.reg("propertygrid",Ext.grid.PropertyGrid);
Ext.grid.GroupingView=Ext.extend(Ext.grid.GridView,{groupByText:"Group By This Field",showGroupsText:"Show in Groups",hideGroupedColumn:!1,showGroupName:!0,startCollapsed:!1,enableGrouping:!0,enableGroupingMenu:!0,enableNoGroups:!0,emptyGroupText:"(None)",ignoreAdd:!1,groupTextTpl:"{text}",groupMode:"value",initTemplates:function(){Ext.grid.GroupingView.superclass.initTemplates.call(this);this.state={};var a=this.grid.getSelectionModel();a.on(a.selectRow?"beforerowselect":"beforecellselect",this.onBeforeRowSelect,
this);this.startGroup||(this.startGroup=new Ext.XTemplate('<div id="{groupId}" class="x-grid-group {cls}">','<div id="{groupId}-hd" class="x-grid-group-hd" style="{style}"><div class="x-grid-group-title">',this.groupTextTpl,"</div></div>",'<div id="{groupId}-bd" class="x-grid-group-body">'));this.startGroup.compile();this.endGroup||(this.endGroup="</div></div>")},findGroup:function(a){return Ext.fly(a).up(".x-grid-group",this.mainBody.dom)},getGroups:function(){return this.hasRows()?this.mainBody.dom.childNodes:
[]},onAdd:function(a,b,c){if(this.canGroup()&&!this.ignoreAdd){var d=this.getScrollState();this.fireEvent("beforerowsinserted",a,c,c+(b.length-1));this.refresh();this.restoreScroll(d);this.fireEvent("rowsinserted",a,c,c+(b.length-1))}else this.canGroup()||Ext.grid.GroupingView.superclass.onAdd.apply(this,arguments)},onRemove:function(a,b,c,d){Ext.grid.GroupingView.superclass.onRemove.apply(this,arguments);var g=document.getElementById(b._groupId);g&&1>g.childNodes[1].childNodes.length&&Ext.removeNode(g);
this.applyEmptyText()},refreshRow:function(a){1==this.ds.getCount()?this.refresh():(this.isUpdating=!0,Ext.grid.GroupingView.superclass.refreshRow.apply(this,arguments),this.isUpdating=!1)},beforeMenuShow:function(){var a,b=this.hmenu.items,c=!1===this.cm.config[this.hdCtxIndex].groupable;(a=b.get("groupBy"))&&a.setDisabled(c);if(a=b.get("showGroups"))a.setDisabled(c),a.setChecked(this.enableGrouping,!0)},renderUI:function(){Ext.grid.GroupingView.superclass.renderUI.call(this);this.mainBody.on("mousedown",
this.interceptMouse,this);this.enableGroupingMenu&&this.hmenu&&(this.hmenu.add("-",{itemId:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"}),this.enableNoGroups&&this.hmenu.add({itemId:"showGroups",text:this.showGroupsText,checked:!0,checkHandler:this.onShowGroupsClick,scope:this}),this.hmenu.on("beforeshow",this.beforeMenuShow,this))},processEvent:function(a,b){Ext.grid.GroupingView.superclass.processEvent.call(this,a,b);var c=b.getTarget(".x-grid-group-hd",
this.mainBody);if(c){var d=this.getGroupField(),g=this.getPrefix(d),c=c.id.substring(g.length);(c=c.substr(0,c.length-3))&&this.grid.fireEvent("group"+a,this.grid,d,c,b)}},onGroupByClick:function(){this.enableGrouping=!0;this.grid.store.groupBy(this.cm.getDataIndex(this.hdCtxIndex));this.grid.fireEvent("groupchange",this,this.grid.store.getGroupState());this.beforeMenuShow();this.refresh()},onShowGroupsClick:function(a,b){if(this.enableGrouping=b)this.onGroupByClick();else this.grid.store.clearGrouping(),
this.grid.fireEvent("groupchange",this,null)},toggleRowIndex:function(a,b){if(this.canGroup()){var c=this.getRow(a);c&&this.toggleGroup(this.findGroup(c),b)}},toggleGroup:function(a,b){var c=Ext.get(a),b=Ext.isDefined(b)?b:c.hasClass("x-grid-group-collapsed");this.state[c.id]!==b&&(this.grid.stopEditing(!0),this.state[c.id]=b,c[b?"removeClass":"addClass"]("x-grid-group-collapsed"))},toggleAllGroups:function(a){for(var b=this.getGroups(),c=0,d=b.length;c<d;c++)this.toggleGroup(b[c],a)},expandAllGroups:function(){this.toggleAllGroups(!0)},
collapseAllGroups:function(){this.toggleAllGroups(!1)},interceptMouse:function(a){var b=a.getTarget(".x-grid-group-hd",this.mainBody);b&&(a.stopEvent(),this.toggleGroup(b.parentNode))},getGroup:function(a,b,c,d,g,h){a=c?c(a,{},b,d,g,h):String(a);if(""===a||"&#160;"===a)a=this.cm.config[g].emptyGroupText||this.emptyGroupText;return a},getGroupField:function(){return this.grid.store.getGroupState()},afterRender:function(){this.ds&&this.cm&&(Ext.grid.GroupingView.superclass.afterRender.call(this),this.grid.deferRowRender&&
this.updateGroupWidths())},renderRows:function(){var a=this.getGroupField(),b=!!a;if(this.hideGroupedColumn){var c=this.cm.findColumnIndex(a),d=Ext.isDefined(this.lastGroupField);!b&&d?(this.mainBody.update(""),this.cm.setHidden(this.cm.findColumnIndex(this.lastGroupField),!1),delete this.lastGroupField):b&&!d?(this.lastGroupField=a,this.cm.setHidden(c,!0)):b&&(d&&a!==this.lastGroupField)&&(this.mainBody.update(""),b=this.cm.findColumnIndex(this.lastGroupField),this.cm.setHidden(b,!1),this.lastGroupField=
a,this.cm.setHidden(c,!0))}return Ext.grid.GroupingView.superclass.renderRows.apply(this,arguments)},doRender:function(a,b,c,d,g,h){if(1>b.length)return"";if(!this.canGroup()||this.isUpdating)return Ext.grid.GroupingView.superclass.doRender.apply(this,arguments);var l=this.getGroupField(),n=this.cm.findColumnIndex(l),q,r="width:"+this.getTotalWidth()+";";q=this.cm.config[n];var s=q.groupRenderer||q.renderer,p=this.showGroupName?(q.groupName||q.header)+": ":"",v=[],t,A,w,C;A=0;for(w=b.length;A<w;A++){var z=
d+A,D=b[A],G=D.data[l];q=this.getGroup(G,D,s,z,n,c);!t||t.group!=q?(C=this.constructId(G,l,n),this.state[C]=!(Ext.isDefined(this.state[C])?!this.state[C]:this.startCollapsed),t={group:q,gvalue:G,text:p+q,groupId:C,startRow:z,rs:[D],cls:this.state[C]?"":"x-grid-group-collapsed",style:r},v.push(t)):t.rs.push(D);D._groupId=C}l=[];A=0;for(w=v.length;A<w;A++)q=v[A],this.doGroupStart(l,q,a,c,g),l[l.length]=Ext.grid.GroupingView.superclass.doRender.call(this,a,q.rs,c,q.startRow,g,h),this.doGroupEnd(l,q,
a,c,g);return l.join("")},getGroupId:function(a){var b=this.getGroupField();return this.constructId(a,b,this.cm.findColumnIndex(b))},constructId:function(a,b,c){var d=this.cm.config[c],d=d.groupRenderer||d.renderer,a="value"==this.groupMode?a:this.getGroup(a,{data:{}},d,0,c,this.ds);return this.getPrefix(b)+Ext.util.Format.htmlEncode(a)},canGroup:function(){return this.enableGrouping&&!!this.getGroupField()},getPrefix:function(a){return this.grid.getGridEl().id+"-gp-"+a+"-"},doGroupStart:function(a,
b){a[a.length]=this.startGroup.apply(b)},doGroupEnd:function(a){a[a.length]=this.endGroup},getRows:function(){if(!this.canGroup())return Ext.grid.GroupingView.superclass.getRows.call(this);for(var a=[],b=this.getGroups(),c,d=0,g=b.length,h,l;d<g;++d)if(c=b[d].childNodes[1]){c=c.childNodes;h=0;for(l=c.length;h<l;++h)a[a.length]=c[h]}return a},updateGroupWidths:function(){if(this.canGroup()&&this.hasRows())for(var a=Math.max(this.cm.getTotalWidth(),this.el.dom.offsetWidth-this.getScrollOffset())+"px",
b=this.getGroups(),c=0,d=b.length;c<d;c++)b[c].firstChild.style.width=a},onColumnWidthUpdated:function(a,b,c){Ext.grid.GroupingView.superclass.onColumnWidthUpdated.call(this,a,b,c);this.updateGroupWidths()},onAllColumnWidthsUpdated:function(a,b){Ext.grid.GroupingView.superclass.onAllColumnWidthsUpdated.call(this,a,b);this.updateGroupWidths()},onColumnHiddenUpdated:function(a,b,c){Ext.grid.GroupingView.superclass.onColumnHiddenUpdated.call(this,a,b,c);this.updateGroupWidths()},onLayout:function(){this.updateGroupWidths()},
onBeforeRowSelect:function(a,b){this.toggleRowIndex(b,!0)}});Ext.grid.GroupingView.GROUP_ID=1E3;(function(){function a(a,b,c){d.addEventListener?a.addEventListener(b,c,!1):d.attachEvent&&a.attachEvent("on"+b,function(){c.call(a,d.event)})}function b(a,b){a.className=a.className.replace(RegExp("(\\s|^)"+b+"(\\s|$)")," ")}var c=document,d=window,g,h=c.createElement("div");g=function(a){h.innerHTML=a;a=h.childNodes[0];h.removeChild(a);return a};var l=document.documentElement.getBoundingClientRect?function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,a=c.body,c=c.documentElement,d=c.clientTop||
a.clientTop||0,g=c.clientLeft||a.clientLeft||0,h=1;a.getBoundingClientRect&&(h=a.getBoundingClientRect(),h=(h.right-h.left)/a.clientWidth);1<h&&(g=d=0);return{top:b.top/h+(window.pageYOffset||c&&c.scrollTop/h||a.scrollTop/h)-d,left:b.left/h+(window.pageXOffset||c&&c.scrollLeft/h||a.scrollLeft/h)-g}}:function(a){if(d.jQuery)return jQuery(a).offset();var b=0,c=0;do b+=a.offsetTop||0,c+=a.offsetLeft||0;while(a=a.offsetParent);return{left:c,top:b}},n,q=0;n=function(){return"ValumsAjaxUpload"+q++};var r,
s;r=function(){if(s)return s;if("undefined"!==typeof XMLHttpRequest)s=new XMLHttpRequest;else for(var a=["Microsoft.XmlHttp","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0"],b=0;b<a.length;b++)try{s=new ActiveXObject(a[b]);break}catch(c){}return s};Ajax_upload=AjaxUpload=function(a,b){a.jquery?a=a[0]:"string"==typeof a&&/^#.*/.test(a)&&(a=a.slice(1));var d=a;"string"==typeof d&&(d=c.getElementById(d));this._input=null;this._button=d;this._justClicked=this._submitting=
this._disabled=!1;this._parentDialog=c.body;window.jQuery&&(jQuery.ui&&jQuery.ui.dialog)&&(d=jQuery(this._button).parents(".ui-dialog"),d.length&&(this._parentDialog=d[0]));this._settings={action:"upload.php",name:"userfile",data:{},autoSubmit:!0,responseType:!1,closeConnection:"",hoverClass:"hover",onChange:function(){},onSubmit:function(){},onComplete:function(){}};for(var g in b)this._settings[g]=b[g];this._createInput();this._rerouteClicks()};AjaxUpload.prototype={setData:function(a){this._settings.data=
a},disable:function(){this._disabled=!0},enable:function(){this._disabled=!1},destroy:function(){this._input&&(this._input.parentNode&&this._input.parentNode.removeChild(this._input),this._input=null)},_createInput:function(){var b=this,d=c.createElement("input");d.setAttribute("type","file");d.setAttribute("name",this._settings.name);var g={position:"absolute",margin:"-5px 0 0 -175px",padding:0,width:"220px",height:"30px",fontSize:"14px",opacity:0,cursor:"pointer",display:"none",zIndex:2147483583},
h;for(h in g)d.style[h]=g[h];"0"!==d.style.opacity&&(d.style.filter="alpha(opacity=0)");this._parentDialog.appendChild(d);a(d,"change",function(){var a=this.value.replace(/.*(\/|\\)/,"");!1!=b._settings.onChange.call(b,a,/[.]/.exec(a)?/[^.]+$/.exec(a.toLowerCase()):"")&&b._settings.autoSubmit&&b.submit()});a(d,"click",function(){b._justClicked=!0;setTimeout(function(){b._justClicked=!1},2500)});this._input=d},_rerouteClicks:function(){var d,g,h,n,q=this,r={top:0,left:0},s=!1;a(q._button,"mouseover",
function(){if(q._input&&!s){s=!0;var a=q._button,b,E,F;E=l(a);b=E.left;F=E.top;E=b+a.offsetWidth;d=b;g=E;h=F;n=F+a.offsetHeight;q._parentDialog!=c.body&&(r=l(q._parentDialog))}});a(document,"mousemove",function(a){var l,E=q._input;if(E&&s)if(q._disabled)b(q._button,q._settings.hoverClass),E.style.display="none";else{if(!a.pageX&&a.clientX){var F=1;l=document.body;l.getBoundingClientRect&&(F=l.getBoundingClientRect(),F=(F.right-F.left)/l.clientWidth);l=a.clientX/F+c.body.scrollLeft+c.documentElement.scrollLeft;
a=a.clientY/F+c.body.scrollTop+c.documentElement.scrollTop}else l=a.pageX,a=a.pageY;if(l>=d&&l<=g&&a>=h&&a<=n)E.style.top=a-r.top+"px",E.style.left=l-r.left+"px",E.style.display="block",a=q._button,l=q._settings.hoverClass,a.className.match(RegExp("(\\s|^)"+l+"(\\s|$)"))||(a.className+=" "+l);else{s=!1;var B=setInterval(function(){q._justClicked||(s||(E.style.display="none"),clearInterval(B))},25);b(q._button,q._settings.hoverClass)}}})},_createIframe:function(){var a=n(),b=g('<iframe src="javascript:false;" name="'+
a+'" />');b.id=a;b.style.display="none";c.body.appendChild(b);return b},submit:function(){var b=this,d=this._settings;if(""!==this._input.value){var g=this._input.value.replace(/.*(\/|\\)/,"");if(!1!=d.onSubmit.call(this,g,/[.]/.exec(g)?/[^.]+$/.exec(g.toLowerCase()):"")){var h=this._createIframe(),l=this._createForm(h);l.appendChild(this._input);if(d.closeConnection&&/AppleWebKit|MSIE/.test(navigator.userAgent)){var n=r();n.open("GET",d.closeConnection,!1);n.send("")}l.submit();c.body.removeChild(l);
this._input=l=null;this._createInput();var q=!1;a(h,"load",function(){if("javascript:'%3Chtml%3E%3C/html%3E';"==h.src||"javascript:'<html></html>';"==h.src)q&&setTimeout(function(){c.body.removeChild(h)},0);else{var a=h.contentDocument?h.contentDocument:frames[h.id].document;if(!(a.readyState&&"complete"!=a.readyState)&&!(a.body&&"false"==a.body.innerHTML)){var l;a.XMLDocument?l=a.XMLDocument:a.body?(l=a.body.innerHTML,d.responseType&&"json"==d.responseType.toLowerCase()&&(a.body.firstChild&&"PRE"==
a.body.firstChild.nodeName.toUpperCase()&&(l=a.body.firstChild.firstChild.nodeValue),l=l?window.eval("("+l+")"):{})):l=a;d.onComplete.call(b,g,l);q=!0;h.src="javascript:'<html></html>';"}}})}else c.body.removeChild(this._input),this._input=null,this._createInput()}},_createForm:function(a){var b=this._settings,d=g('<form method="post" enctype="multipart/form-data"></form>');d.style.display="none";d.action=b.action;d.target=a.name;c.body.appendChild(d);for(var h in b.data)a=c.createElement("input"),
a.type="hidden",a.name=h,a.value=b.data[h],d.appendChild(a);return d}}})();var edu=edu||{};edu.wustl=edu.wustl||{};edu.wustl.de=edu.wustl.de||{};edu.wustl.de.sm={};edu.wustl.de.currentpage;edu.wustl.de.defaultValues={};edu.wustl.de.initSurveyForm=function(){edu.wustl.de.surveyForm=new edu.wustl.de.CategorySurveyMode({ctx:$("#sm-category"),categoryid:$("#categoryId").val()});edu.wustl.de.surveyForm.load()};
edu.wustl.de.CategorySurveyMode=function(a){if(void 0==a.ctx)throw"ctx undefined";if(void 0==a.categoryid)throw"categoryid undefined";this.ctx=a.ctx;this.categoryid=a.categoryid;this.pages=[];edu.wustl.de.currentpage=0;this.navbar=new edu.wustl.de.Navbar({ctx:$("#sm-navbar")});this.progressbar=new edu.wustl.de.ProgressBar({ctx:$("#sm-progressbar")})};
edu.wustl.de.CategorySurveyMode.prototype.bind=function(){var a=this;$("input:radio").live("change",function(){void 0==edu.wustl.de.defaultValues[$(this).attr("name")]&&(edu.wustl.de.defaultValues[$(this).attr("name")]=$(this).val(),$("#emptyControlsCount").val($("#emptyControlsCount").val()-1),a.updateProgress())});$("input:checkbox").live("change",function(){var b=edu.wustl.de.defaultValues[$(this).attr("name")],c=$(this).attr("name");if(void 0==$("input[name="+c+"]:checked").val())$("#emptyControlsCount").val(parseInt($("#emptyControlsCount").val())+
1),$(this).attr("defaultValue",""),edu.wustl.de.defaultValues[$(this).attr("name")]="",a.updateProgress();else if(void 0==b||""==b)edu.wustl.de.defaultValues[$(this).attr("name")]=$(this).val(),$("#emptyControlsCount").val($("#emptyControlsCount").val()-1),a.updateProgress()});$("input:text").live("change",function(){""==$(this).attr("defaultValue")&&""!=$(this).val()?($(this).attr("defaultValue",$(this).val()),edu.wustl.de.defaultValues[$(this).attr("name")]=$(this).val(),$("#emptyControlsCount").val($("#emptyControlsCount").val()-
1),a.updateProgress()):""==$(this).val()&&($("#emptyControlsCount").val(parseInt($("#emptyControlsCount").val())+1),$(this).attr("defaultValue",""),edu.wustl.de.defaultValues[$(this).attr("name")]="",a.updateProgress())});$("select").live("click",function(){var b=edu.wustl.de.defaultValues[$(this).attr("name")];void 0==b||""==b?(edu.wustl.de.defaultValues[$(this).attr("name")]=$(this).val(),$("#emptyControlsCount").val($("#emptyControlsCount").val()-1),a.updateProgress()):null==$(this).val()&&($("#emptyControlsCount").val(parseInt($("#emptyControlsCount").val())+
1),$(this).attr("defaultValue",""),edu.wustl.de.defaultValues[$(this).attr("name")]="",a.updateProgress())});$("textarea").live("change",function(){""==$(this).attr("defaultValue")&&""!=$(this).val()?($(this).attr("defaultValue",$(this).val()),edu.wustl.de.defaultValues[$(this).attr("name")]=$(this).val(),$("#emptyControlsCount").val($("#emptyControlsCount").val()-1),a.updateProgress()):""==$(this).val()&&($("#emptyControlsCount").val(parseInt($("#emptyControlsCount").val())+1),$(this).attr("defaultValue",
""),edu.wustl.de.defaultValues[$(this).attr("name")]="",a.updateProgress())});this.navbar.register({type:"button",label:"Previous",cssClass:"button-secondary",handler:function(){if(!a.isErrorsExist({skipMandatory:"true"}))for(var b=edu.wustl.de.currentpage;;)if(a.hide(),edu.wustl.de.currentpage-=1,a.show(),0<$(this.ctx).find(".control_caption:visible").length||0>=edu.wustl.de.currentpage){0>=edu.wustl.de.currentpage&&0>$(this.ctx).find(".control_caption:visible").length&&(a.hide(),edu.wustl.de.currentpage=
b,a.show());break}}});this.navbar.register({type:"button",label:"Save as Draft",cssClass:"button-secondary",handler:function(){a.isErrorsExist({skipMandatory:"true"})||($("#isDraft").val("true"),$("#sm-form").submit())}});this.navbar.register({type:"button",label:"Save",cssClass:"button-primary",handler:function(){a.isErrorsExist({skipMandatory:"false"})||$("#sm-form").submit()}});this.navbar.register({type:"button",label:"Next",cssClass:"button-primary",handler:function(){if(!a.isErrorsExist({skipMandatory:"false"}))for(var b=
edu.wustl.de.currentpage;;)if(a.hide(),edu.wustl.de.currentpage+=1,a.show(),0<$(this.ctx).find(".control_caption:visible").length||edu.wustl.de.currentpage>=a.pages.length-1){edu.wustl.de.currentpage>=a.pages.length-1&&0>$(this.ctx).find(".control_caption:visible").length&&(a.hide(),edu.wustl.de.currentpage=b,a.show());break}}})};edu.wustl.de.CategorySurveyMode.prototype.loadAllPages=function(){$.each(this.pages,function(a,b){b.load()})};
edu.wustl.de.CategorySurveyMode.prototype.tidyNavbar=function(){"true"==$("#updateResponse").val()?(this.navbar.show({label:"Save"}),this.navbar.hide({label:"Previous"}),this.navbar.hide({label:"Next"}),this.navbar.hide({label:"Save as Draft"})):(0==edu.wustl.de.currentpage?this.navbar.hide({label:"Previous"}):this.navbar.show({label:"Previous"}),edu.wustl.de.currentpage==this.pages.length-1?(this.navbar.hide({label:"Next"}),this.navbar.show({label:"Save"})):(this.navbar.hide({label:"Save"}),this.navbar.show({label:"Next"})))};
edu.wustl.de.CategorySurveyMode.prototype.load=function(){$("#sm-category-name").append($("#categoryName").val());this.init();this.bind();this.updateProgress();"true"!=$("#updateResponse").val()&&(edu.wustl.de.currentpage=parseInt($("#displayPage").val()),-1==edu.wustl.de.currentpage&&(edu.wustl.de.currentpage=0));this.show();this.loadAllPages()};
edu.wustl.de.CategorySurveyMode.prototype.init=function(){$(".sm-page",this.ctx).each(function(a,b){return function(c,d){b.push(new edu.wustl.de.Page({ctx:d,categoryid:a,pageid:$(d).attr("id")}));0<$("#pageId").length&&$("#pageId").val()==$(d).attr("id")&&(edu.wustl.de.currentpage=c)}}(this.categoryid,this.pages))};edu.wustl.de.CategorySurveyMode.prototype.hide=function(){this.pages[edu.wustl.de.currentpage].hide()};
edu.wustl.de.CategorySurveyMode.prototype.show=function(){this.pages[edu.wustl.de.currentpage].show();edu.wustl.de.currentpage<this.pages.length-1&&this.pages[edu.wustl.de.currentpage+1].load();this.tidyNavbar()};edu.wustl.de.CategorySurveyMode.prototype.updateProgress=function(){var a=$("#controlsCount").val(),b=$("#emptyControlsCount").val(),a=Math.round(100*(a-b)/a);this.progressbar.set({percentage:a})};
edu.wustl.de.CategorySurveyMode.prototype.isErrorsExist=function(a){var b=!1;0<$(".font_bl_nor_error").length&&(b=!0,alert("Cannot perform action, errors on the form."));"true"!=a.skipMandatory&&$(".sm-page",this.ctx).each(function(){$(this).is(":visible")&&$(this).find(".required-field-marker").each(function(){var a=edu.wustl.de.defaultValues[$(this).attr("name")],d=$(this).attr("name");if($(this).is(":visible")&&(""==a||void 0==a)){if("text"==$(this).attr("type")||"select"==$(this).attr("type")||
"select-multiple"==$(this).attr("type"))if(""==$(this).val()||void 0==$(this).val())return b=!0,alert("Please enter values for the mandatory field(s)."),!1;if(("radio"==$(this).attr("type")||"checkbox"==$(this).attr("type"))&&void 0==$("input[name="+d+"]:checked").val())return b=!0,alert("Please enter values for the mandatory field(s)."),!1}})});return b};
edu.wustl.de.Page=function(a){if(void 0==a.ctx)throw"ctx undefined";if(void 0==a.categoryid)throw"categoryid undefined";if(void 0==a.pageid)throw"pageid undefined";this.ctx=a.ctx;this.prettified=!1};
edu.wustl.de.Page.prototype.load=function(){this.pretty();$("input:radio",this.ctx).each(function(){!0==$(this).attr("checked")&&(edu.wustl.de.defaultValues[$(this).attr("name")]=$(this).val())});$("select",this.ctx).each(function(){null!=$(this).val()&&(edu.wustl.de.defaultValues[$(this).attr("name")]=$(this).val())})};
edu.wustl.de.Page.prototype.pretty=function(){!0!=this.prettified&&($(".formRequiredLabel_withoutBorder",this.ctx).each(function(){$(this).addClass("de_pagebreak")}),$(".formField_withoutBorder",this.ctx).each(function(){$(this).addClass("de_pagebreak")}),$("input+label",this.ctx).each(function(){$(this).addClass("de_pagebreak")}),this.prettified=!0)};edu.wustl.de.Page.prototype.show=function(){this.load();$(this.ctx).show()};edu.wustl.de.Page.prototype.hide=function(){$(this.ctx).hide()};
edu.wustl.de.Navbar=function(a){if(void 0==a.ctx)throw"ctx undefined";this.actions={};this.ctx=a.ctx};
edu.wustl.de.Navbar.prototype.register=function(a){if(void 0==a.type)throw"type undefined";if(void 0==a.label)throw"label undefined";if(void 0==a.handler)throw"handler undefined";var b=void 0;switch(a.type){default:b=$("<input type='button'></input>"),$(b).attr("class","navaction"),$(b).addClass(a.cssClass),$(b).attr("id",a.label),$(b).attr("value",a.label),$(b).click(a.handler),$(this.ctx).append(b),this.actions[a.label]=b}};
edu.wustl.de.Navbar.prototype.get=function(a){if(void 0==a.label)throw"label undefined";return this.actions[a.label]};edu.wustl.de.Navbar.prototype.disable=function(a){if(void 0==a.label)throw"label undefined";this.actions[a.label].attr("disabled","disabled")};edu.wustl.de.Navbar.prototype.hide=function(a){if(void 0==a.label)throw"label undefined";this.actions[a.label].hide()};edu.wustl.de.Navbar.prototype.show=function(a){if(void 0==a.label)throw"label undefined";this.actions[a.label].show()};
edu.wustl.de.Navbar.prototype.enable=function(a){if(void 0==a.label)throw"label undefined";this.actions[a.label].removeAttr("disabled")};edu.wustl.de.ProgressBar=function(a){if(void 0==a.ctx)throw"ctx undefined";this.ctx=a.ctx;this.extpb=new Ext.ProgressBar({text:"0% complete"});this.extpb.render($(this.ctx)[0].id);this.currentProgress=0};
edu.wustl.de.ProgressBar.prototype.set=function(a){if(void 0==a.percentage)throw"float value undefined";this.currentProgress=a.percentage;this.extpb.updateProgress(this.currentProgress/100);this.extpb.updateText(this.currentProgress+"% complete")};edu.wustl.de.ProgressBar.prototype.increment=function(a){if(void 0==a.percentage)throw"percentage undefined";this.set({percentage:this.currentProgress+a.percentage})};
edu.wustl.de.Request=function(a){if(void 0==a.url)throw"url undefined";if(void 0==a.onsuccess)throw"onsuccess undefined";var b=void 0;this.load=function(){if(void 0==b)$.ajax({url:a.url,success:function(c){b=c;a.onsuccess(c)},error:function(a){console.log(a)}});else a.onsuccess(b)}};