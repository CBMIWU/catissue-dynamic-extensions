<?xml version="1.0"?>

<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 2.0//EN" 
    "http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">

<hibernate-mapping>
    <class
        name="edu.common.dynamicextensions.domain.AbstractMetadata"
        table="DYEXTN_ABSTRACT_METADATA"
        dynamic-update="false"
        dynamic-insert="false"
    >

        <id
            name="id"
            column="IDENTIFIER"
            type="long"
            length="30"
            unsaved-value="null"
        >
            <generator class="native">
                <param name="sequence">DYEXTN_ABSTRACT_METADATA_SEQ</param>
            </generator>
        </id>

        <property
            name="createdDate"
            type="date"
            update="true"
            insert="true"
            column="CREATED_DATE"
        />

        <property
            name="description"
            type="string"
            update="true"
            insert="true"
            column="DESCRIPTION"
        />

        <property
            name="lastUpdated"
            type="date"
            update="true"
            insert="true"
            column="LAST_UPDATED"
        />

        <property
            name="name"
            type="string"
            update="true"
            insert="true"
            column="NAME"
        />

        <set
            name="semanticPropertyCollection"
            lazy="false"
            inverse="false"
            cascade="save-update"
            sort="unsorted"
        >

              <key
                  column="ABSTRACT_METADATA_ID"
              />

              <one-to-many
                  class="edu.common.dynamicextensions.domain.SemanticProperty"
              />
        </set>

        <!--
            To add non XDoclet property mappings, create a file named
                hibernate-properties-AbstractMetadata.xml
            containing the additional properties and place it in your merge dir.
        -->

        <joined-subclass
            name="edu.common.dynamicextensions.domain.EntityGroup"
            table="DYEXTN_ENTITY_GROUP"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />

        <set
            name="entityCollection"
            table="DYEXTN_ENTITY_GROUP_REL"
            lazy="false"
            inverse="false"
            cascade="none"
            sort="unsorted"
        >

              <key
                  column="ENTITY_GROUP_ID"
              />

              <many-to-many
                  class="edu.common.dynamicextensions.domain.Entity"
                  column="ENTITY_ID"
                  outer-join="auto"
              />

        </set>

        <property
            name="longName"
            type="string"
            update="true"
            insert="true"
            column="LONG_NAME"
        />

        <property
            name="shortName"
            type="string"
            update="true"
            insert="true"
            column="SHORT_NAME"
        />

        <property
            name="version"
            type="string"
            update="true"
            insert="true"
            column="VERSION"
        />

        </joined-subclass>
        <joined-subclass
            name="edu.common.dynamicextensions.domain.Entity"
            table="DYEXTN_ENTITY"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />

        <set
            name="attributeCollection"
            table="DYEXTN_ATTRIBUTE"
            lazy="false"
            inverse="false"
            cascade="save-update"
            sort="unsorted"
        >

              <key
                  column="ATTRIBUTE_ID"
              />

              <one-to-many
                  class="edu.common.dynamicextensions.domain.Attribute"
              />
        </set>

        <set
            name="entityGroupCollection"
            table="DYEXTN_ENTITY_GROUP_REL"
            lazy="false"
            inverse="true"
            cascade="none"
            sort="unsorted"
        >

              <key
                  column="ENTITY_ID"
              />

              <many-to-many
                  class="edu.common.dynamicextensions.domain.EntityGroup"
                  column="ENTITY_GROUP_ID"
                  outer-join="auto"
              />

        </set>

        <set
            name="tablePropertiesCollection"
            table="DYEXTN_TABLE_PROPERTIES"
            lazy="false"
            inverse="false"
            cascade="save-update"
            sort="unsorted"
        >

              <key
                  column="ENTITY_ID"
              />

              <one-to-many
                  class="edu.common.dynamicextensions.domain.databaseproperties.TableProperties"
              />
        </set>

        </joined-subclass>
        <joined-subclass
            name="edu.common.dynamicextensions.domain.Attribute"
            table="DYEXTN_ATTRIBUTE"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />

        <set
            name="ruleCollection"
            table="DYEXTN_RULE"
            lazy="false"
            inverse="false"
            cascade="save-update"
            sort="unsorted"
        >

              <key
                  column="ATTRIBUTE_ID"
              />

              <one-to-many
                  class="edu.common.dynamicextensions.domain.validationrules.Rule"
              />
        </set>

        <joined-subclass
            name="edu.common.dynamicextensions.domain.PrimitiveAttribute"
            table="DYEXTN_PRIMITIVE_ATTRIBUTE"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />
        <property
            name="isCollection"
            type="boolean"
            update="true"
            insert="true"
            column="IS_COLLECTION"
        />

        <property
            name="isIdentified"
            type="boolean"
            update="true"
            insert="true"
            column="IS_IDENTIFIED"
        />

        <property
            name="isPrimaryKey"
            type="boolean"
            update="true"
            insert="true"
            column="IS_PRIMARY_KEY"
        />

        <set
            name="columnPropertiesCollection"
            table="DYEXTN_COLUMN_PROPERTIES"
            lazy="false"
            inverse="false"
            cascade="save-update"
            sort="unsorted"
        >

              <key
                  column="PRIMITIVE_ATTRIBUTE_ID"
              />

              <one-to-many
                  class="edu.common.dynamicextensions.domain.databaseproperties.ColumnProperties"
              />
        </set>

        <set
            name="dataElementCollection"
            table="DYEXTN_DATA_ELEMENT"
            lazy="false"
            inverse="false"
            cascade="save-update"
            sort="unsorted"
        >

              <key
                  column="PRIMITIVE_ATTRIBUTE_ID"
              />

              <one-to-many
                  class="edu.common.dynamicextensions.domain.DataElement"
              />
        </set>

        <joined-subclass
            name="edu.common.dynamicextensions.domain.ShortAttribute"
            table="DYEXTN_SHORT_ATTRIBUTE"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />

        <property
            name="defaultValue"
            type="short"
            update="true"
            insert="true"
            column="DEFAULT_VALUE"
        />

        <property
            name="measurementUnits"
            type="string"
            update="true"
            insert="true"
            column="MEASUREMENT_UNITS"
        />

        </joined-subclass>
        <joined-subclass
            name="edu.common.dynamicextensions.domain.LongAttribute"
            table="DYEXTN_LONG_ATTRIBUTE"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />

        <property
            name="defaultValue"
            type="long"
            update="true"
            insert="true"
            column="DEFAULT_VALUE"
        />

        <property
            name="measurementUnits"
            type="string"
            update="true"
            insert="true"
            column="MEASUREMENT_UNITS"
        />

        </joined-subclass>
        <joined-subclass
            name="edu.common.dynamicextensions.domain.IntegerAttribute"
            table="DYEXTN_INTEGER_ATTRIBUTE"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />

        <property
            name="defaultValue"
            type="integer"
            update="true"
            insert="true"
            column="DEFAULT_VALUE"
        />

        <property
            name="measurementUnits"
            type="string"
            update="true"
            insert="true"
            column="MEASUREMENT_UNITS"
        />

        </joined-subclass>
        <joined-subclass
            name="edu.common.dynamicextensions.domain.StringAttribute"
            table="DYEXTN_STRING_ATTRIBUTE"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />

        <property
            name="defaultValue"
            type="string"
            update="true"
            insert="true"
            column="DEFAULT_VALUE"
        />

        <property
            name="size"
            type="integer"
            update="true"
            insert="true"
            column="MAX_SIZE"
        />

        </joined-subclass>
        <joined-subclass
            name="edu.common.dynamicextensions.domain.ByteArrayAttribute"
            table="DYEXTN_BYTE_ARRAY_ATTRIBUTE"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />

        <property
            name="contentType"
            type="string"
            update="true"
            insert="true"
            column="CONTENT_TYPE"
        />

        </joined-subclass>
        <joined-subclass
            name="edu.common.dynamicextensions.domain.FloatAttribute"
            table="DYEXTN_FLOAT_ATTRIBUTE"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />

        <property
            name="defaultValue"
            type="float"
            update="true"
            insert="true"
            column="DEFAULT_VALUE"
        />

        <property
            name="measurementUnits"
            type="string"
            update="true"
            insert="true"
            column="MEASUREMENT_UNITS"
        />

        </joined-subclass>
        <joined-subclass
            name="edu.common.dynamicextensions.domain.BooleanAttribute"
            table="DYEXTN_BOOLEAN_ATTRIBUTE"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />
        <property
            name="defaultValue"
            type="boolean"
            update="true"
            insert="true"
            column="DEFAULT_VALUE"
        />

        </joined-subclass>
        <joined-subclass
            name="edu.common.dynamicextensions.domain.DateAttribute"
            table="DYEXTN_DATE_ATTRIBUTE"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />

        <property
            name="defaultValue"
            type="date"
            update="true"
            insert="true"
            column="DEFAULT_VALUE"
        />

        <property
            name="format"
            type="string"
            update="true"
            insert="true"
            column="FORMAT"
        />

        </joined-subclass>
        <joined-subclass
            name="edu.common.dynamicextensions.domain.DoubleAttribute"
            table="DYEXTN_DOUBLE_ATTRIBUTE"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />

        <property
            name="defaultValue"
            type="double"
            update="true"
            insert="true"
            column="DEFAULT_VALUE"
        />

        <property
            name="measurementUnits"
            type="string"
            update="true"
            insert="true"
            column="MEASUREMENT_UNITS"
        />

        </joined-subclass>

        </joined-subclass>
        <joined-subclass
            name="edu.common.dynamicextensions.domain.Association"
            table="DYEXTN_ASSOCIATION"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="IDENTIFIER"
        />
        <property
            name="direction"
            type="string"
            update="true"
            insert="true"
            column="DIRECTION"
        />

        <set
            name="sourceEntityCollection"
            table="DYEXTN_ENTITY"
            lazy="false"
            inverse="false"
            cascade="save-update"
            sort="unsorted"
        >

              <key
                  column="ASSOCIATION_ID"
              />

              <one-to-many
                  class="edu.common.dynamicextensions.domain.Entity"
              />
        </set>

        <set
            name="targetEntityCollection"
            table="DYEXTN_ENTITY"
            lazy="false"
            inverse="false"
            cascade="save-update"
            sort="unsorted"
        >

              <key
                  column="ASSOCIATION_ID"
              />

              <one-to-many
                  class="edu.common.dynamicextensions.domain.Entity"
              />
        </set>

        <set
            name="sourceRoleCollection"
            lazy="false"
            inverse="false"
            cascade="none"
            sort="unsorted"
        >

              <key
                  column="ASSOCIATION_ID"
              />

              <one-to-many
                  class="edu.common.dynamicextensions.domain.Role"
              />
        </set>

        <set
            name="targetRoleCollection"
            lazy="false"
            inverse="false"
            cascade="none"
            sort="unsorted"
        >

              <key
                  column="ASSOCIATION_ID"
              />

              <one-to-many
                  class="edu.common.dynamicextensions.domain.Role"
              />
        </set>

        <set
            name="constraintPropertiesCollection"
            table="DYEXTN_CONSTRAINT_PROPERTIES"
            lazy="false"
            inverse="false"
            cascade="save-update"
            sort="unsorted"
        >

              <key
                  column="ASSOCIATION_ID"
              />

              <one-to-many
                  class="edu.common.dynamicextensions.domain.databaseproperties.ConstraintProperties"
              />
        </set>

        </joined-subclass>

        </joined-subclass>

    </class>

</hibernate-mapping>
